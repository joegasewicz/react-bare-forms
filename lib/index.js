!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-bare-lib"]=e(require("react")):t["react-bare-lib"]=e(t.react)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"k",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"j",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"h",(function(){return v})),n.d(e,"d",(function(){return b})),n.d(e,"i",(function(){return O}));var r,o=n(0),a=n.n(o),i=n(3),u=n(8),c=n(4),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.TEXT="text",t.EMAIL="email",t.PASSWORD="password",t.TEXTAREA="textArea",t.RADIO="radio",t.CHECKBOX="checkbox",t.SELECT="select",t.FILE="file"}(r||(r={}));var p=function(t){return new c.c(r.TEXT,t).create()},f=function(t){return new c.c(r.EMAIL,t).create()},l=function(t){return new c.c(r.PASSWORD,t).create()},d=function(t){return new c.a(r.CHECKBOX,t).create()},h=function(t){return new c.i(r.TEXTAREA,t).create()};function m(t){var e={parent:{name:t.name},children:t.children};return a.a.createElement(i.e.Provider,{value:e},t.children)}var y=function(t){return new c.g(r.RADIO,t).create()},v=function(t){return new c.h(r.SELECT,t).create()},b=a.a.forwardRef((function(t,e){var n=s(s({},t),{ref:e});return new c.b(r.FILE,n).create()})),O=(new u.a).create()},function(t,e,n){"use strict";n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return O})),n.d(e,"c",(function(){return c.a})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"h",(function(){return d})),n.d(e,"g",(function(){return y})),n.d(e,"i",(function(){return h}));var r=n(0),o=n.n(r),a=n(3);function i(t){var e=t.results,n=t.styles;return o.a.createElement(o.a.Fragment,null,e.map((function(t){return t.messages.map((function(t,e){return o.a.createElement("div",{key:e,className:n},t)}))})))}var u=function(t){var e=Object(r.useContext)(a.c).bare?t.className:"alert mt-2 alert-danger "+t.className;return t.isTouched?o.a.createElement(i,{results:t.results,styles:e||""}):null},c=n(7),s=n(6);function p(t){var e=Object(s.b)(t);return e?{name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,size:e.size,type:e.type}:null}var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t,e,n){var r;return void 0===e&&(e=""),void 0===n&&(n={}),e?((r={})[e]=f(f({},t[e]),n),r):f(f({},t),n)}function d(t,e,n){return void 0===n&&(n=""),function(r,o){var a;e(f(f({},t),l(t,n,((a={})[o]=r.target.value,a))))}}function h(t,e,n){return void 0===n&&(n=""),function(r,o,a){var i,u;if(a){for(var c=f(f({},t),l(t,n,((i={})[o]=!0,i))),s=0,p=a.children;s<p.length;s++){var d=p[s];d.props.name!==o&&(c=f(f({},c),l(c,n,((u={})[d.props.name]=!1,u))))}e(c)}}}var m=n(1);function y(t,e,n){var r="";return n||(r+=t+" "),e&&(r+=""+e),r}function v(t){switch(t){case m.c.TEXT:case m.c.EMAIL:case m.c.PASSWORD:case m.c.TEXTAREA:return a.d.INPUTS;case m.c.RADIO:return a.d.RADIO_GROUPS;case m.c.CHECKBOX:return a.d.CHECKBOXES;case m.c.SELECT:return a.d.INPUTS;case m.c.FILE:return a.d.FILES;default:return a.d.INPUTS}}function b(t){switch(t){case m.c.TEXT:case m.c.EMAIL:case m.c.PASSWORD:case m.c.TEXTAREA:return"value";case m.c.CHECKBOX:return"checked";case m.c.SELECT:return"value";case m.c.FILE:return"file";case m.c.RADIO:return"checked";default:return"value"}}var O=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return g}));var r,o=n(0),a=n.n(o),i=n(2),u=n(4),c=n(7),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.INPUTS="inputs",t.RADIO_GROUPS="radioGroups",t.FILES="files",t.CHECKBOXES="checkboxes"}(r||(r={}));var p={},f={},l={},d={},h={bare:!1,state:{},formKey:null,debug:!1,dynamic:!0,metadata:{inputs:null,radioGroups:null,files:null,checkboxes:null}},m=a.a.createContext(f),y=a.a.createContext(h),v=y.Provider,b=y.Consumer,O=function(t){return function(e){e.preventDefault();var n=t.callback;"function"==typeof n&&n()&&n()}},g=function(t){var e,n=Object(o.useState)(t.state),m=n[0],y=n[1],b=Object(o.useState)(h),g=b[0],_=(b[1],Object(o.useState)(p)),j=_[0],E=_[1],P=Object(o.useState)(d),F=P[0],S=P[1],w=Object(o.useState)(l),x=w[0],T=w[1],N=Object(o.useState)(f),C=N[0],A=N[1];if(t.context&&"setState"in t.context)Object(o.useEffect)((function(){t.context.setState(s({},m))}),[m]);else{if(!t.context)throw new i.c(c.b);Object(o.useEffect)((function(){t.context(s({},m))}),[m])}var R={bare:t.bare||g.bare,state:t.state,formKey:t.formKey,debug:t.debug||g.debug,dynamic:t.dynamic||g.dynamic,updateParentState:Object(i.h)(m,y,t.formKey),updateRadioGroupStateFromPassedInContext:Object(i.i)(m,y,t.formKey),metadata:(e={},e[r.INPUTS]=new u.d(j,E,r.INPUTS),e[r.CHECKBOXES]=new u.d(F,S,r.CHECKBOXES),e[r.FILES]=new u.e(x,T,r.FILES),e[r.RADIO_GROUPS]=new u.f(C,A,r.RADIO_GROUPS),e)};return a.a.createElement(v,{value:R},a.a.createElement("form",{onSubmit:O(t)},t.children))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return N})),n.d(e,"g",(function(){return R})),n.d(e,"h",(function(){return I})),n.d(e,"i",(function(){return D}));var r=n(0),o=n.n(r),a=n(2),i=n(3),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r};function s(t,e){return o.a.createElement("div",{className:"form-group"},t.labeltext&&o.a.createElement("label",null,t.labeltext),e,t.hint&&o.a.createElement("small",{className:"form-text text-muted"},t.hint))}var p,f=function(){function t(t,e){this.type=e,this.props=t,this.init()}return Object.defineProperty(t.prototype,"parentName",{get:function(){return this._parentName},set:function(t){this._parentName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bare",{get:function(){return Boolean(this._bare)},set:function(t){this._bare=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._metadata},set:function(t){this._metadata=t},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.context=Object(r.useContext)(i.c),this.metadata=this.context.metadata[Object(a.f)(this.type)],this.metadata.init(this.props.name,this.type),this.bare=Boolean(this.context.bare)},t.prototype.getProps=function(){return this.props},t.prototype.createField=function(t){var e=this.props.validators||this.parentName?o.a.createElement(a.b,{isTouched:this.metadata.isFieldTouched(),results:this.validate(),name:this.props.name,type:Object(a.f)(this.type),parent:this.parent}):null;return this.bare?o.a.createElement(o.a.Fragment,null,t(this.metadata.state),e):o.a.createElement(o.a.Fragment,null,this.formGroup(t(this.metadata.state)),e)},t.prototype.doValidation=function(t){var e=[];if(this.props.validators)for(var n=0,r=this.props.validators;n<r.length;n++){var o=r[n];e=c(e,[o(t,this.context)])}return e},t.prototype.validate=function(){var t=this.getFieldValue(this.props),e=this.doValidation(t);return this.metadata.update(t,e),e},t.prototype.getFieldValue=function(t){var e=Object(a.e)(this.type);return this.props[e]},t.mergeDefaultCssWithProps=function(t,e,n){var r="";return n||(r+=t+" "),e&&(r+=""+e),r},t.prototype.overrideEvent=function(t,e){return u(u({},t),{target:u(u({},t.target),{value:!e})})},t.prototype.getStatePositionFromFormKey=function(){var t,e;return(null===(t=this.context)||void 0===t?void 0:t.formKey)?this.context.state[this.context.formKey]:null===(e=this.context)||void 0===e?void 0:e.state},t}(),l=function(){function t(t,e,n){this.state=t,this.updateState=e,this.metaType=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldType",{get:function(){return this._fieldType},set:function(t){this._fieldType=t},enumerable:!1,configurable:!0}),t.prototype.isFieldTouched=function(){return!!this.state[this.name]&&this.state[this.name].isTouched},t}(),d=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},m=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return d(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return o.a.createElement("div",{className:"form-group form-check"},t,this.props.labeltext&&o.a.createElement("label",{className:"form-check-label"},this.props.labeltext),this.props.hint&&o.a.createElement("small",{className:"form-text text-muted"},this.props.hint))},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",h({},t.props,{type:t.type,checked:t.getStatePositionFromFormKey()[t.props.name]||!1,onChange:function(e){return t.context.updateParentState(t.overrideEvent(e,t.getStatePositionFromFormKey()[t.props.name]),t.props.name)},name:t.props.name,className:f.mergeDefaultCssWithProps("form-check-input",t.props.className,t.context.bare)})))}},e}(f),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r._updateFieldValidation=function(){r.file=Object(a.d)(r.props.ref),void 0!==r.file&&r.validate()},r.type=e,r.props=n,r}return y(e,t),Object.defineProperty(e.prototype,"file",{get:function(){return this._file},set:function(t){this._file=t},enumerable:!1,configurable:!0}),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return s(this.props,t)},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",v({},t.props,{ref:t.props.ref,type:t.type,onChange:t._updateFieldValidation.bind(t),className:f.mergeDefaultCssWithProps("form-control-file",t.props.className,t.context.bare)})))}},e.prototype.getFieldValue=function(t){return this.props.ref.current?Object(a.d)(this.props.ref):null},e}(f),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return O(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return s(this.props,t)},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",g({},t.props,{type:t.type,value:t.getStatePositionFromFormKey()[t.props.name]||"",onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name,className:f.mergeDefaultCssWithProps("form-control",t.props.className,t.bare)})))}},e}(f),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return j(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype.update=function(t,e){var n,o,i,u=this;this.name in this.state?this.state[this.name]&&t!==this.state[this.name].fieldValues.currentValue&&(i=E(E({},this.state),((o={})[this.name]={name:this.name,validation:e,fieldValues:{type:Object(a.e)(this.fieldType),currentValue:t},isTouched:!0},o)),Object(r.useEffect)((function(){u.updateState(i)}),[i])):(i=E(E({},this.state),((n={})[this.name]={name:this.name,validation:e,isTouched:!1,fieldValues:{type:Object(a.e)(this.fieldType),currentValue:t}},n)),Object(r.useEffect)((function(){u.updateState(i)}),[i]))},e}(l),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},w=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return F(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype.update=function(t,e){var n,o,i,u=this;if(!(this.name in this.state))return i=S(S({},this.state),((n={})[this.name]={name:this.name,validation:e,isTouched:!1,fieldValues:{type:Object(a.e)(this.fieldType),currentValue:{}}},n)),void Object(r.useEffect)((function(){u.updateState(i)}),[i]);if(this.state[this.name]){var c=this.state[this.name].fieldValues.currentValue;(null===t&&Object.keys(c).length||t&&t.name!==c.name)&&(i=S(S({},this.state),((o={})[this.name]={name:this.name,validation:e,fieldValues:{type:Object(a.e)(this.fieldType),currentValue:t||{}},isTouched:!0},o)),this.updateState(i))}},e}(l),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){return(T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return x(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype._createGroupState=function(t,e,n){var r,o;return void 0===n&&(n=!0),T(T({},this.state),((r={})[t.parentName]=T(T({},this.state[t.parentName]),((o={})[this.name]={parent:t.parentName,name:this.name,validation:e||[],isTouched:n,fieldValues:{type:Object(a.e)(this.fieldType),value:t.value}},o)),r))},e.prototype.update=function(t,e){var n=this,o={};this.state[t.parentName]?(this.state[t.parentName]&&!(this.name in this.state[t.parentName])||this.state[t.parentName][this.name]&&this.state[t.parentName][this.name].fieldValues.value!==t.value)&&(o=this._createGroupState(t,e),Object(r.useEffect)((function(){n.updateState(o)}))):(o=this._createGroupState(t,e,!1),Object(r.useEffect)((function(){n.updateState(o)})))},e.prototype.isFieldTouched=function(){if(this.state&&this.parentName&&this.name&&this.state[this.parentName]){var t=this.state[this.parentName][this.name];if(t)return t.isTouched}return!1},e}(l),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return(A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R=function(t){function e(e,n){var o=t.call(this,n,e)||this;return o.handleOnChange=function(t,e){var n=o.overrideEvent(t,t.target.value);o.context.updateRadioGroupStateFromPassedInContext(n,o.props.name,e)},o.props=n,o.type=e,o.radioContext=Object(r.useContext)(i.e),o.radioContext&&o.radioContext.parent&&(o.parentName=o.radioContext.parent.name,o.metadata.parentName=o.parentName),o}return C(e,t),Object.defineProperty(e.prototype,"parentName",{get:function(){return this.__parentName},set:function(t){this.__parentName=t},enumerable:!1,configurable:!0}),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return o.a.createElement("div",{className:"form-group form-check"},t,this.props.labeltext&&o.a.createElement("label",{className:"form-check-label"},this.props.labelText),this.props.hint&&o.a.createElement("small",{className:"form-text text-muted"},this.props.hint))},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement("input",A({},t.props,{type:t.type,checked:t.getStatePositionFromFormKey()[t.props.name]||!1,name:t.props.name,onChange:function(e){return t.handleOnChange(e,t.radioContext)},className:f.mergeDefaultCssWithProps("form-check-input",t.props.className,t.context.bare)}))}},e.prototype.getFieldValue=function(t){var e,n,r,o=null===(e=this.context)||void 0===e?void 0:e.formKey;return o?(null===(n=this.context)||void 0===n?void 0:n.state[o][this.props.name])||!1:(null===(r=this.context)||void 0===r?void 0:r.state[this.props.name])||!1},e.prototype.validate=function(){var t=this.getFieldValue(this.props),e=this.doValidation(t);return this.metadata.update({value:t,parentName:this.parentName,name:this.props.name},e),e},e}(f),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(){return(V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return k(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return s(this.props,t)},e.prototype._getOptions=function(t){var e=this;return void 0===t&&(t=[]),this.props.objectkey&&this.props.objectvalue?t.map((function(t,n){return o.a.createElement("option",{value:t[e.props.objectkey],key:n},t[e.props.objectvalue])})):t.map((function(t,e){return o.a.createElement("option",{value:t,key:e},t)}))},e.prototype.getField=function(){var t=this,e=this.props,n=e.options,r=void 0===n?[]:n,a=(e.size,this._getOptions(r));return function(){return o.a.createElement("select",V({},t.props,{onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name,className:f.mergeDefaultCssWithProps(t.getSelectCssName(t.props.size),t.props.className,t.context.bare)}),a||null)}},e.prototype.getSelectCssName=function(t){return"default"===t?"form-control":"form-control form-control-"+t},e}(f),G=(n(8),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},D=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return G(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return s(this.props,t)},e.prototype.getField=function(){var t=this,e=this.props.rows,n=void 0===e?5:e;return function(){return o.a.createElement("textarea",K({},t.props,{className:Object(a.g)("form-control",t.props.className,t.context.bare),rows:n,value:t.getStatePositionFromFormKey()[t.props.name]||"",onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name}))}},e}(f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return p}));var r=n(2),o=p((function(t,e,n){var r=function(t){if(t.formKey)return t.state[t.formKey];return t.state}(n);if(!(t in r))throw new Error("React-BareForms Error: No Field with name of "+t+" exists when calling 'areFieldsEqual' validator function.\n For more info, visit: https://joegasewicz.github.io/react-bare-forms/modules/_validators_.html#arefieldsequal");if(!r[t]||!e||e!==r[t])return["Fields do not match"]})),a=p((function(t,e,n){if(!(void 0!==e&&e.length>=t))return["Must be at least "+t+" characters"]})),i=p((function(t,e,n){if(!r.a.test(String(e).toLowerCase()))return["Must be a valid email"]})),u=p((function(t,e,n){if(!e)return["Must be a file type"]})),c=p((function(t,e,n){if(!e)return["This option must be selected"]})),s=p((function(t,e,n){if(!1===e)return["Must be checked"]}));function p(t){return function(e){return void 0===e&&(e=null),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0],a=n[1],i=t(e,o,a);return Array.isArray(i)&&i.length>=1?{isValid:!1,messages:i}:{isValid:!0,messages:[]}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n(0),o=n.n(r);function a(){return o.a.createRef()}function i(t){return t&&t.current&&Object.keys(t.current.files).length?t.current.files[0]:null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n){return"React Bare Forms ERROR:\n\t"+t+" - "+e+"\n\t- "+n},i=(a("Function","isFieldEmpty()","Missing argument: minLength (number)"),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(Error)),u=a("Required Props","context","You must pass in a context prop. Class components use 'state' & functional components must use useState hook. See https://joegasewicz.github.io/react-bare-forms/modules/_form_.html")},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),o=n.n(r),a=n(3),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(){function t(){this.GROUP_TYPES=["radioGroups"]}return t.prototype.isGroup=function(t){return this.GROUP_TYPES.includes(t)},t.prototype.create=function(){var t=this;return function(e){for(var n=Object(r.useContext)(a.c),u=e.className,c=void 0===u?"btn btn-success btn-lg":u,s=(e.disabled,!1),p=(n.metadata.inputs.state,0),f=Object.keys(n.metadata);p<f.length;p++){var l=f[p],d=n.metadata[l].state;if(t.isGroup(n.metadata[l].metaType))for(var h=0,m=Object.keys(d);h<m.length;h++){E=m[h];for(var y=0,v=Object.keys(d[E]);y<v.length;y++)for(var b=v[y],O=0,g=d[E][b].validation;O<g.length;O++){g[O].isValid||(s=!0)}}else for(var _=0,j=Object.keys(d);_<j.length;_++)for(var E,P=0,F=d[E=j[_]].validation;P<F.length;P++){F[P].isValid||(s=!0)}}return o.a.createElement("button",i({},e,{disabled:s,className:c}),e.children)}},t}()},function(t,e,n){"use strict";n.r(e),function(t){var r=n(3);n.d(e,"FormConsumer",(function(){return r.b})),n.d(e,"Form",(function(){return r.a}));var o=n(1);n.d(e,"CheckBoxField",(function(){return o.a})),n.d(e,"EmailField",(function(){return o.b})),n.d(e,"FileField",(function(){return o.d})),n.d(e,"PasswordField",(function(){return o.e})),n.d(e,"RadioField",(function(){return o.f})),n.d(e,"RadioGroup",(function(){return o.g})),n.d(e,"SubmitButton",(function(){return o.i})),n.d(e,"TextAreaField",(function(){return o.j})),n.d(e,"TextInputField",(function(){return o.k})),n.d(e,"SelectField",(function(){return o.h}));var a=n(5);n.d(e,"areFieldsEqual",(function(){return a.a})),n.d(e,"customValidator",(function(){return a.b})),n.d(e,"isChecked",(function(){return a.c})),n.d(e,"isEmailValid",(function(){return a.d})),n.d(e,"isFieldEmpty",(function(){return a.e})),n.d(e,"isFile",(function(){return a.f})),n.d(e,"isRadioChecked",(function(){return a.g}));var i=n(6);n.d(e,"createFileRef",(function(){return i.a})),n.d(e,"getFileFromRef",(function(){return i.b})),window=window||t.window}.call(this,n(10))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2VsZW1lbnRzLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19jb21wb25lbnRzLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19maWxlLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2hhbmRsZXJzLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2hlbHBlcnMudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX3JlZ2V4LnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2Zvcm0udHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2ZpZWxkX2NsYXNzZXMvX0Fic3RyYWN0RmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX0Fic3RyYWN0TWV0YWRhdGEudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fQ2hlY2tCb3hGaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fRmlsZUZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19JbnB1dEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19NZXRhZGF0YS50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19NZXRhZGF0YUZpbGUudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX01ldGFkYXRhR3JvdXAudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fUmFkaW9GaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fU2VsZWN0RmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2ZpZWxkX2NsYXNzZXMvX1RleHRBcmVhRmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL3ZhbGlkYXRvcnMudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvdW5jcm9udHJvbGxlZC50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19lcnJvcnMudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fU3VibWl0QnV0dG9uLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJGSUVMRF9OQU1FUyIsIlRleHRJbnB1dEZpZWxkIiwicHJvcHMiLCJURVhUIiwiRW1haWxGaWVsZCIsIkVNQUlMIiwiUGFzc3dvcmRGaWVsZCIsIlBBU1NXT1JEIiwiQ2hlY2tCb3hGaWVsZCIsIkNIRUNLQk9YIiwiVGV4dEFyZWFGaWVsZCIsIlRFWFRBUkVBIiwiUmFkaW9Hcm91cCIsImNvbnRleHRWYWx1ZSIsInBhcmVudCIsImNoaWxkcmVuIiwiUHJvdmlkZXIiLCJSYWRpb0ZpZWxkIiwiUkFESU8iLCJTZWxlY3RGaWVsZCIsIlNFTEVDVCIsIkZpbGVGaWVsZCIsImZvcndhcmRSZWYiLCJyZWYiLCJfcHJvcHMiLCJGSUxFIiwiU3VibWl0QnV0dG9uIiwiVmFsaWRhdGlvblJlc3VsdHMiLCJyZXN1bHRzIiwic3R5bGVzIiwibWFwIiwicmVzdWx0IiwibWVzc2FnZXMiLCJtc2ciLCJpbmRleCIsImNsYXNzTmFtZSIsIkZvcm1FbGVtZW50VmFsaWRhdG9ycyIsImJhcmUiLCJpc1RvdWNoZWQiLCJjcmVhdGVGaWxlT2JqZWN0IiwiZmlsZURhdGEiLCJsYXN0TW9kaWZpZWQiLCJsYXN0TW9kaWZpZWREYXRlIiwic2l6ZSIsInR5cGUiLCJfZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSIsInBhcmVudFN0YXRlIiwiZm9ybUtleSIsIm9iaiIsInVwZGF0ZVBhcmVudFN0YXRlIiwic2V0UGFyZW50U3RhdGUiLCJlIiwidGFyZ2V0IiwidXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dCIsInJhZGlvR3JvdXAiLCJuZXdTdGF0ZSIsIm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyIsImRlZmF1bHRWYWx1ZSIsImNzc1Byb3BzIiwiY3NzU3RyIiwiZ2V0TWV0YWRhdGFOYW1lVHlwZSIsIklOUFVUUyIsIlJBRElPX0dST1VQUyIsIkNIRUNLQk9YRVMiLCJGSUxFUyIsImdldEZpZWxkVmFsdWVUeXBlIiwiRU1BSUxfUkVHRVgiLCJNRVRBREFUQV9OQU1FUyIsIklOUFVUU19TVEFURSIsIlJBRElPX0dST1VQU19TVEFURSIsIkZJTEVTX1NUQVRFIiwiQ0hFQ0tCT1hFU19TVEFURSIsInByb3ZpZGVyQ29udGV4dCIsInN0YXRlIiwiZGVidWciLCJkeW5hbWljIiwibWV0YWRhdGEiLCJpbnB1dHMiLCJyYWRpb0dyb3VwcyIsImZpbGVzIiwiY2hlY2tib3hlcyIsIlJhZGlvR3JvdXBDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIkZvcm1Db250ZXh0IiwiRm9ybVByb3ZpZGVyIiwiRm9ybUNvbnN1bWVyIiwiQ29uc3VtZXIiLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImNhbGxiYWNrIiwiRm9ybSIsImNvbnRleHQiLCJpbnB1dFN0YXRlIiwidXBkYXRlSW5wdXRTdGF0ZSIsImNoZWNrYm94ZXNTdGF0ZSIsInVwZGF0ZUNoZWNrYm94ZXNTdGF0ZSIsImZpbGVTdGF0ZSIsInVwZGF0ZUZpbGVTdGF0ZSIsInJhZGlvU3RhdGUiLCJ1cGRhdGVSYWRpb1N0YXRlIiwic2V0U3RhdGUiLCJfcHJvdmlkZXJDb250ZXh0Iiwib25TdWJtaXQiLCJfZ2VuZXJpY0Zvcm1Hcm91cCIsImxhYmVsdGV4dCIsImhpbnQiLCJ0aGlzIiwiaW5pdCIsIl9wYXJlbnROYW1lIiwiQm9vbGVhbiIsIl9iYXJlIiwidmFsIiwiX21ldGFkYXRhIiwiZ2V0UHJvcHMiLCJjcmVhdGVGaWVsZCIsImZpZWxkQ2FsbGJhY2siLCJfdmFsaWRhdGUiLCJ2YWxpZGF0b3JzIiwicGFyZW50TmFtZSIsImlzRmllbGRUb3VjaGVkIiwidmFsaWRhdGUiLCJmb3JtR3JvdXAiLCJkb1ZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uIiwiZ2V0RmllbGRWYWx1ZSIsInVwZGF0ZSIsIm92ZXJyaWRlRXZlbnQiLCJnZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkiLCJ1cGRhdGVTdGF0ZSIsIm1ldGFUeXBlIiwiX25hbWUiLCJfZmllbGRUeXBlIiwiZ2V0RmllbGQiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJfdXBkYXRlRmllbGRWYWxpZGF0aW9uIiwiZmlsZSIsIl9maWxlIiwiXyIsImN1cnJlbnQiLCJkZWZhdWx0U3RhdGUiLCJmaWVsZFR5cGUiLCJmaWVsZFZhbHVlcyIsImN1cnJlbnRWYWx1ZSIsIkFic3RyYWN0TWV0YWRhdGEiLCJrZXlzIiwibGVuZ3RoIiwiX2NyZWF0ZUdyb3VwU3RhdGUiLCJtZXRhR3JvdXAiLCJoYW5kbGVPbkNoYW5nZSIsInJhZGlvQ29udGV4dCIsImV2ZW50IiwiX19wYXJlbnROYW1lIiwibGFiZWxUZXh0IiwiX2dldE9wdGlvbnMiLCJvcHRpb25zIiwib2JqZWN0a2V5Iiwib2JqZWN0dmFsdWUiLCJvcHRWYWwiLCJzZWxlY3REYXRhIiwiZ2V0U2VsZWN0Q3NzTmFtZSIsInJvd3MiLCJhcmVGaWVsZHNFcXVhbCIsImN1c3RvbVZhbGlkYXRvciIsImZpZWxkS2V5IiwiZmllbGRWYWx1ZSIsImNvbnRleHRTdGF0ZSIsImdldEZvcm1TdGF0ZUZyb21Db250ZXh0IiwiRXJyb3IiLCJpc0ZpZWxkRW1wdHkiLCJtaW5MZW5ndGgiLCJpc0VtYWlsVmFsaWQiLCJ0ZXN0IiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpc0ZpbGUiLCJpc1JhZGlvQ2hlY2tlZCIsImlzQ2hlY2tlZCIsImFyZyIsImFyZ3MiLCJBcnJheSIsImlzQXJyYXkiLCJpc1ZhbGlkIiwiY3JlYXRlRmlsZVJlZiIsImNyZWF0ZVJlZiIsImdldEZpbGVGcm9tUmVmIiwiZmlsZVJlZiIsIl90aHJvd05ld0Vycm9yTXNnIiwibWVzc2FnZSIsIl9ub0NvbnRleHRFcnJvciIsIkdST1VQX1RZUEVTIiwiaXNHcm91cCIsImluY2x1ZGVzIiwiaXNEaXNhYmxlZCIsIm1ldGEiLCJtZXRhRmllbGQiLCJmaWVsZCIsImNoaWxkRmllbGQiLCJkaXNhYmxlZCIsImds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LEVBQVVDLEdBQWVDLEdBQ1YxRSxXQUFQLGVBQW1CLENBQXZCLEtBQ0MyRCxVQUNYVyxHQUFhLFNBZDdCLElBQWlCLFVBQUF2TixPQUFPdUssS0FBS2tELEdBQVosZUFDYixJQURBLElBQUlDLEVBQ2tCLE1BQUFELEVBRGxCQyxFQUFLLE1BQzhCekUsV0FBakIsZUFBNkIsQ0FBakMsS0FDQzJELFVBQ1hXLEdBQWEsSUFvQmxDLE9BQVEsZ0NBQ0EvTCxFQUFLLENBQ1RvTSxTQUFVTCxFQUNWOUosVUFBV0EsSUFDYmpDLEVBQU1hLFlBR25CLEVBdkRBLEksNkJDdkJBLDhnQ0FBQXBELE9BQVNBLFFBQVU0TyxFQUFPNU8sUSxnQ0NBMUIsSUFBSTZPLEVBR0pBLEVBQUksV0FDSCxPQUFPOUYsS0FESixHQUlKLElBRUM4RixFQUFJQSxHQUFLLElBQUlDLFNBQVMsY0FBYixHQUNSLE1BQU90SixHQUVjLGlCQUFYeEYsU0FBcUI2TyxFQUFJN08sUUFPckNKLEVBQU9ELFFBQVVrUCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJlYWN0LWJhcmUtbGliXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJlYWN0LWJhcmUtbGliXCJdID0gZmFjdG9yeShyb290W1wicmVhY3RcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3R9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQge0lWYWxpZGF0b3JzfSBmcm9tIFwiLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge1xuICAgIElGb3JtLFxuICAgIElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCxcbiAgICBSYWRpb0dyb3VwQ29udGV4dCxcbiAgICBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhLFxufSBmcm9tIFwiLi9mb3JtXCI7XG5pbXBvcnQge1N1Ym1pdEJ1dHRvbiBhcyBfU3VibWl0QnV0dG9uLH0gZnJvbSBcIi4vZmllbGRfY2xhc3Nlcy9fU3VibWl0QnV0dG9uXCI7XG5pbXBvcnQge1xuICAgIENoZWNrQm94RmllbGQgYXMgX0NoZWNrQm94RmllbGQsXG4gICAgRmlsZUZpZWxkIGFzIF9GaWxlRmllbGQsXG4gICAgSW5wdXRGaWVsZCxcbiAgICBSYWRpb0ZpZWxkIGFzIF9SYWRpb0ZpZWxkLFxuICAgIFNlbGVjdEZpZWxkIGFzIF9TZWxlY3RGaWVsZCxcbiAgICBUZXh0QXJlYUZpZWxkIGFzIF9UZXh0QXJlYUZpZWxkLFxufSBmcm9tIFwiLi9maWVsZF9jbGFzc2VzXCI7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBlbnVtIEZJRUxEX05BTUVTIHtcbiAgICBURVhUID0gXCJ0ZXh0XCIsXG4gICAgRU1BSUwgPSBcImVtYWlsXCIsXG4gICAgUEFTU1dPUkQgPSBcInBhc3N3b3JkXCIsXG4gICAgVEVYVEFSRUEgPSBcInRleHRBcmVhXCIsXG4gICAgUkFESU8gID0gXCJyYWRpb1wiLFxuICAgIENIRUNLQk9YID0gXCJjaGVja2JveFwiLFxuICAgIFNFTEVDVCA9IFwic2VsZWN0XCIsXG4gICAgRklMRSA9IFwiZmlsZVwiLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWVsZEJhc2Uge1xuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgZm9ybSBlbGVtZW50ICh0aGlzIHNob3VsZCBtYXRjaCB0aGUgc3RhdGUgcHJvcGVydHkgdGhhdCB5b3Ugd2FudCBiZSB1cGRhdGVkIGJ5IHRoaXMgZm9ybSBlbGVtZW50KSAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgICAvKiogSWYgKmJhcmUqIChzZWUge0BsaW5rIElGb3JtLmJhcmV9KSBpcyBzZXQgdG8gdHJ1ZSB0aGVuICpsYWJlbHRleHQqIHdpbGwgYmUgaW5zZXJ0ZWQgd2l0aGluICoqbGFiZWwqKiB0YWdzLiAqL1xuICAgIGxhYmVsdGV4dD86IHN0cmluZztcbiAgICAvKiogSWYgKmJhcmUqIChzZWUge0BsaW5rIEZvcm0uYmFyZX0pIGlzIHNldCB0byB0cnVlIHRoZW4gKmhpbnQqIHdpbGwgYmUgaW5zZXJ0ZWQgd2l0aGluICoqc21hbGwqKiB0YWdzLiAqL1xuICAgIGhpbnQ/OiBzdHJpbmc7XG4gICAgLyoqIFRoZXNlIGFyZSB0aGUge0BsaW5rIElWYWxpZGF0b3JzfSB0aGF0IHlvdSBjYW4gcGFzcyBpbiB0aGUgdmFsaWRhdGUgdGhlIGZvcm0gZWxlbWVudC4gKi9cbiAgICB2YWxpZGF0b3JzPzogSVZhbGlkYXRvcnM7XG4gICAgLyoqIEFkZCBhZGRpdGlvbmFsIGNzcyAqL1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmllbGQ8VD4gZXh0ZW5kcyBSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPFQ+IHtcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIGZvcm0gZWxlbWVudCAodGhpcyBzaG91bGQgbWF0Y2ggdGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgeW91IHdhbnQgYmUgdXBkYXRlZCBieSB0aGlzIGZvcm0gZWxlbWVudCkgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgLyoqIElmICpiYXJlKiAoc2VlIHtAbGluayBJRm9ybS5iYXJlfSkgaXMgc2V0IHRvIHRydWUgdGhlbiAqbGFiZWx0ZXh0KiB3aWxsIGJlIGluc2VydGVkIHdpdGhpbiAqKmxhYmVsKiogdGFncy4gKi9cbiAgICBsYWJlbHRleHQ/OiBzdHJpbmc7XG4gICAgLyoqIElmICpiYXJlKiAoc2VlIHtAbGluayBGb3JtLmJhcmV9KSBpcyBzZXQgdG8gdHJ1ZSB0aGVuICpoaW50KiB3aWxsIGJlIGluc2VydGVkIHdpdGhpbiAqKnNtYWxsKiogdGFncy4gKi9cbiAgICBoaW50Pzogc3RyaW5nO1xuICAgIC8qKiBUaGVzZSBhcmUgdGhlIHtAbGluayBJVmFsaWRhdG9yc30gdGhhdCB5b3UgY2FuIHBhc3MgaW4gdGhlIHZhbGlkYXRlIHRoZSBmb3JtIGVsZW1lbnQuICovXG4gICAgdmFsaWRhdG9ycz86IElWYWxpZGF0b3JzO1xuICAgIC8qKiBBZGQgYWRkaXRpb25hbCBjc3MgKi9cbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRleHRJbnB1dEZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICAvKiogVGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgZ2V0cyB1cGRhdGVkIGJ5IHRoaXMgaW5wdXQgZmllbGQgKi9cbiAgICB2YWx1ZTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYXNzd29yZEZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICAvKiogVGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgZ2V0cyB1cGRhdGVkIGJ5IHRoaXMgaW5wdXQgZmllbGQgKi9cbiAgICB2YWx1ZTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbWFpbEZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICAvKiogVGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgZ2V0cyB1cGRhdGVkIGJ5IHRoaXMgaW5wdXQgZmllbGQgKi9cbiAgICB2YWx1ZTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGVja0JveEZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICBjaGVja2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUZXh0QXJlYUZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxUZXh0QXJlYUVsZW1lbnQ+IHtcbiAgICByb3dzPzogbnVtYmVyO1xuICAgIC8qKiBUaGUgc3RhdGUgcHJvcGVydHkgdGhhdCBnZXRzIHVwZGF0ZWQgYnkgdGhpcyBpbnB1dCBmaWVsZCAqL1xuICAgIHZhbHVlOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJhZGlvRmllbGQgZXh0ZW5kcyBJRmllbGQ8SFRNTElucHV0RWxlbWVudD4ge1xuICAgIGNoZWNrZWQ6IGJvb2xlYW47XG4gICAgZGlzYWJsZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlRmllbGQgZXh0ZW5kcyBJRmllbGQ8SFRNTElucHV0RWxlbWVudD4ge1xuICAgIHJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD47XG59XG5cbmV4cG9ydCB0eXBlIFR5cGVTZWxlY3RDc3NTaXplTmFtZSA9IHxcInNtXCJ8XCJkZWZhdWx0XCJ8XCJsZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTZWxlY3RGaWVsZCBleHRlbmRzIE9taXQ8SUZpZWxkPEhUTUxTZWxlY3RFbGVtZW50PiwgXCJzaXplXCI+IHtcbiAgICB2YWx1ZTogYW55O1xuICAgIG9wdGlvbnM6IEFycmF5PHN0cmluZ3x7W2s6IHN0cmluZ106IGFueX0+O1xuICAgIHNpemU/OiBUeXBlU2VsZWN0Q3NzU2l6ZU5hbWU7XG4gICAgb2JqZWN0a2V5Pzogc3RyaW5nO1xuICAgIG9iamVjdHZhbHVlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElUZXh0SW5wdXRGaWVsZH1cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge1RleHRJbnB1dEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogIGNvbnN0IHN0YXRlID0geyB1c2VybmFtZTogXCJcIiB9XG4gKlxuICogLy8gQSBiYXJlIGZvcm0gZXhhbXBsZSAuLi4gcmVtZW1iZXIgdG8gc2V0IHRoZSB7QGxpbmsgRm9ybS5iYXJlfSBwcm9wZXJ0eSB0byBgdHJ1ZWBcbiAqIDxUZXh0SW5wdXRGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLnVzZXJuYW1lfVxuICogICAgbmFtZT1cInVzZXJuYW1lXCJcbiAqIC8+XG4gKlxuICogLy8gRXhhbXBsZSB3aXRoIEJvb3RzdHJhcCBzdHlsaW5nIChCb290c3RyYXAgc3R5bGluZyBjb21lcyBhcyBkZWZhdWx0KVxuICpcbiAqIDxUZXh0SW5wdXRGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLnVzZXJuYW1lfVxuICogICAgbmFtZT1cInVzZXJuYW1lXCJcbiAqICAgIGhpbnQ9XCJOZWVkcyB0byBiZSBhdCBsZWFzdCA1MCBjaGFyYWN0ZXJzIGxvbmdcIlxuICogICAgbGFiZWx0ZXh0PVwiVXNlcm5hbWVcIlxuICogIC8+XG4gKiBgYGBcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgVGV4dElucHV0RmllbGQgPSAocHJvcHM6IElUZXh0SW5wdXRGaWVsZCkgPT4ge1xuICBjb25zdCB0ZXh0SW5wdXQgPSBuZXcgSW5wdXRGaWVsZDxJVGV4dElucHV0RmllbGQ+KEZJRUxEX05BTUVTLlRFWFQsIHByb3BzKTtcbiAgcmV0dXJuIHRleHRJbnB1dC5jcmVhdGUoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJRW1haWxGaWVsZH1cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge0VtYWlsRmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IGVtYWlsOiBcIlwiIH1cbiAqXG4gKiAvLyBBIGJhcmUgZm9ybSBleGFtcGxlIC4uLiByZW1lbWJlciB0byBzZXQgdGhlIHtAbGluayBGb3JtLmJhcmV9IHByb3BlcnR5IHRvIGB0cnVlYFxuICogPEVtYWlsRmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS5lbWFpbH1cbiAqICAgIG5hbWU9XCJlbWFpbFwiXG4gKiAvPlxuICpcbiAqIC8vIEV4YW1wbGUgd2l0aCBCb290c3RyYXAgc3R5bGluZyAoQm9vdHN0cmFwIHN0eWxpbmcgY29tZXMgYXMgZGVmYXVsdClcbiAqXG4gKiA8RW1haWxGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLmVtYWlsfVxuICogICAgbmFtZT1cImVtYWlsXCJcbiAqICAgIGhpbnQ9XCJOZWVkcyB0byBiZSBhdCBsZWFzdCA1MCBjaGFyYWN0ZXJzIGxvbmdcIlxuICogICAgbGFiZWx0ZXh0PVwiVXNlcm5hbWVcIlxuICogIC8+XG4gKiBgYGBcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgRW1haWxGaWVsZCA9IChwcm9wczogSUVtYWlsRmllbGQpID0+IHtcbiAgICBjb25zdCBlbWFpbElucHV0ID0gbmV3IElucHV0RmllbGQ8SUVtYWlsRmllbGQ+KEZJRUxEX05BTUVTLkVNQUlMLCBwcm9wcyk7XG4gICAgcmV0dXJuIGVtYWlsSW5wdXQuY3JlYXRlKCk7XG59O1xuXG4vKipcbiAqICBUaGUgYFBhc3N3b3JkRmllbGRgIHdvcmtzIHRoZSBzYW1lIGFzIHRoZSBgRW1haWxGaWVsZGAgJiBgVGV4dElucHV0RmllbGRgJ3MuXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElQYXNzd29yZEZpZWxkfVxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7YXJlRmllbGRzRXF1YWwsIGlzRmllbGRFbXB0eSwgUGFzc3dvcmRGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IHBhc3N3b3JkOiBcIlwiLCBjb25maXJtUGFzc3dvcmQ6IFwiXCIgfTtcbiAqXG4gKiAvLyBBIGJhcmUgZm9ybSBleGFtcGxlIC4uLiByZW1lbWJlciB0byBzZXQgdGhlIHtAbGluayBGb3JtLmJhcmV9IHByb3BlcnR5IHRvIGB0cnVlYFxuICogPFBhc3N3b3JkRmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS5wYXNzd29yZH1cbiAqICAgIG5hbWU9XCJ1c2VybmFtZVwiXG4gKiAgICB2YWxpZGF0b3JzPXtbaXNGaWVsZEVtcHR5KDgpXX1cbiAqIC8+XG4gKlxuICogLy8gRXhhbXBsZSB3aXRoIEJvb3RzdHJhcCBzdHlsaW5nIChCb290c3RyYXAgc3R5bGluZyBjb21lcyBhcyBkZWZhdWx0KVxuICpcbiAqIDxQYXNzd29yZEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUuY29uZmlybVBhc3N3b3JkfVxuICogICAgbmFtZT1cInBhc3N3b3JkXCJcbiAqICAgIGhpbnQ9XCJOZWVkcyB0byBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZ1wiXG4gKiAgICBsYWJlbHRleHQ9XCJQYXNzd29yZFwiXG4gKiAgLz5cbiAqICBgYGBcbiAqIEFsc28gd2UgY2FuIGNyZWF0ZSB0d28gKlBhc3N3b3JkRmllbGQqIGNvbXBvbmVudHMgdG8gY29uZmlybSBwYXNzd29yZHMgYXJlIGVxdWFsLiBQbGVhc2Ugc2VlXG4gKiB7QGxpbmsgYXJlRmllbGRzRXF1YWx9IGZvciBtb3JlIGluZm8uXG4gKiBUaGUgZmlyc3QgKlBhc3N3b3JkRmllbGQqIGhhcyBoYXMgYSAqbmFtZSogcHJvcCBvZiAqKnBhc3N3b3JkKiogJiB0aGUgc2Vjb25kICpQYXNzd29yZEZpZWxkKiBhIG5hbWVcbiAqIHByb3Agb2YgKmNvbmZpcm1QYXNzd29yZCouIFRoZW4gd2UgY2FuIGFkZCBhIHtAbGluayBhcmVGaWVsZHNFcXVhbH0gdmFsaWRhdG9yIHRvIHRoZSAqUGFzc3dvcmRGaWVsZCpcbiAqIHdpdGggdGhlICpjb25maXJtUGFzc3dvcmQqIG5hbWUgcHJvcHMgKGFsc28gbm90aWNlIGhvdyB7QGxpbmsgYXJlRmllbGRzRXF1YWx9IHRha2VzIHRoZSBmaXJzdCAqUGFzc3dvcmRGaWVsZCpcbiAqIG5hbWUgYXMgYW4gYXJndW1lbnQpLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIDxQYXNzd29yZEZpZWxkXG4gKiAgbmFtZT1cInBhc3N3b3JkXCJcbiAqICAvLyBvdGhlciBwcm9wcy4uLlxuICpcbiAqIC8+XG4gKlxuICogPFBhc3N3b3JkRmllbGRcbiAqICBuYW1lPVwiY29uZmlybVBhc3N3b3JkXCJcbiAqICAvLyBvdGhlciBwcm9wcy4uLlxuICogIHZhbGlkYXRvcnM9e1thcmVGaWVsZHNFcXVhbChcInBhc3N3b3JkXCIpXX1cbiAqIC8+XG4gKiBgYGBcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IFBhc3N3b3JkRmllbGQgPSAocHJvcHM6IElQYXNzd29yZEZpZWxkKSA9PiB7XG4gIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBuZXcgSW5wdXRGaWVsZDxJUGFzc3dvcmRGaWVsZD4oRklFTERfTkFNRVMuUEFTU1dPUkQsIHByb3BzKTtcbiAgcmV0dXJuIHBhc3N3b3JkSW5wdXQuY3JlYXRlKCk7XG59O1xuXG5cblxuLyoqXG4gKiBUaGUgQ2hlY2tCb3hGaWVsZCByZXF1aXJlcyBhICpjaGVja2VkKiBwcm9wIGluc3RlYWQgb2YgYSAqdmFsdWUqIHByb3AuIFNlZVxuICoge0BsaW5rIElDaGVja0JveEZpZWxkfS5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vIEEgYmFyZSBmb3JtIGV4YW1wbGUgLi4uIHJlbWVtYmVyIHRvIHNldCB0aGUge0BsaW5rIEZvcm0uYmFyZX0gcHJvcGVydHkgdG8gYHRydWVgXG4gKiAgaW1wb3J0IHtDaGVja0JveEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgcGFzc3dvcmQ6IFwiXCIsIGNvbmZpcm1QYXNzd29yZDogXCJcIiB9O1xuICpcbiAqIDxDaGVja0JveEZpZWxkXG4gKiAgIG5hbWU9XCJ0ZXJtc1wiXG4gKiAgIGNoZWNrZWQ9e3N0YXRlLnRlcm1zfVxuICogLz5cbiAqXG4gKiAvLyBFeGFtcGxlIHdpdGggQm9vdHN0cmFwIHN0eWxpbmcgKEJvb3RzdHJhcCBzdHlsaW5nIGNvbWVzIGFzIGRlZmF1bHQpXG4gKiA8Q2hlY2tCb3hGaWVsZFxuICogICBuYW1lPVwidGVybXNcIlxuICogICBjaGVja2VkPXtzdGF0ZS50ZXJtc31cbiAqICAgaGludD1cIkNsaWNrIHRvIGFncmVlXCJcbiAqICAgbGFiZWx0ZXh0PVwiQWdyZWUgdG8gdGVybXMgJiBjb25kaXRpb25zXCJcbiAqIC8+XG4gKiBgYGBcbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSUNoZWNrQm94RmllbGR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IENoZWNrQm94RmllbGQgPSAocHJvcHM6IElDaGVja0JveEZpZWxkKSA9PiB7XG4gIGNvbnN0IGNoZWNrQm94ID0gbmV3IF9DaGVja0JveEZpZWxkPElDaGVja0JveEZpZWxkPihGSUVMRF9OQU1FUy5DSEVDS0JPWCwgcHJvcHMpO1xuICByZXR1cm4gY2hlY2tCb3guY3JlYXRlKCk7XG59O1xuXG4vKipcbiAqIFRoZSBUZXh0QXJlYUZpZWxkIHRha2VzIGluIGFuIGV4dHJhIHByb3Agb2YgKnJvdyogd2hpY2ggaXMgYSBudW1iZXIgJiBkZWNsYXJlc1xuICogdGhlIG51bWJlciBvZiByb3dzIGRpc3BsYXllZCBieSB0aGUgdGV4dGFyZWEgZWxlbWVudC4gVGhlIFRleHRBcmVhRmllbGQgYWNjZXB0c1xuICogYWxsIHRoZSB7QGxpbmsgSUZpZWxkfSBwcm9wcy5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICAqICBpbXBvcnQge0NoZWNrQm94RmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBhYm91dDogXCJcIiB9O1xuICogLy8gQSBiYXJlIGZvcm0gZXhhbXBsZSAuLi4gcmVtZW1iZXIgdG8gc2V0IHRoZSB7QGxpbmsgRm9ybS5iYXJlfSBwcm9wZXJ0eSB0byBgdHJ1ZWBcbiAqIDxUZXh0QXJlYUZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUuYWJvdXR9XG4gKiAgICBuYW1lPVwiYWJvdXRcIlxuICogICAgdmFsaWRhdG9ycz17W2lzRmllbGRFbXB0eSgyMCldfVxuICogLz5cbiAqXG4gKiAvLyBFeGFtcGxlIHdpdGggQm9vdHN0cmFwIHN0eWxpbmcgKEJvb3RzdHJhcCBzdHlsaW5nIGNvbWVzIGFzIGRlZmF1bHQpXG4gKlxuICogPFRleHRBcmVhRmllbGRcbiAqICAgIG5hbWU9XCJhYm91dFwiXG4gKiAgICB2YWx1ZT17c3RhdGUuYWJvdXR9XG4gKiAgICBoaW50PVwiTXVzdCBiZSBhdCBsZWFzdCAyMCBjaGFyYWN0ZXJzXCJcbiAqICAgIGxhYmVsdGV4dD1cIkFib3V0IHlvdS4uLlwiXG4gKiAgICB2YWxpZGF0b3JzPXtbaXNGaWVsZEVtcHR5KDIwKV19XG4gKiAvPlxuICogYGBgXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElUZXh0SW5wdXRGaWVsZH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgVGV4dEFyZWFGaWVsZCA9IChwcm9wczogSVRleHRBcmVhRmllbGQpID0+IHtcbiAgY29uc3QgdGV4dEFyZWEgPSBuZXcgX1RleHRBcmVhRmllbGQ8SVRleHRBcmVhRmllbGQ+KEZJRUxEX05BTUVTLlRFWFRBUkVBLCBwcm9wcyk7XG4gIHJldHVybiB0ZXh0QXJlYS5jcmVhdGUoKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJhZGlvR3JvdXBQcm9wcyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNoaWxkcmVuOiBhbnk7XG59XG5cbi8qKlxuICogQHByb3BzIHtAbGluayBJUmFkaW9Hcm91cFByb3BzfVxuICogQHBhcmFtIHByb3BzIFRoZSBgUmFkaW9Hcm91cGAgY29tcG9uZW50IHRha2VzIGEgc2luZ2xlIHByb3BzIG9mIGBuYW1lYCwgd2hpY2hcbiAqIG11c3QgYmUgYSB1bmlxdWUgdG8gYSBmb3JtLiBTZWUge0BsaW5rIFJhZGlvRmllbGR9LlxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7Q2hlY2tCb3hGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IG1hbGU6IHRydWUsIGZlbWFsZTogZmFsc2UgfTtcbiAqXG4gKiAgPFJhZGlvR3JvdXAgbmFtZT1cImdyb3VwMVwiPlxuICogICAgLy8gcGxhY2UgUmFkaW9GaWVsZHMgY29tcG9uZW50cyBoZXJlLi4uXG4gKiAgPC9SYWRpb0dyb3VwPlxuICogYGBgXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gUmFkaW9Hcm91cChwcm9wczogSVJhZGlvR3JvdXBQcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZTogSVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0ID0ge3BhcmVudDoge25hbWU6IHByb3BzLm5hbWV9LCBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW59O1xuICAgIHJldHVybiA8UmFkaW9Hcm91cENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZSBhcyBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhfT57cHJvcHMuY2hpbGRyZW59PC9SYWRpb0dyb3VwQ29udGV4dC5Qcm92aWRlcj47XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVJhZGlvRmllbGR9XG4gKiBAY29uc3RydWN0b3JcbiAqIGBSYWRpb0ZpZWxkYCBpbnB1dHMgYXJlIGRlc2lnbmVkIHRvIGJlIHVzZWQgd2l0aCB0aGUge0BsaW5rIFJhZGlvR3JvdXB9IGNvbXBvbmVudC5cbiAqICBUbyB1c2UgdGhpcyBjb21wb25lbnQsIGFkZCBvciBuZXN0IGl0IHdpdGhpbiBhIHtAbGluayBSYWRpb0dyb3VwfSBjb21wb25lbnQgYXMgY2hpbGRyZW4uXG4gKiAgSXQncyBwb3NzaWJsZSB0byBhbHNvIHVzZSB2YWxpZGF0b3JzIHdpdGggYSBSYWRpb0dyb3VwLCBhcyBzaG93biBiZWxvdzpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge2lzUmFkaW9DaGVja2VkLCBSYWRpb0ZpZWxkLCBSYWRpb0dyb3VwfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgbWFsZTogdHJ1ZSwgZmVtYWxlOiBmYWxzZSB9O1xuICpcbiAqICA8UmFkaW9Hcm91cCBuYW1lPVwiZ3JvdXAxXCI+XG4gKiAgICA8UmFkaW9GaWVsZFxuICogICAgICBuYW1lPVwibWFsZVwiXG4gKiAgICAgIGNoZWNrZWQ9e3N0YXRlLm1hbGV9XG4gKiAgICAgIGhpbnQ9XCJDbGljayB0byBhZ3JlZVwiXG4gKiAgICAgIGxhYmVsdGV4dD1cIkFncmVlIHRvIHRlcm1zICYgY29uZGl0aW9uc1wiXG4gKiAgICAvPlxuICpcbiAqICAgIDxSYWRpb0ZpZWxkXG4gKiAgICAgIG5hbWU9XCJmZW1hbGVcIlxuICogICAgICBjaGVja2VkPXtzdGF0ZS5mZW1hbGV9XG4gKiAgICAgIGhpbnQ9XCJDbGljayB0byBhZ3JlZVwiXG4gKiAgICAgIGxhYmVsdGV4dD1cIkFncmVlIHRvIHRlcm1zICYgY29uZGl0aW9uc1wiXG4gKiAgICAgIHZhbGlkYXRvcnM9e1tpc1JhZGlvQ2hlY2tlZCgpXX1cbiAqICAgIC8+XG4gKlxuICogIDwvUmFkaW9Hcm91cD5cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgUmFkaW9GaWVsZCA9IChwcm9wczogSVJhZGlvRmllbGQpID0+IHtcbiAgICBjb25zdCByYWRpbyA9IG5ldyBfUmFkaW9GaWVsZChGSUVMRF9OQU1FUy5SQURJTywgcHJvcHMpO1xuICAgIHJldHVybiByYWRpby5jcmVhdGUoKTtcbn07XG5cbi8qKlxuICogQSBjb21wb25lbnQgdG8gcmVuZGVyIGEgc2VsZWN0IGZpZWxkIGVsZW1lbnQuXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElTZWxlY3RGaWVsZH1cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7U2VsZWN0RmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBmcnVpdENob2ljZTogXCJcIiB9O1xuICpcbiAqIDxTZWxlY3RGaWVsZFxuICogICBzaXplPVwibGdcIlxuICogICB2YWx1ZT17c3RhdGUuZnJ1aXRDaG9pY2V9XG4gKiAgIG5hbWU9XCJmcnVpdENob2ljZVwiXG4gKiAgIG9wdGlvbnM9e1tcImJhbmFuYVwiLCBcImFwcGxlXCIsIFwib3JhbmdlXCJdfVxuICogIC8+XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBvYmplY3RzIGJ1dCB5b3UgbXVzdCB1c2UgYm90aCB0aGVcbiAqICpvYmplY3RLZXkqICYgKm9iamVjdHZhbHVlKiBwcm9wcy4gdGhlIGBvYmplY3RLZXlgIHdpbGwgdXBkYXRlIHlvdXIgc3RhdGVcbiAqIHZhbHVlICYgdGhlIGBvYmplY3R2YWx1ZWAgaXMgd2hhdCBpcyBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgYXMgYW4gb3B0aW9uLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gVGhpcyBpcyB5b3VyIG9wdGlvbiBkYXRhXG4gKiBsZXQgc2VsZWN0RGF0YSA9IFtcbiAqICAge2lkOiAxLCBuYW1lOiBcImZpcnN0XCJ9LFxuICogICB7aWQ6IDIsIG5hbWU6IFwic2Vjb25kXCJ9LFxuICogXTtcbiAqIC8vIFRoZSBzdGF0ZSB3aGljaCB3aWxsIHJlY2VpdmUgdGhlIHVwZGF0ZVxuICogbGV0IHN0YXRlID0ge1xuICogICAgc2VsZWN0X2RhdGFfaWQ6IHVuZGVmaW5lZCBhcyBhbnksXG4gKiB9O1xuICpcbiAqIDxTZWxlY3RGaWVsZFxuICogICBzaXplPVwibGdcIlxuICogICB2YWx1ZT17c3RhdGUuc2VsZWN0X2RhdGFfaWR9XG4gKiAgIG5hbWU9XCJmcnVpdENob2ljZVwiXG4gKiAgIG9iamVjdGtleT1cImlkXCIgLy8gVmFsdWUgd2lsbCB1cGRhdGUgc3RhdGUuc2VsZWN0X2RhdGFfaWQgZS5nICoxLCAyLi4uKlxuICogICBvYmplY3R2YWx1ZT1cIm5hbWVcIiAvLyBWYWx1ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgc2VsZWN0IGZpZWxkIGUuZyAqZmlyc3QsIHNlY29uZC4uLipcbiAqICAgb3B0aW9ucz17c2VsZWN0RGF0YX1cbiAqIC8+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbGVjdEZpZWxkID0gKHByb3BzOiBJU2VsZWN0RmllbGQpID0+IHtcbiAgICBjb25zdCBzZWxlY3QgPSBuZXcgX1NlbGVjdEZpZWxkKEZJRUxEX05BTUVTLlNFTEVDVCwgcHJvcHMpO1xuICAgIHJldHVybiBzZWxlY3QuY3JlYXRlKCk7XG59O1xuXG4vKipcbiAqIFRoZSBTdWJtaXRCdXR0b24gb25seSByZXF1aXJlcyBhIHRleHQgc3RyaW5nIGFzIGNoaWxkcmVuIHByb3BzIChzZWUgYmVsb3cgZXhhbXBsZSkuXG4gKiBUaGUgU3VibWl0QnV0dG9uIHdpbGwgYmUgZGlzYWJsZWQgdW50aWwgYWxsIGZvcm0gZmllbGRzIGFyZSB2YWxpZGF0ZWQuXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElTdWJtaXRCdXR0b25Qcm9wc31cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogaW1wb3J0IHtTdWJtaXRCdXR0b259IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogPFN1Ym1pdEJ1dHRvbj5TdWJtaXQ8L1N1Ym1pdEJ1dHRvbj5cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgRmlsZUZpZWxkID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHM6IElGaWxlRmllbGQsIHJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD58YW55KSA9PiB7XG4gICAgbGV0IF9wcm9wcyA9IHsuLi5wcm9wcywgcmVmIH07XG4gICAgY29uc3QgZmlsZSA9IG5ldyBfRmlsZUZpZWxkPElGaWxlRmllbGQ+KEZJRUxEX05BTUVTLkZJTEUsIF9wcm9wcyk7XG4gICAgcmV0dXJuIGZpbGUuY3JlYXRlKCk7XG59KTtcblxuXG5leHBvcnQgY29uc3QgU3VibWl0QnV0dG9uID0gbmV3IF9TdWJtaXRCdXR0b24oKS5jcmVhdGUoKTtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge1JlYWN0RWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0Zvcm1Db250ZXh0LCBJRm9ybUNvbnRleHQsIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuXG5cblxuLyoqIEBpbnRlcm5hbCAqL1xuaW50ZXJmYWNlIElGb3JtRWxlbWVudFZhbGlkYXRvcnMge1xuICAgIHJlYWRvbmx5IHJlc3VsdHM6IEFycmF5PElWYWxpZGF0aW9uPjtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdHlwZTogTUVUQURBVEFfTkFNRVM7XG4gICAgcmVhZG9ubHkgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHBhcmVudD86IHN0cmluZztcbiAgICByZWFkb25seSBpc1RvdWNoZWQ6IGJvb2xlYW47XG59XG4vKiogQGludGVybmFsICovXG50eXBlIFR5cGVWYWxpZGF0aW9uRWxlbWVudCA9IHsgcmVzdWx0czogQXJyYXk8SVZhbGlkYXRpb24+LCBzdHlsZXM6IHN0cmluZyB9O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gVmFsaWRhdGlvblJlc3VsdHMocHJvcHM6IFR5cGVWYWxpZGF0aW9uRWxlbWVudCk6IFJlYWN0RWxlbWVudDxUeXBlVmFsaWRhdGlvbkVsZW1lbnQ+IHtcbiAgICBjb25zdCB7IHJlc3VsdHMsIHN0eWxlcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuICg8PntyZXN1bHRzLm1hcCgocmVzdWx0OiBJVmFsaWRhdGlvbikgPT5cbiAgICAgICAgcmVzdWx0Lm1lc3NhZ2VzLm1hcCgobXNnOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+XG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17c3R5bGVzfT57bXNnfTwvZGl2PlxuICAgICAgICApKX08Lz4pO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRm9ybUVsZW1lbnRWYWxpZGF0b3JzID0gKHByb3BzOiBJRm9ybUVsZW1lbnRWYWxpZGF0b3JzKTogUmVhY3RFbGVtZW50fG51bGwgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQ6IElGb3JtQ29udGV4dCA9IHVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuICAgIGNvbnN0IHN0eWxlcyA9ICFjb250ZXh0LmJhcmUgPyBgYWxlcnQgbXQtMiBhbGVydC1kYW5nZXIgJHtwcm9wcy5jbGFzc05hbWV9YCA6IHByb3BzLmNsYXNzTmFtZTtcbiAgICBpZihwcm9wcy5pc1RvdWNoZWQpe1xuICAgICAgICByZXR1cm4gPFZhbGlkYXRpb25SZXN1bHRzIHJlc3VsdHM9e3Byb3BzLnJlc3VsdHN9IHN0eWxlcz17c3R5bGVzIHx8IFwiXCJ9IC8+XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge2dldEZpbGVGcm9tUmVmfSBmcm9tIFwiLi4vdW5jcm9udHJvbGxlZFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbGFzdE1vZGlmaWVkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbGFzdE1vZGlmaWVkRGF0ZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHNpemU6IHN0cmluZztcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlT2JqZWN0KHJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD4pOiBJRmlsZXxudWxsIHtcbiAgICBsZXQgZmlsZURhdGEgPSBnZXRGaWxlRnJvbVJlZihyZWYpO1xuICAgIGlmKGZpbGVEYXRhKSB7XG4gICAgICAgIGxldCB7bmFtZSwgbGFzdE1vZGlmaWVkLCBsYXN0TW9kaWZpZWREYXRlLCBzaXplLCB0eXBlfSA9IGZpbGVEYXRhO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZCxcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZERhdGUsXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCIvLyBIYW5kbGVyc1xuLy8gSGFuZGxlcnMgYXJlIG1ldGhvZHMgb24gdGhlIGNvbnRleHQgb2JqZWN0IHRoYXQgdXBkYXRlIHN0YXRlLlxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0lSYWRpb0dyb3VwUGFyZW50Q29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcblxuLyoqIEBpbnRlcm5hbCAqL1xudHlwZSBUeXBlSGFuZGxlciA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIF9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KHBhcmVudFN0YXRlOiBhbnksIGZvcm1LZXk6IHN0cmluZyA9IFwiXCIsIG9iajogYW55ID0ge30pOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgaWYoZm9ybUtleSkge1xuICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbZm9ybUtleV06IHtcbiAgICAgICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZVtmb3JtS2V5XSxcbiAgICAgICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZSxcbiAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXJlbnRTdGF0ZShwYXJlbnRTdGF0ZTogYW55LCBzZXRQYXJlbnRTdGF0ZTogRnVuY3Rpb24sIGZvcm1LZXk6IHN0cmluZyA9IFwiXCIpOiBUeXBlSGFuZGxlciB7XG4gICAgcmV0dXJuIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0UGFyZW50U3RhdGUoe1xuICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICAuLi5fZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleShwYXJlbnRTdGF0ZSwgZm9ybUtleSwge1tuYW1lXTogZS50YXJnZXQudmFsdWV9KSxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQocGFyZW50U3RhdGU6IGFueSwgc2V0UGFyZW50U3RhdGU6IEZ1bmN0aW9uLCBmb3JtS2V5OiBzdHJpbmcgPSBcIlwiKSB7XG4gICAgcmV0dXJuIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIHJhZGlvR3JvdXA6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCkgPT4ge1xuICAgICAgICBpZiAocmFkaW9Hcm91cCkge1xuICAgICAgICAgICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlLFxuICAgICAgICAgICAgICAgICAuLi5fZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleShwYXJlbnRTdGF0ZSwgZm9ybUtleSwge1tuYW1lXTogdHJ1ZX0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvcihsZXQgY2hpbGRyZW4gb2YgcmFkaW9Hcm91cC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmKGNoaWxkcmVuLnByb3BzLm5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLl9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KG5ld1N0YXRlLCBmb3JtS2V5LCB7W2NoaWxkcmVuLnByb3BzLm5hbWVdOiBmYWxzZX0pLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGFyZW50U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7TUVUQURBVEFfTkFNRVMsIFR5cGVGaWVsZFZhbHVlVHlwZXN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGNzc1Byb3BzOiBhbnksIGJhcmU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGxldCBjc3NTdHIgPSBcIlwiO1xuICAgIGlmKCFiYXJlKSB7XG4gICAgICAgIGNzc1N0ciArPSBgJHtkZWZhdWx0VmFsdWV9IGA7XG4gICAgfVxuICAgIGlmIChjc3NQcm9wcykge1xuICAgICAgICBjc3NTdHIgKz0gYCR7Y3NzUHJvcHN9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNzc1N0cjtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFkYXRhTmFtZVR5cGUodHlwZTogRklFTERfTkFNRVMpOiBNRVRBREFUQV9OQU1FUyB7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuRU1BSUw6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5QQVNTV09SRDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlRFWFRBUkVBOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuUkFESU86IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5SQURJT19HUk9VUFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5DSEVDS0JPWDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLkNIRUNLQk9YRVM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5TRUxFQ1Q6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5GSUxFOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuRklMRVM7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVUeXBlKHR5cGU6IEZJRUxEX05BTUVTKTogVHlwZUZpZWxkVmFsdWVUeXBlcyB7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuRU1BSUw6IHtcbiAgICAgICAgICAgIHJldHVybiBcInZhbHVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5QQVNTV09SRDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlRFWFRBUkVBOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuQ0hFQ0tCT1g6IHtcbiAgICAgICAgICAgIHJldHVybiBcImNoZWNrZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlNFTEVDVDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLkZJTEU6IHtcbiAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlJBRElPOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJjaGVja2VkXCJcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gRXhwb3J0IFJlZ2V4IGV4cHJlc3Npb25zIGhlcmVcblxuXG5leHBvcnQgY29uc3QgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge3VwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQsIHVwZGF0ZVBhcmVudFN0YXRlLCBfRmllbGRFbXB0eUVycm9yTXNnfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge1xuICAgIEFic3RyYWN0TWV0YWRhdGEsXG4gICAgTWV0YWRhdGEsXG4gICAgTWV0YWRhdGFGaWxlLFxuICAgIE1ldGFkYXRhR3JvdXAsXG59IGZyb20gXCIuL2ZpZWxkX2NsYXNzZXNcIjtcbmltcG9ydCB7IF9ub0NvbnRleHRFcnJvciB9IGZyb20gXCIuL2NvcmUvX2Vycm9yc1wiO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlRmllbGRWYWx1ZVR5cGVzID0gXCJ2YWx1ZVwifFwiY2hlY2tlZFwifFwiZmlsZVwiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJRmllbGRWYWx1ZXMge1xuICAgIGN1cnJlbnRWYWx1ZTogYW55O1xuICAgIHJlYWRvbmx5IHR5cGU6IFR5cGVGaWVsZFZhbHVlVHlwZXM7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElGaWVsZFZhbGlkYXRpb24ge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj47XG4gICAgZmllbGRWYWx1ZXM6IElGaWVsZFZhbHVlcztcbiAgICBpc1RvdWNoZWQ6IGJvb2xlYW47XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElJbnB1dEZpZWxkTWV0YWRhdGEgZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uIHt9XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlTWV0YURhdGEgZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uIHtcbiAgICByZWFkb25seSByZWZOYW1lOiBzdHJpbmc7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElSYWRpb0dyb3VwQ2hpbGRyZW4gZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uIHt9XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElDaGVja0JveGVzTWV0YWRhdGEgZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uIHt9XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlSW5wdXRNZXRhZGF0YSA9IEFic3RyYWN0TWV0YWRhdGE8SUlucHV0RmllbGRNZXRhZGF0YT47XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlRmlsZU1ldGFkYXRhID0gQWJzdHJhY3RNZXRhZGF0YTxJRmlsZU1ldGFEYXRhPjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIFR5cGVSYWRpb0dyb3VwTWV0YWRhdGEgPSBBYnN0cmFjdE1ldGFkYXRhPElSYWRpb0dyb3VwQ2hpbGRyZW4+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUNoZWNrYm94ZXNNZXRhZGF0YSA9IEFic3RyYWN0TWV0YWRhdGE8SUNoZWNrQm94ZXNNZXRhZGF0YT47XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlRm9ybU1ldGFkYXRhID1cbiAgICB8IFR5cGVJbnB1dE1ldGFkYXRhXG4gICAgfCBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhXG4gICAgfCBUeXBlQ2hlY2tib3hlc01ldGFkYXRhXG4gICAgfCBUeXBlRmlsZU1ldGFkYXRhO1xuXG5leHBvcnQgaW50ZXJmYWNlIElNZXRhZGF0YSB7XG4gICAgcmFkaW9Hcm91cHM6IFR5cGVSYWRpb0dyb3VwTWV0YWRhdGE7XG4gICAgaW5wdXRzOiBUeXBlSW5wdXRNZXRhZGF0YTtcbiAgICBmaWxlczogVHlwZUlucHV0TWV0YWRhdGE7XG4gICAgY2hlY2tib3hlczogVHlwZUNoZWNrYm94ZXNNZXRhZGF0YTtcblxufVxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBlbnVtIE1FVEFEQVRBX05BTUVTIHtcbiAgICBJTlBVVFMgPSBcImlucHV0c1wiLFxuICAgIFJBRElPX0dST1VQUyA9IFwicmFkaW9Hcm91cHNcIixcbiAgICBGSUxFUyA9IFwiZmlsZXNcIixcbiAgICBDSEVDS0JPWEVTID0gXCJjaGVja2JveGVzXCIsXG59XG4vKipcbiAqIEBpbnRlcmZhY2UgKipJRm9ybSoqIEV4cG9ydGVkIEZvcm0gaW50ZXJmYWNlIGF2YWlsYWJsZSB0byB0aGUgY2FsbGVyLiBDb250YWlucyBhbGwgdGhlIHByb3BlcnRpZXMgcmVxdWlyZWQgYnlcbiAqIHRoZSBGb3JtICpSQkYqIEZvcm0ncyBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUZvcm0gZXh0ZW5kcyBSZWFjdC5Gb3JtSFRNTEF0dHJpYnV0ZXM8SFRNTEZvcm1FbGVtZW50PiB7XG4gICAgLyoqIFRoZSBwYXNzZWQgaW4gc3RhdGUgZnJvbSB0aGUgcGFyZW50TmFtZSBjb21wb25lbnQgKi9cbiAgICBzdGF0ZTogYW55O1xuICAgIC8qKiBJZiB0aGUgcGFyZW50TmFtZSBjb21wb25lbnQgaXMgYSBjbGFzcyBjb21wb25lbnQgdGhlbiB0aGUgY29udGV4dCBtdXN0IGNvbnRhaW4gdGhlIHBhcmVudE5hbWUncyAqKnRoaXMqKiBrZXl3b3JkLiAqL1xuICAgIGNvbnRleHQ/OiBhbnk7XG4gICAgLyoqIElmIHRoZSBmb3JtJ3Mgc3RhdGUgaXMgbm90IGRpcmVjdGx5IGNvbnRhaW5lZCBhdCBwYXJlbnROYW1lJ3Mgc3RhdGUgcm9vdCBvYmplY3QsIHRoZW4gZm9ybUtleSBuZWVkcyB0byByZXByZXNlbnQgdGhlIGtleS4gKi9cbiAgICByZWFkb25seSBmb3JtS2V5Pzogc3RyaW5nO1xuICAgIC8qKiBEZWZhdWx0IGlzIGZhbHNlLiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBmb3JtIHN0YXRlIHdpbGwgYmUgZGlzcGxheWVkIGp1c3QgYmVsb3cgdGhlIGZvcm0gY29tcG9uZW50IGluIGBjb2RlYCB0YWdzLiAqL1xuICAgIHJlYWRvbmx5IGRlYnVnPzogYm9vbGVhbjtcbiAgICAvKiogRGVmYXVsdCBpcyBUcnVlLiBJZiBzZXQgdG8gZmFsc2UsIHRoZSAgdmFsaWRhdG9ycyB3aWxsIG5vdCBiZSBjYWxsZWQgdW50aWwgdGhlIGZvcm0gaXMgc3VibWl0dGVkLiAqL1xuICAgIHJlYWRvbmx5IGR5bmFtaWM/OiBib29sZWFuO1xuICAgIC8qKiBUaGUgcGFzc2VkIHRocm91Z2ggcHJvcHMgdG8gdGhlIEZvcm0gY29tcG9uZW50ICovXG4gICAgY2hpbGRyZW4/OiBhbnk7XG4gICAgLyoqIERlZmF1bHQgc2V0IHRvIGZhbHNlLiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIGl0IHdpbGwgbm93IHVzZSBib290c3RyYXAgc3R5bGluZyBvciBhbnkgZXh0cmEgZWxlbWVudHMuICovXG4gICAgcmVhZG9ubHkgYmFyZT86IGJvb2xlYW47XG4gICAgLyoqIENhbGxiYWNrIGZ1bmN0aW9uIHdpbCBiZSBjYWxsZWQgb24gZm9ybSBzdWJtaXNzaW9uIGlmIGFsbCB2YWxpZGF0b3JzIHBhc3MgKi9cbiAgICByZWFkb25seSBjYWxsYmFjaz86IEZ1bmN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtQ29udGV4dCB7XG4gICAgcmVhZG9ubHkgYmFyZT86IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgZGVidWc/OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGR5bmFtaWM/OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGZvcm1LZXk/OiBzdHJpbmc7XG4gICAgbWV0YWRhdGE6IElNZXRhZGF0YTtcbiAgICBzdGF0ZTogYW55O1xuICAgIHVwZGF0ZVBhcmVudFN0YXRlPzogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4sIG5hbWU6IHN0cmluZywgZm9ybUtleT86IHN0cmluZykgPT4gdm9pZDtcbiAgICB1cGRhdGVSYWRpb0dyb3VwU3RhdGVGcm9tUGFzc2VkSW5Db250ZXh0PzogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4sIG5hbWU6IHN0cmluZywgcmFkaW9Hcm91cDogYW55LCBmb3JtS2V5Pzogc3RyaW5nKSA9PiB2b2lkO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgSU5QVVRTX1NUQVRFOiBUeXBlSW5wdXRNZXRhZGF0YSA9IHt9IGFzIGFueTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IFJBRElPX0dST1VQU19TVEFURTogVHlwZVJhZGlvR3JvdXBNZXRhZGF0YSA9IHt9IGFzIGFueTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IEZJTEVTX1NUQVRFOiBUeXBlRmlsZU1ldGFkYXRhID0ge30gYXMgYW55O1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgQ0hFQ0tCT1hFU19TVEFURTogVHlwZUNoZWNrYm94ZXNNZXRhZGF0YSA9IHt9IGFzIGFueTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IHByb3ZpZGVyQ29udGV4dDogSUZvcm1Db250ZXh0ID0ge1xuICAgIGJhcmU6IGZhbHNlLFxuICAgIHN0YXRlOiB7fSxcbiAgICBmb3JtS2V5OiBudWxsIGFzIGFueSxcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgZHluYW1pYzogdHJ1ZSxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBpbnB1dHM6IG51bGwgYXMgYW55LFxuICAgICAgICByYWRpb0dyb3VwczogbnVsbCBhcyBhbnksXG4gICAgICAgIGZpbGVzOiBudWxsIGFzIGFueSxcbiAgICAgICAgY2hlY2tib3hlczogbnVsbCBhcyBhbnksXG4gICAgfSxcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCB7XG4gICAgcGFyZW50PzogeyBuYW1lOiBzdHJpbmcgfTtcbiAgICBjaGlsZHJlbj86IGFueTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBSYWRpb0dyb3VwQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8VHlwZVJhZGlvR3JvdXBNZXRhZGF0YT4oUkFESU9fR1JPVVBTX1NUQVRFKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBGb3JtQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SUZvcm1Db250ZXh0Pihwcm92aWRlckNvbnRleHQpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEZvcm1Qcm92aWRlciA9IEZvcm1Db250ZXh0LlByb3ZpZGVyO1xuLyoqXG4gKiBAdmFyIEFjY2VzcyB0aGUgZm9ybSBzdGF0ZSB3aXRoaW4gYSBSZWFjdCBDb250ZXh0IEFwaSBDb25zdW1lciBzY29wZVxuICogQGV4YW1wbGUgRm9yIGV4YW1wbGU6XG4gKiBgYGBcbiAqIDxGb3JtIHN0YXRlPXt0aGlzLnN0YXRlfSBjb250ZXh0PXt0aGlzfT5cbiAqICAgICAgPEZvcm1Db25zdW1lcj5cbiAqICAgICAgeyh7c3RhdGV9KSA9PiB7XG4gKiAgICAgICAgICByZXR1cm4gPGRpdj57c3RhdGV9IGlzIGVxdWFsIHtteVN0YXRlfTwvZGl2PjtcbiAqICAgICAgfX1cbiAqICAgIDwvRm9ybUNvbnN1bWVyPlxuICogPC9Gb3JtPlxuICogYGBgXG4gKiAqL1xuZXhwb3J0IGNvbnN0IEZvcm1Db25zdW1lciA9IEZvcm1Db250ZXh0LkNvbnN1bWVyO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaGFuZGxlU3VibWl0ID0gKHByb3BzOiBJRm9ybSkgPT5cbiAgICAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2ssIH0gPSBwcm9wcztcbiAgICAgICAgaWYodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiYgY2FsbGJhY2soKSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgIH07XG5cbi8qKlxuICogVGhlIG1haW4gRm9ybSBjb21wb25lbnQgdGhhdCBpcyByZXF1aXJlZCB0byB3cmFwIGFsbCAqUkJGKiBjb21wb25lbnRzLlxuICogSWYgdGhlIGNvbXBvbmVudCB0aGF0IHVzZXMgdGhlIEZvcm0gY29tcG9uZW50IGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnQgdGhlblxuICogb25seSB0aGUgc3RhdGUgcHJvcHMgJiBzdGF0ZSB1cGRhdGUgZnVuY3Rpb24gcmV0dXJuZWQgZnJvbSB0aGUgdXNlU3RhdGUgaG9vayBhcmVcbiAqIHJlcXVpcmVkLiBJZiB5b3UgYXJlIGNhbGxpbmcgRm9ybSBjb21wb25lbnQgZnJvbSBhIGNsYXNzIGNvbXBvbmVudCB0aGVuIHlvdSBtdXN0IFxuICogcGFzcyB5b3VyIGxvY2FsIGNvbnRleHQgb3IgYHRoaXNgIGtleXdvcmQgdG9cbiAqIHRoZSBgY29udGV4dGAgcHJvcC5cbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSUZvcm19XG4gKlxuICogQW4gZXhhbXBsZSB1c2luZyAqUkJGKiBGb3JtIGNvbXBvbmVudCBpbiBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAvLyBNaW5pbWFsIHNldHVwIGZvciBhIFJCRidzIEZvcm0gY29tcG9uZW50XG4gKlxuICogIGNvbnN0IG15U3RhdGUgPSB7XG4gKiAgICAgIHVzZXJuYW1lOiAnJyxcbiAqICB9XG4gKiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZShzdGF0ZSk7XG4gKiAgPEZvcm0gc3RhdGU9e215U3RhdGV9IGNvbnRleHQ9e3NldFN0YXRlfT48L0Zvcm0+XG4gKiBgYGBcbiAqXG4gKiBUbyB1c2UgKlJCRiogRm9ybSBjb21wb25lbnQgZnJvbSBhIGNsYXNzIGNvbXBvbmVudCB5b3UgbXVzdCBwYXNzIGluIHlvdXJcbiAqIGxvY2FsIHN0YXRlIG9mIGB0aGlzYCBrZXl3b3JkLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gTWluaW1hbCBzZXR1cCBmb3IgYSBSQkYncyBGb3JtIGNvbXBvbmVudCBmb3IgYSBjbGFzcyBjb21wb25lbnRcbiAqXG4gKiAgdGhpcy5zdGF0ZSA9IHsgLy8gaW4gdGhlIGNvbnN0cnVjdG9yXG4gKiAgICAgIHVzZXJuYW1lOiAnJyxcbiAqICB9XG4gKlxuICogIDxGb3JtIHN0YXRlPXt0aGlzLnN0YXRlfSBjb250ZXh0PXt0aGlzfT48L0Zvcm0+XG4gKiBgYGBcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgRm9ybSA9IChwcm9wczogSUZvcm0pID0+IHtcbiAgICBjb25zdCBbcGFyZW50U3RhdGUsIHNldFBhcmVudFN0YXRlXSA9IHVzZVN0YXRlKHByb3BzLnN0YXRlKTtcbiAgICBjb25zdCBbY29udGV4dCwgX10gPSB1c2VTdGF0ZShwcm92aWRlckNvbnRleHQpO1xuICAgIGNvbnN0IFtpbnB1dFN0YXRlLCB1cGRhdGVJbnB1dFN0YXRlXSA9IHVzZVN0YXRlKElOUFVUU19TVEFURSk7XG4gICAgY29uc3QgW2NoZWNrYm94ZXNTdGF0ZSwgdXBkYXRlQ2hlY2tib3hlc1N0YXRlXSA9IHVzZVN0YXRlKENIRUNLQk9YRVNfU1RBVEUpO1xuICAgIGNvbnN0IFtmaWxlU3RhdGUsIHVwZGF0ZUZpbGVTdGF0ZV0gPSB1c2VTdGF0ZShGSUxFU19TVEFURSk7XG4gICAgY29uc3QgW3JhZGlvU3RhdGUsIHVwZGF0ZVJhZGlvU3RhdGVdID0gdXNlU3RhdGUoUkFESU9fR1JPVVBTX1NUQVRFKTtcbiAgICAvLyBJZiB0aGUgcGFyZW50TmFtZSBjb21wb25lbnQgaXMgYSBjbGFzcyBjb21wb25lbnQsIHRoZW4gdGhlIHN0YXRlIG5lZWRzIHRvIGJlIHVwZGF0ZWQgZnJvbSB0aGUgcGFyZW50TmFtZSBjb250ZXh0XG4gICAgLy8gRnVuY3Rpb25zIGNvbXBvbmVudCBtdXN0IHVzZSB1c2VTdGF0ZSBob29rLiBTZWUgaHR0cHM6Ly9qb2VnYXNld2ljei5naXRodWIuaW8vcmVhY3QtYmFyZS1mb3Jtcy9tb2R1bGVzL19mb3JtXy5odG1sXG4gICAgaWYocHJvcHMuY29udGV4dCAmJiBcInNldFN0YXRlXCIgaW4gcHJvcHMuY29udGV4dCkge1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMuY29udGV4dC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW3BhcmVudFN0YXRlXSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5jb250ZXh0KSB7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5jb250ZXh0KHtcbiAgICAgICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBbcGFyZW50U3RhdGVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgX0ZpZWxkRW1wdHlFcnJvck1zZyhfbm9Db250ZXh0RXJyb3IpO1xuICAgIH1cbiAgICAvLyBTdGF0ZSBIb29rc1xuICAgIGNvbnN0IF9wcm92aWRlckNvbnRleHQ6IElGb3JtQ29udGV4dCA9IHtcbiAgICAgICAgYmFyZTogcHJvcHMuYmFyZSB8fCBjb250ZXh0LmJhcmUsXG4gICAgICAgIHN0YXRlOiBwcm9wcy5zdGF0ZSxcbiAgICAgICAgZm9ybUtleTogcHJvcHMuZm9ybUtleSxcbiAgICAgICAgZGVidWc6IHByb3BzLmRlYnVnIHx8IGNvbnRleHQuZGVidWcsXG4gICAgICAgIGR5bmFtaWM6IHByb3BzLmR5bmFtaWMgfHwgY29udGV4dC5keW5hbWljLFxuICAgICAgICB1cGRhdGVQYXJlbnRTdGF0ZTogdXBkYXRlUGFyZW50U3RhdGUocGFyZW50U3RhdGUsIHNldFBhcmVudFN0YXRlLCBwcm9wcy5mb3JtS2V5KSxcbiAgICAgICAgdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dDogdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dChwYXJlbnRTdGF0ZSwgc2V0UGFyZW50U3RhdGUsIHByb3BzLmZvcm1LZXkpLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgW01FVEFEQVRBX05BTUVTLklOUFVUU106IG5ldyBNZXRhZGF0YTxJSW5wdXRGaWVsZE1ldGFkYXRhPihcbiAgICAgICAgICAgICAgICBpbnB1dFN0YXRlIGFzIHt9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZUlucHV0U3RhdGUsXG4gICAgICAgICAgICAgICAgTUVUQURBVEFfTkFNRVMuSU5QVVRTLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFtNRVRBREFUQV9OQU1FUy5DSEVDS0JPWEVTXTogbmV3IE1ldGFkYXRhPElDaGVja0JveGVzTWV0YWRhdGE+KFxuICAgICAgICAgICAgICAgIGNoZWNrYm94ZXNTdGF0ZSBhcyB7fSxcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGVja2JveGVzU3RhdGUsXG4gICAgICAgICAgICAgICAgTUVUQURBVEFfTkFNRVMuQ0hFQ0tCT1hFUyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBbTUVUQURBVEFfTkFNRVMuRklMRVNdOiBuZXcgTWV0YWRhdGFGaWxlPElGaWxlTWV0YURhdGE+KFxuICAgICAgICAgICAgICAgIGZpbGVTdGF0ZSBhcyB7fSxcbiAgICAgICAgICAgICAgICB1cGRhdGVGaWxlU3RhdGUsXG4gICAgICAgICAgICAgICAgTUVUQURBVEFfTkFNRVMuRklMRVMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgW01FVEFEQVRBX05BTUVTLlJBRElPX0dST1VQU106IG5ldyBNZXRhZGF0YUdyb3VwPElSYWRpb0dyb3VwQ2hpbGRyZW4+KFxuICAgICAgICAgICAgICAgIHJhZGlvU3RhdGUgYXMgYW55LFxuICAgICAgICAgICAgICAgIHVwZGF0ZVJhZGlvU3RhdGUsXG4gICAgICAgICAgICAgICAgTUVUQURBVEFfTkFNRVMuUkFESU9fR1JPVVBTLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtUHJvdmlkZXIgdmFsdWU9e19wcm92aWRlckNvbnRleHR9PlxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdChwcm9wcyl9Pntwcm9wcy5jaGlsZHJlbn08L2Zvcm0+XG4gICAgICAgIDwvRm9ybVByb3ZpZGVyPlxuICAgICk7XG59O1xuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0LCBSZWFjdEVsZW1lbnQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdH0gZnJvbSBcInJlYWN0XCI7XG5cblxuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJRmllbGRCYXNlfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge1xuICAgIEZvcm1FbGVtZW50VmFsaWRhdG9ycyxcbiAgICBnZXRGaWVsZFZhbHVlVHlwZSxcbiAgICBnZXRNZXRhZGF0YU5hbWVUeXBlLFxufSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHtcbiAgICBGb3JtQ29udGV4dCxcbiAgICBJRm9ybUNvbnRleHQsIFR5cGVGaWVsZFZhbHVlVHlwZXMsXG4gICAgVHlwZUZvcm1NZXRhZGF0YSxcbn0gZnJvbSBcIi4uL2Zvcm1cIjtcblxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogQGNoaWxkIGNsYXNzIElucHV0RmllbGQgY2xhc3MgaGFzIGEgKmZpbGUqIG1lbWJlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIElBYnN0cmFjdEZpZWxkPFQ+IHtcbiAgICBjcmVhdGU6IChjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IFJlYWN0RWxlbWVudDxUPjtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgcHJvcHM6IFQ7XG4gICAgbWV0YWRhdGE6IFR5cGVGb3JtTWV0YWRhdGE7XG4gICAgYmFyZTogYm9vbGVhbjtcbiAgICBvdmVycmlkZUV2ZW50OiAoZTogYW55LCB2YWx1ZTogYW55KSA9PiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+O1xuICAgIGdldEZpZWxkVmFsdWU6IChwcm9wczogYW55KSA9PiBhbnlcbiAgICB2YWxpZGF0ZT86ICgpID0+IEFycmF5PElWYWxpZGF0aW9uPjtcbiAgICBkb1ZhbGlkYXRpb246ICh2YWx1ZTogYW55KSA9PiBBcnJheTxJVmFsaWRhdGlvbj47XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2VuZXJpY0Zvcm1Hcm91cDxUIGV4dGVuZHMgSUZpZWxkQmFzZT4ocHJvcHM6IFQsIGNoaWxkcmVuOiBhbnkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIHtwcm9wcy5sYWJlbHRleHQgJiYgPGxhYmVsPntwcm9wcy5sYWJlbHRleHR9PC9sYWJlbD59XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICB7cHJvcHMuaGludCAmJiA8c21hbGwgY2xhc3NOYW1lPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj57cHJvcHMuaGludH08L3NtYWxsPn1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0RmllbGQ8VCBleHRlbmRzIElGaWVsZEJhc2U+IHtcbiAgICBwdWJsaWMgdHlwZTogRklFTERfTkFNRVM7XG4gICAgcHVibGljIHByb3BzOiBUO1xuICAgIHB1YmxpYyBwYXJlbnQ/OiBzdHJpbmc7XG4gICAgcHVibGljIF9tZXRhZGF0YT86IFR5cGVGb3JtTWV0YWRhdGE7XG4gICAgcHVibGljIF9iYXJlPzogYm9vbGVhbjtcbiAgICBwdWJsaWMgY29udGV4dD86IElGb3JtQ29udGV4dDtcbiAgICBwcml2YXRlIF9wYXJlbnROYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGdldCBwYXJlbnROYW1lKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROYW1lO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IHBhcmVudE5hbWUodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9wYXJlbnROYW1lID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHByb3BzOiBULCB0eXBlOiBGSUVMRF9OQU1FUykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGdldCBiYXJlKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLl9iYXJlKTtcbiAgICB9XG5cbiAgICBzZXQgYmFyZSh2YWw6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fYmFyZSA9IHZhbDtcbiAgICB9XG5cbiAgICBnZXQgbWV0YWRhdGEoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fbWV0YWRhdGEgYXMgVHlwZUZvcm1NZXRhZGF0YSk7XG4gICAgfVxuXG4gICAgc2V0IG1ldGFkYXRhKHZhbDogVHlwZUZvcm1NZXRhZGF0YSkge1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IHZhbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHVzZUNvbnRleHQ8SUZvcm1Db250ZXh0PihGb3JtQ29udGV4dCk7XG4gICAgICAgIC8vIHRoaXMuc3RhdGVGcm9tRm9ybUtleSA9XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB0aGlzLmNvbnRleHQubWV0YWRhdGFbZ2V0TWV0YWRhdGFOYW1lVHlwZSh0aGlzLnR5cGUpXTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5pbml0KHRoaXMucHJvcHMubmFtZSwgdGhpcy50eXBlKTtcbiAgICAgICAgdGhpcy5iYXJlID0gQm9vbGVhbih0aGlzLmNvbnRleHQuYmFyZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldFByb3BzKCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcztcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRmllbGQoZmllbGRDYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgY29uc3QgX3ZhbGlkYXRlID0gdGhpcy5wcm9wcy52YWxpZGF0b3JzIHx8IHRoaXMucGFyZW50TmFtZSA/XG4gICAgICAgICAgICA8Rm9ybUVsZW1lbnRWYWxpZGF0b3JzXG4gICAgICAgICAgICAgICAgaXNUb3VjaGVkPXt0aGlzLm1ldGFkYXRhLmlzRmllbGRUb3VjaGVkKCl9XG4gICAgICAgICAgICAgICAgcmVzdWx0cz17dGhpcy52YWxpZGF0ZSgpfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICB0eXBlPXtnZXRNZXRhZGF0YU5hbWVUeXBlKHRoaXMudHlwZSl9XG4gICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzLnBhcmVudH1cbiAgICAgICAgICAgIC8+IDpcbiAgICAgICAgICAgIG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuYmFyZSkge1xuICAgICAgICAgICAgcmV0dXJuICg8PntmaWVsZENhbGxiYWNrKHRoaXMubWV0YWRhdGEuc3RhdGUpfXtfdmFsaWRhdGV9PC8+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoPD57dGhpcy5mb3JtR3JvdXAoZmllbGRDYWxsYmFjayh0aGlzLm1ldGFkYXRhLnN0YXRlKSl9e192YWxpZGF0ZX08Lz4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICBwdWJsaWMgZG9WYWxpZGF0aW9uKHZhbHVlOiBhbnkpOiBBcnJheTxJVmFsaWRhdGlvbj4ge1xuICAgICAgIGxldCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4gPSBbXTtcbiAgICAgICAvLyBDYXJyeSBvdXQgdGhlIHZhbGlkYXRpb25cbiAgICAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0b3JzKSB7XG4gICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGUgb2YgdGhpcy5wcm9wcy52YWxpZGF0b3JzKSB7XG4gICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gW1xuICAgICAgICAgICAgICAgICAgIC4uLnZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGUodmFsdWUsIHRoaXMuY29udGV4dCksXG4gICAgICAgICAgICAgICBdO1xuICAgICAgICAgICB9XG4gICAgICAgfVxuXG4gICAgICAgcmV0dXJuIHZhbGlkYXRpb247XG4gICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAZGVzY3JpcHRpb24gTm9ybWFsbHksIHRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGZyb20gdGhpcyBzdXBlciBjbGFzcy4gQnV0IGl0IGlzIHB1YmxpYyBhc1xuICAgICAqIHRoZXJlIGFyZSBzb21lIGVkZ2UgY2FzZXMgd2hlcmUgaXQgbmVlZHMgdG8gYmUgY2FsbGVkIGJ5IGEgY2hpbGQgY2xhc3MgdGhhdCBleHRlbmRzIEFic3RyYWN0RmllbGQuXG4gICAgICovXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IEFycmF5PElWYWxpZGF0aW9uPiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZSh0aGlzLnByb3BzKTtcbiAgICAgICAgLy8gQ2Fycnkgb3V0IHRoZSB2YWxpZGF0aW9uXG4gICAgICAgIGxldCB2YWxpZGF0aW9uID0gdGhpcy5kb1ZhbGlkYXRpb24odmFsdWUpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIG1ldGFkYXRhIHR5cGUgc3RhdGVcbiAgICAgICAgdGhpcy5tZXRhZGF0YS51cGRhdGUodmFsdWUsIHZhbGlkYXRpb24pO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBvdmVycmlkZGVuIGluIHRoZSBSYWRpb0ZpZWxkIHN1YiBjbGFzc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGaWVsZFZhbHVlKHByb3BzOiBUKTogYW55IHtcbiAgICAgICAgbGV0IHR5cGUgPSBnZXRGaWVsZFZhbHVlVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgICByZXR1cm4gKHRoaXMucHJvcHMgYXMgVCAmIFR5cGVGaWVsZFZhbHVlVHlwZXMpW3R5cGUgYXMgYW55XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdEVsZW1lbnQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RmllbGQoKTogKGNvbnRleHQ6IElGb3JtQ29udGV4dCkgPT4gUmVhY3RFbGVtZW50O1xuXG4gICAgc3RhdGljIG1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyhkZWZhdWx0VmFsdWU6IHN0cmluZywgY3NzUHJvcHM6IGFueSwgYmFyZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIGxldCBjc3NTdHIgPSBcIlwiO1xuICAgICAgICBpZiAoIWJhcmUpIHtcbiAgICAgICAgICAgIGNzc1N0ciArPSBgJHtkZWZhdWx0VmFsdWV9IGA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNzc1Byb3BzKSB7XG4gICAgICAgICAgICBjc3NTdHIgKz0gYCR7Y3NzUHJvcHN9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3NzU3RyO1xuICAgIH1cblxuICAgIHB1YmxpYyBvdmVycmlkZUV2ZW50KGU6IGFueSwgdmFsdWU6IGFueSk6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZSxcbiAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgIC4uLmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIHZhbHVlOiAhdmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KCk6IHtba2V5OiBzdHJpbmddOiBhbnl9IHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dD8uZm9ybUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdGF0ZVt0aGlzLmNvbnRleHQuZm9ybUtleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dD8uc3RhdGU7XG4gICAgfVxuXG59XG4iLCIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQUklWQVRFIFNFUlZJQ0UgQ0xBU1NFUyBUTyBDUkVBVEUgTUVUQURBVEEgT0JKRUNUU1xuLy8gIDEuIEFic3RyYWN0TWV0YWRhdGFcbi8vICAyLiBNZXRhZGF0YVxuLy8gIDMuIE1ldGFkYXRhR3JvdXBcbi8vXG4vLyAgSU1QT1JUQU5UOiBPYmplY3RzIHRoYXQgaW1wbGVtZW50IEFic3RyYWN0TWV0YWRhdGEgRE8gTk9UIGNhcmUgYWJvdXQgdGhlIElGb3JtQ29udGV4dC5cbi8vICBJTVBPUlRBTlQ6IE1ldGFkYXRhIG9iamVjdHMgb25seSBjYXJlIGFib3V0IHRoZWlyIG93biBJTWV0YWRhdGEgc3RhdGUgdHlwZSAoc2VlIE1FVEFEQVRBX05BTUVTKS5cbi8vICBJTVBPUlRBTlQ6IENoaWxkcmVuIG9iamVjdHMgb2YgTWV0YWRhdGFHcm91cCBjYXJlIGFib3V0IHRoZWlyIHBhcmVudE5hbWUgJiB0aGVpciBvd24gc3RhdGUgdHlwZSBvbmx5LlxuaW1wb3J0IHtNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBpbnRlcmZhY2UgSU1ldGFkYXRhPFQ+IHtcbiAgICBzdGF0ZToge1trOiBzdHJpbmddOiBUfTtcbiAgICByZWFkb25seSB1cGRhdGVTdGF0ZTogRnVuY3Rpb247XG4gICAgcmVhZG9ubHkgbWV0YVR5cGU6IHN0cmluZztcbiAgICBmaWVsZFR5cGU6IEZJRUxEX05BTUVTO1xuICAgIHBhcmVudE5hbWU/OiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIGRlZmF1bHRTdGF0ZToge307XG4gICAgaW5pdDogKG5hbWU6IHN0cmluZywgZmllbGRUeXBlOiBGSUVMRF9OQU1FUykgPT4gdm9pZDtcbiAgICB1cGRhdGU6IChwcm9wczogYW55LCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4pID0+IHZvaWQ7XG59XG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RNZXRhZGF0YTxUPiBpbXBsZW1lbnRzIElNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIHN0YXRlOiB7W2s6IHN0cmluZ106IFR9O1xuICAgIHB1YmxpYyByZWFkb25seSB1cGRhdGVTdGF0ZTogRnVuY3Rpb247XG4gICAgcHVibGljIHJlYWRvbmx5IG1ldGFUeXBlOiBNRVRBREFUQV9OQU1FUztcbiAgICBwdWJsaWMgcGFyZW50TmFtZT86IHN0cmluZztcbiAgICBwcml2YXRlIF9maWVsZFR5cGU/OiBGSUVMRF9OQU1FUztcbiAgICBwcml2YXRlIF9uYW1lPzogc3RyaW5nO1xuICAgIHB1YmxpYyBhYnN0cmFjdCBkZWZhdWx0U3RhdGU6IFQ7XG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioc3RhdGU6IHtbazogc3RyaW5nXTogVH0sIHVwZGF0ZVN0YXRlOiBGdW5jdGlvbiwgbWV0YVR5cGU6IE1FVEFEQVRBX05BTUVTKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IHVwZGF0ZVN0YXRlO1xuICAgICAgICB0aGlzLm1ldGFUeXBlID0gbWV0YVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lIGFzIHN0cmluZztcbiAgICB9XG5cbiAgICBzZXQgbmFtZSh2YWw6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9uYW1lID0gdmFsO1xuICAgIH1cblxuICAgIGdldCBmaWVsZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWVsZFR5cGUgYXMgYW55O1xuICAgIH1cblxuICAgIHNldCBmaWVsZFR5cGUodmFsOiBGSUVMRF9OQU1FUykge1xuICAgICAgICB0aGlzLl9maWVsZFR5cGUgPSB2YWw7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgaW5pdChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpOiB2b2lkXG5cbiAgICBhYnN0cmFjdCB1cGRhdGUocHJvcHM6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KTogdm9pZDtcblxuICAgIHB1YmxpYyBpc0ZpZWxkVG91Y2hlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYodGhpcy5zdGF0ZVt0aGlzLm5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGVbdGhpcy5uYW1lXSBhcyBhbnkpLmlzVG91Y2hlZCBhcyBib29sZWFuIC8vIFRPRE8gZml4IHR5cGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3R9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtBYnN0cmFjdEZpZWxkLCBJQWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJRmllbGRCYXNlfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBDaGVja0JveEZpZWxkPFQgZXh0ZW5kcyBJRmllbGRCYXNlPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmllbGQodGhpcy5nZXRGaWVsZCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWx0ZXh0ICYmIDxsYWJlbCBjbGFzc05hbWU9XCJmb3JtLWNoZWNrLWxhYmVsXCI+e3RoaXMucHJvcHMubGFiZWx0ZXh0fTwvbGFiZWw+fVxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmhpbnQgJiYgPHNtYWxsIGNsYXNzTmFtZT1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+e3RoaXMucHJvcHMuaGludH08L3NtYWxsPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuICgpID0+ICg8Pns8aW5wdXRcbiAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgICAgICB0eXBlPXt0aGlzLnR5cGV9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5nZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkoKVt0aGlzLnByb3BzLm5hbWVdIHx8IGZhbHNlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVBhcmVudFN0YXRlKHRoaXMub3ZlcnJpZGVFdmVudChlLCB0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV0pLCB0aGlzLnByb3BzLm5hbWUpfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0Fic3RyYWN0RmllbGQubWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKFwiZm9ybS1jaGVjay1pbnB1dFwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAvPn08Lz4pO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJRmlsZUZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7Y3JlYXRlRmlsZU9iamVjdCwgSUZpbGV9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFRoZSBtYWluIGRpZmZlcmVuY2Ugb2YgdGhpcyBjbGFzcyBpcyB0aGF0IHRoZSBvbkNoYW5nZSBldmVudCBpcyB1c2VkIG9ubHlcbiAqIHRvIGNhcnJ5IG91dCB0aGUgdmFsaWRhdGlvbiAod2hpY2ggaXMgc2V0IG1hbnVhbGx5IGluIEZpbGVGaWVsZC5fdXBkYXRlRmllbGRWYWxpZGF0aW9uKS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVGaWVsZDxUIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+PiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBfZmlsZT86IElGaWxlfG51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQgJiBJRmlsZUZpZWxkKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIGdldCBmaWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsZSBhcyBJRmlsZXxudWxsO1xuICAgIH1cblxuICAgIHNldCBmaWxlKHZhbDogSUZpbGV8bnVsbCkge1xuICAgICAgICB0aGlzLl9maWxlID0gdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIF9nZW5lcmljRm9ybUdyb3VwPFQ+KHRoaXMucHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiA8Pns8aW5wdXRcbiAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgcmVmPXsodGhpcy5wcm9wcyBhcyBhbnkpLnJlZn1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMudHlwZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl91cGRhdGVGaWVsZFZhbGlkYXRpb24uYmluZCh0aGlzKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNvbnRyb2wtZmlsZVwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAvPn08Lz47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlRmllbGRWYWxpZGF0aW9uID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZpbGUgPSBjcmVhdGVGaWxlT2JqZWN0KCh0aGlzLnByb3BzIGFzIGFueSkucmVmKTtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMuZmlsZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSBfXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgb3ZlcnJpZGVzIHRoZSBzYW1lIGJlaGF2aW91ciBpbiB0aGUgcGFyZW50TmFtZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShfOiB1bmtub3duKTogYW55IHtcbiAgICAgICAgaWYoKHRoaXMucHJvcHMgYXMgVCAmIElGaWxlRmllbGQpLnJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmlsZU9iamVjdCgodGhpcy5wcm9wcyBhcyBUICYgSUZpbGVGaWVsZCkucmVmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbnRleHQsIGRlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEZpZWxkPFQgZXh0ZW5kcyBJRmllbGQ8SFRNTElucHV0RWxlbWVudD4+IGV4dGVuZHMgQWJzdHJhY3RGaWVsZDxUPiBpbXBsZW1lbnRzIElBYnN0cmFjdEZpZWxkPFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IEZJRUxEX05BTUVTLCBwcm9wczogVCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBfZ2VuZXJpY0Zvcm1Hcm91cDxUPih0aGlzLnByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gPD57PGlucHV0XG4gICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIHR5cGU9e3RoaXMudHlwZX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV18fCBcIlwifVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUGFyZW50U3RhdGUoZSwgdGhpcy5wcm9wcy5uYW1lKX1cbiAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNvbnRyb2xcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHRoaXMuYmFyZSl9XG4gICAgICAgIC8+fTwvPjtcbiAgICB9XG59XG4iLCJpbXBvcnQge0lGaWVsZFZhbGlkYXRpb24sIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Z2V0RmllbGRWYWx1ZVR5cGV9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4vX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGE8VCBleHRlbmRzIElGaWVsZFZhbGlkYXRpb24+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIHR5cGU6IE1FVEFEQVRBX05BTUVTKSB7XG4gICAgICAgc3VwZXIoc3RhdGUsIHVwZGF0ZVN0YXRlLCB0eXBlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWVsZFR5cGUgPSBmaWVsZFR5cGU7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSh2YWx1ZTogYW55LCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0YXRlOiB7W2s6IHN0cmluZ106IElGaWVsZFZhbGlkYXRpb259O1xuICAgICAgICBpZighKHRoaXMubmFtZSBpbiB0aGlzLnN0YXRlKSl7XG4gICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIFt0aGlzLm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSwgW3N0YXRlXSk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXRlW3RoaXMubmFtZV0gJiYgdmFsdWUgIT09IHRoaXMuc3RhdGVbdGhpcy5uYW1lXS5maWVsZFZhbHVlcy5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy5maWVsZFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0sIFtzdGF0ZV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJRmllbGRWYWxpZGF0aW9uLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge2dldEZpZWxkVmFsdWVUeXBlLCBJRmlsZX0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7RklFTERfTkFNRVN9IGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IHtBYnN0cmFjdE1ldGFkYXRhfSBmcm9tIFwiLi9fQWJzdHJhY3RNZXRhZGF0YVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YUZpbGU8VCBleHRlbmRzIElGaWVsZFZhbGlkYXRpb24+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIHR5cGU6IE1FVEFEQVRBX05BTUVTKSB7XG4gICAgICAgIHN1cGVyKHN0YXRlLCB1cGRhdGVTdGF0ZSwgdHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQobmFtZTogc3RyaW5nLCBmaWVsZFR5cGU6IEZJRUxEX05BTUVTKTogdm9pZCB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZmllbGRUeXBlID0gZmllbGRUeXBlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUodmFsdWU6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KTogdm9pZCB7XG4gICAgICAgIGxldCBzdGF0ZToge1trOiBzdHJpbmddOiBJRmllbGRWYWxpZGF0aW9ufTtcbiAgICAgICAgaWYoISh0aGlzLm5hbWUgaW4gdGhpcy5zdGF0ZSkpe1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBbdGhpcy5uYW1lXToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRGaWVsZFZhbHVlVHlwZSh0aGlzLmZpZWxkVHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IHt9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0sIFtzdGF0ZV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuc3RhdGVbdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZTogSUZpbGUgPSB0aGlzLnN0YXRlW3RoaXMubmFtZV0uZmllbGRWYWx1ZXMuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgaWYodmFsdWUgPT09IG51bGwgJiYgT2JqZWN0LmtleXMoY3VycmVudFZhbHVlKS5sZW5ndGggfHwgdmFsdWUgJiYgdmFsdWUubmFtZSAhPT0gY3VycmVudFZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IHZhbHVlIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJUmFkaW9Hcm91cFBhcmVudENvbnRleHQsIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Z2V0RmllbGRWYWx1ZVR5cGV9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4vX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7VHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlfSBmcm9tIFwiLi4vZmllbGRfY2xhc3Nlcy9fUmFkaW9GaWVsZFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YUdyb3VwPFQ+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIFQ7XG4gICAgcHVibGljIHBhcmVudE5hbWU/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZToge1trOiBzdHJpbmddOiBUfSwgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uLCB0eXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgICBzdXBlcihzdGF0ZSwgdXBkYXRlU3RhdGUsIHR5cGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KG5hbWU6IHN0cmluZywgZmllbGRUeXBlOiBGSUVMRF9OQU1FUyk6IHZvaWQge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZpZWxkVHlwZSA9IGZpZWxkVHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gY3VycmVudFxuICAgICAqIEBwYXJhbSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIGlzVG91Y2hlZCB7Qm9vbGVhbn0gLSBTZXQgdGhpcyB0byBmYWxzZSBvbiBpbml0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jcmVhdGVHcm91cFN0YXRlKGN1cnJlbnQ6IFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+LCBpc1RvdWNoZWQ9dHJ1ZSk6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgW2N1cnJlbnQucGFyZW50TmFtZV06IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0sXG4gICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdXJyZW50LnBhcmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogdmFsaWRhdGlvbiB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy5maWVsZFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHB1YmxpYyB1cGRhdGUoY3VycmVudDogVHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlLCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0YXRlID0ge307XG4gICAgICAgIGlmKCF0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50LCB2YWxpZGF0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0gJiYgISh0aGlzLm5hbWUgaW4gdGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdKSkge1xuICAgICAgICAgICAgLy8gRm9yIHJlYWRhYmlsaXR5IC0ga2VlcCB0aGlzIGNsYXVzZSAmIHRoZSBuZXh0LCBzZXBhcmF0ZSBwbGVhc2VcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50LCB2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmKCh0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0gYXMgYW55KVt0aGlzLm5hbWVdICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdIGFzIGFueSlbdGhpcy5uYW1lXS5maWVsZFZhbHVlcy52YWx1ZSAhPT0gY3VycmVudC52YWx1ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLl9jcmVhdGVHcm91cFN0YXRlKGN1cnJlbnQsIHZhbGlkYXRpb24pO1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzRmllbGRUb3VjaGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcGFyZW50U3RhdGUgPSAodGhpcy5zdGF0ZSk7XG4gICAgICAgIGlmKHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgICBpZih0aGlzLnBhcmVudE5hbWUgJiYgdGhpcy5uYW1lICYmIHRoaXMuc3RhdGVbdGhpcy5wYXJlbnROYW1lXSkge1xuICAgICAgICAgICAgICAgIGxldCBtZXRhR3JvdXAgPSAodGhpcy5zdGF0ZVt0aGlzLnBhcmVudE5hbWVdIGFzIGFueSlbdGhpcy5uYW1lIGFzIGtleW9mIFRdO1xuICAgICAgICAgICAgICAgIGlmKG1ldGFHcm91cCkgcmV0dXJuIG1ldGFHcm91cC5pc1RvdWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0Fic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSVJhZGlvRmllbGR9IGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IHtJRm9ybUNvbnRleHQsIElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCwgUmFkaW9Hcm91cENvbnRleHQsIFR5cGVGaWVsZFZhbHVlVHlwZXN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtnZXRGaWVsZFZhbHVlVHlwZX0gZnJvbSBcIi4uL2NvcmVcIjtcblxuZXhwb3J0IHR5cGUgVHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlID0geyB2YWx1ZTogYm9vbGVhbiwgcGFyZW50TmFtZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcgfTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFJhZGlvRmllbGQ8VCBleHRlbmRzIElSYWRpb0ZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG4gICAgcHJpdmF0ZSBfX3BhcmVudE5hbWU/OiBzdHJpbmc7XG4gICAgcHVibGljIHByb3BzOiBhbnk7XG4gICAgcHVibGljIHR5cGU6IGFueTtcbiAgICBwdWJsaWMgcmFkaW9Db250ZXh0PzogSVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0OyAvLyBUT0RPIGlmIG1vcmUgZ3JvdXBzIGFyZSByZXF1aXJlZCB0aGVuIG1ha2UgdGhpcyBhYnN0cmFjdFxuXG4gICAgY29uc3RydWN0b3IodHlwZTogRklFTERfTkFNRVMsIHByb3BzOiBUKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnJhZGlvQ29udGV4dCA9IHVzZUNvbnRleHQoUmFkaW9Hcm91cENvbnRleHQpIGFzIGFueTtcbiAgICAgICAgaWYodGhpcy5yYWRpb0NvbnRleHQgJiYgdGhpcy5yYWRpb0NvbnRleHQucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudE5hbWUgPSB0aGlzLnJhZGlvQ29udGV4dC5wYXJlbnQubmFtZTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEucGFyZW50TmFtZSA9IHRoaXMucGFyZW50TmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwYXJlbnROYW1lKCk6IHN0cmluZ3x1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3BhcmVudE5hbWU7XG4gICAgfVxuXG4gICAgc2V0IHBhcmVudE5hbWUodmFsOiBzdHJpbmd8dW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX19wYXJlbnROYW1lID0gdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxhYmVsdGV4dCAmJiA8bGFiZWwgY2xhc3NOYW1lPVwiZm9ybS1jaGVjay1sYWJlbFwiPnt0aGlzLnByb3BzLmxhYmVsVGV4dH08L2xhYmVsPn1cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5oaW50ICYmIDxzbWFsbCBjbGFzc05hbWU9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPnt0aGlzLnByb3BzLmhpbnR9PC9zbWFsbD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGlucHV0XG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgdHlwZT17dGhpcy50eXBlfVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuZ2V0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KClbdGhpcy5wcm9wcy5uYW1lXSB8fCBmYWxzZX1cbiAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5oYW5kbGVPbkNoYW5nZShlLCAodGhpcy5yYWRpb0NvbnRleHQgYXMgSVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0KSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtBYnN0cmFjdEZpZWxkLm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyhcImZvcm0tY2hlY2staW5wdXRcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPbkNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCByYWRpb0NvbnRleHQ6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxGb3JtRWxlbWVudD4gPSB0aGlzLm92ZXJyaWRlRXZlbnQoZSwgZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dChldmVudCwgdGhpcy5wcm9wcy5uYW1lLCByYWRpb0NvbnRleHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBzbyB0aGF0IGJvdGggY2xhc3MgY29tcG9uZW50cyAmIGhvb2sgYmFzZWRcbiAgICAgKiBjb21wb25lbnRzIGdldCB1cGRhdGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvZWdhc2V3aWN6L3JlYWN0LWJhcmUtZm9ybXMvaXNzdWVzLzEwMC5cbiAgICAgKiBUaGUgQWJzdHJhY3RGaWVsZCdzIGdldEZpZWxkVmFsdWUgaW1wbGVtZW50YXRpb24gZGlmZmVycyBiZWNhdXNlIHRoZSB2YWx1ZSBvZlxuICAgICAqIHRoZSBmb3JtIGVsZW1lbnQgY2FuIGJlIGRlcml2ZWQgZGlyZWN0bHkgZnJvbSBwcm9wcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShwcm9wczogVCk6IGFueSB7XG4gICAgICAgIGNvbnN0IGZvcm1LZXkgPSB0aGlzLmNvbnRleHQ/LmZvcm1LZXk7XG4gICAgICAgIGlmIChmb3JtS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5zdGF0ZVtmb3JtS2V5XVt0aGlzLnByb3BzLm5hbWVdIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LnN0YXRlW3RoaXMucHJvcHMubmFtZV0gfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IEFycmF5PElWYWxpZGF0aW9uPiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZSh0aGlzLnByb3BzKTtcbiAgICAgICAgLy8gQ2Fycnkgb3V0IHRoZSB2YWxpZGF0aW9uXG4gICAgICAgIGxldCB2YWxpZGF0aW9uID0gdGhpcy5kb1ZhbGlkYXRpb24odmFsdWUpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIG1ldGFkYXRhIHR5cGUgc3RhdGVcbiAgICAgICAgdGhpcy5tZXRhZGF0YS51cGRhdGUoeyB2YWx1ZSwgcGFyZW50TmFtZTogdGhpcy5wYXJlbnROYW1lLCBuYW1lOiB0aGlzLnByb3BzLm5hbWV9IGFzIFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSwgdmFsaWRhdGlvbik7XG4gICAgICAgIHJldHVybiB2YWxpZGF0aW9uO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtfZ2VuZXJpY0Zvcm1Hcm91cCwgQWJzdHJhY3RGaWVsZCwgSUFic3RyYWN0RmllbGR9IGZyb20gXCIuL19BYnN0cmFjdEZpZWxkXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTLCBJRmllbGQsIElGaWVsZEJhc2UsIElTZWxlY3RGaWVsZCwgVHlwZVNlbGVjdENzc1NpemVOYW1lfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU2VsZWN0RmllbGQ8VCBleHRlbmRzIElGaWVsZEJhc2UgJiBJU2VsZWN0RmllbGQ+IGV4dGVuZHMgQWJzdHJhY3RGaWVsZDxUPiBpbXBsZW1lbnRzIElBYnN0cmFjdEZpZWxkPFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IEZJRUxEX05BTUVTLCBwcm9wczogVCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBfZ2VuZXJpY0Zvcm1Hcm91cDxUPih0aGlzLnByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0T3B0aW9ucyhvcHRpb25zOiBBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5vYmplY3RrZXkgJiYgdGhpcy5wcm9wcy5vYmplY3R2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKChvcHRWYWw6IHN0cmluZywgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9e29wdFZhbFt0aGlzLnByb3BzLm9iamVjdGtleSBhcyBhbnldfSBrZXk9e2l9XG4gICAgICAgICAgICAgICAgPntvcHRWYWxbdGhpcy5wcm9wcy5vYmplY3R2YWx1ZSBhcyBhbnldfTwvb3B0aW9uPlxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm1hcCgob3B0VmFsOiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIHZhbHVlPXtvcHRWYWx9IGtleT17aX0+e29wdFZhbH08L29wdGlvbj5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIGNvbnN0IHtvcHRpb25zID0gW10sIHNpemUgPSBcImRlZmF1bHRcIn0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBzZWxlY3REYXRhID0gdGhpcy5fZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICB7Li4uKHRoaXMucHJvcHMgYXMgYW55KX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUGFyZW50U3RhdGUoZSwgdGhpcy5wcm9wcy5uYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0Fic3RyYWN0RmllbGQubWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKHRoaXMuZ2V0U2VsZWN0Q3NzTmFtZSgodGhpcy5wcm9wcyBhcyBhbnkpLnNpemUpLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdERhdGEgPyBzZWxlY3REYXRhOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2VsZWN0Q3NzTmFtZShuYW1lOiBUeXBlU2VsZWN0Q3NzU2l6ZU5hbWUpIHtcbiAgICAgICAgaWYobmFtZSA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcImZvcm0tY29udHJvbFwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYGZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtJHtuYW1lfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge19nZW5lcmljRm9ybUdyb3VwLCBBYnN0cmFjdEZpZWxkLCBJQWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZCwgSVRleHRBcmVhRmllbGR9IGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IHtJRm9ybUNvbnRleHR9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge21lcmdlRGVmYXVsdENzc1dpdGhQcm9wc30gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFRleHRBcmVhRmllbGQ8VCBleHRlbmRzIElUZXh0QXJlYUZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG4gICAgY29uc3RydWN0b3IodHlwZTogRklFTERfTkFNRVMsIHByb3BzOiBUICYgSVRleHRBcmVhRmllbGQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmllbGQodGhpcy5nZXRGaWVsZCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gX2dlbmVyaWNGb3JtR3JvdXA8VD4odGhpcy5wcm9wcywgY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZCgpIHtcbiAgICAgICAgY29uc3Qge3Jvd3MgPSA1fSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXttZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNvbnRyb2xcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17cm93c31cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuZ2V0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KClbdGhpcy5wcm9wcy5uYW1lXSB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+ICh0aGlzLmNvbnRleHQgYXMgYW55KS51cGRhdGVQYXJlbnRTdGF0ZShlLCB0aGlzLnByb3BzLm5hbWUpfVxuICAgICAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0VNQUlMX1JFR0VYfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQge0lGb3JtQ29udGV4dH0gZnJvbSBcIi4vZm9ybVwiO1xuaW1wb3J0IHtJRW1haWxGaWVsZCwgSUZpZWxkLCBJRmllbGRCYXNlLCBJUGFzc3dvcmRGaWVsZCwgSVRleHRBcmVhRmllbGQsIElUZXh0SW5wdXRGaWVsZH0gZnJvbSBcIi4vZWxlbWVudHNcIjtcblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIElWYWxpZGF0aW9uIHtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xuICAgIG1lc3NhZ2VzOiBbLi4uc3RyaW5nW11dO1xufVxuLyoqIEBpbnRlcm5hbCBUaGUgaW5uZXIgcmV0dXJuZWQgZnVuY3Rpb24gdHlwZSB0aGF0IGN1c3RvbSB2YWxpZGF0b3JzIG11c3QgaW1wbGVtZW50ICovXG5leHBvcnQgdHlwZSBJVmFsaWRhdGlvbkZ1bmN0aW9uID0gKC4uLmFyZ3M6IEFycmF5PGFueT4pID0+IElWYWxpZGF0aW9uO1xuLyoqIEBpbnRlcm5hbCBUaGUgZXhwZWN0ZWQgdmFsaWRhdG9yJ3MgdHlwZSB0aGF0IHtAbGluayBJRmllbGR9IGVsZW1lbnRzIGNhbiBjb25zdW1lICovXG5leHBvcnQgdHlwZSBJVmFsaWRhdG9ycyA9IEFycmF5PElWYWxpZGF0aW9uRnVuY3Rpb24+O1xuLyoqIEBpbnRlcm5hbCBUaGUgY3VzdG9tIHZhbGlkYXRvciB0eXBlIGNhbGxiYWNrICovXG5leHBvcnQgdHlwZSBJQ3VzdG9tVmFsaWRhdG9yQ2FsbGJhY2sgPSAoYXJnOiBhbnksIGZpZWxkVmFsdWU6IGFueSwgY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiBBcnJheTxzdHJpbmc+fHVuZGVmaW5lZDtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIElWYWxpZGF0aW9uVmFyaWFibGUgPSAoYXJnPzogYW55KSA9PiBJVmFsaWRhdGlvbkZ1bmN0aW9uO1xuLyoqXG4gKiBUaGUgYHBhc3N3b3JkS2V5YCBpcyBub3JtYWxseSB0aGUgZmlyc3QgcGFzc3dvcmQgZm9ybSBmaWVsZCB0aGUgdXNlciBmaWxscyBpbiBiZWZvcmVcbiAqIHRoZW4gY29uZmlybWluZyB0aGF0IHRoZSBwYXNzd29yZCBpcyBjb3JyZWN0IHdpdGggYSBjb25maXJtIHBhc3N3b3JkIGZpZWxkLiB0aGlzIHZhbGlkYXRvclxuICogY2hlY2sgdGhhdCBib3RoIHBhc3N3b3JkIGZpZWxkcyBhcmUgZXF1YWwgb3IgZWxzZSB3aWxsIHJldHVybiBhbiBlcnJvciBtZXNzYWdlIGFuZCBzZXQgdGhpc1xuICogZmllbGQgdG8gaW52YWxpZC5gXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgPFBhc3N3b3JkRmllbGRcbiAqICAgICAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICAgICAgbmFtZT1cIm15UGFzc3dvcmRcIlxuICogIC8+XG4gKlxuICogIDxDb25maXJtUGFzc3dvcmRGaWVsZFxuICogICAgICAgIC8vIG90aGVyIHByb3BzLi4uXG4gKiAgICAgICAgdmFsaWRhdG9ycz17W2FyZUZpZWxkc0VxdWFsKFwibXlQYXNzd29yZFwiKV19XG4gKiAgIC8+XG4gKiAgIC8vIG1lc3NhZ2U6IEZpZWxkcyBkbyBub3QgbWF0Y2hcbiAqIGBgYFxuICogQHBhcmFtIGBwYXNzd29yZEtleWAgVGhlIG5hbWUgb2YgdGhlIHBhc3N3b3JkIGZvcm0gZWxlbWVudCB5b3Ugd2F0Y2ggdG8gbWF0Y2ggYWdhaW5zdFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBhcmVGaWVsZHNFcXVhbDogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigoZmllbGRLZXksIGZpZWxkVmFsdWUsIGNvbnRleHQ6IElGb3JtQ29udGV4dCkgPT4ge1xuICAgIGxldCB0ZXN0RmllbGQ6IElGaWVsZEJhc2U7XG4gICAgbGV0IG1lc3NhZ2UgPSBbYEZpZWxkcyBkbyBub3QgbWF0Y2hgXTtcbiAgICBsZXQgY29udGV4dFN0YXRlID0gZ2V0Rm9ybVN0YXRlRnJvbUNvbnRleHQoY29udGV4dCk7XG4gICAgaWYoZmllbGRLZXkgaW4gY29udGV4dFN0YXRlKSB7XG4gICAgICAgIHRlc3RGaWVsZCA9IGNvbnRleHRTdGF0ZVtmaWVsZEtleV07XG4gICAgICAgIGlmKCF0ZXN0RmllbGQgfHwgIWZpZWxkVmFsdWUgIHx8IGZpZWxkVmFsdWUgIT09IGNvbnRleHRTdGF0ZVtmaWVsZEtleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFJlYWN0LUJhcmVGb3JtcyBFcnJvcjogTm8gRmllbGQgd2l0aCBuYW1lIG9mICR7ZmllbGRLZXl9IGV4aXN0cyB3aGVuIGNhbGxpbmcgJ2FyZUZpZWxkc0VxdWFsJyBgXG4gICAgICAgICAgICArIGB2YWxpZGF0b3IgZnVuY3Rpb24uXFxuIEZvciBtb3JlIGluZm8sIHZpc2l0OiBgXG4gICAgICAgICAgICArIGBodHRwczovL2pvZWdhc2V3aWN6LmdpdGh1Yi5pby9yZWFjdC1iYXJlLWZvcm1zL21vZHVsZXMvX3ZhbGlkYXRvcnNfLmh0bWwjYXJlZmllbGRzZXF1YWxgLFxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5cbi8qKlxuICogVGhlIGBpc0ZpZWxkRW1wdHlgIHZhbGlkYXRvciBwZXJmb3JtcyBhIGNvbXBhcmlzb24gYWdhaW5zdCBgbWluTGVuZ3RoYCAmIHRoZSBmaWVsZCBlbGVtZW50XG4gKiB2YWx1ZS4gSWYgdGhleSBhcmUgZXF1YWwgb3IgdGhlIGBtaW5MZW5ndGhgIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZm9ybSBlbGVtZW50IHZhbHVlIHRoZW5cbiAqIHRoaXMgZWxlbWVudCBpcyBub3QgdmFsaWQgJiBhIG1lc3NhZ2UgaXMgZGlzcGxheWVkLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGV4dElucHV0RmllbGQsIGlzRmllbGRFbXB0eX0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqIGNvbnN0IHN0YXRlID0geyB1c2VybmFtZTogXCJcIiB9XG4gKiBgYGBcbiAqICA8VGV4dElucHV0RmllbGRcbiAqICAgICAgICB2YWx1ZT17c3RhdGUudXNlcm5hbWV9XG4gKiAgICAgICAgbmFtZT1cInVzZXJuYW1lXCJcbiAqICAgICAgICB2YWxpZGF0b3JzPXtbaXNGaWVsZEVtcHR5KDUpXX1cbiAqICAgLz5cbiAqICAgLy8gbWVzc2FnZTogTXVzdCBiZSBhdCBsZWFzdCA1IGNoYXJhY3RlcnNcbiAqIGBgYFxuICogQHBhcmFtIG1pbkxlbmd0aCBUaGUgbWluaW11bSBsZW5ndGggb2YgdGhlIGZvcm0gZmllbGQgdmFsdWVcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgaXNGaWVsZEVtcHR5OiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChtaW5MZW5ndGgsIGZpZWxkVmFsdWUsIGNvbnRleHQ6IElGb3JtQ29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGlzVmFsaWQgPSAodHlwZW9mIGZpZWxkVmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZmllbGRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKTtcbiAgICBpZighaXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gW2BNdXN0IGJlIGF0IGxlYXN0ICR7bWluTGVuZ3RofSBjaGFyYWN0ZXJzYF07XG4gICAgfVxufSk7XG5cbi8qKlxuICogVGhpcyB2YWxpZGF0b3IgZG9lc24ndCByZXF1aXJlIGFueSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIGluLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7RW1haWxGaWVsZCwgaXNFbWFpbFZhbGlkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogY29uc3Qgc3RhdGUgPSB7IHRlcm1zOiBmYWxzZSB9XG4gKiBgYGBcbiAqICA8RW1haWxGaWVsZFxuICogICAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICAgIHZhbGlkYXRvcnM9e1tpc0VtYWlsVmFsaWQoKV19XG4gKiAgLz5cbiAqICAvLyBtZXNzYWdlOiBNdXN0IGJlIGEgdmFsaWQgZW1haWxcbiAqIGBgYFxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgaXNFbWFpbFZhbGlkOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChfICwgZmllbGRWYWx1ZSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGlzVmFsaWQgPSBFTUFJTF9SRUdFWC50ZXN0KFN0cmluZyhmaWVsZFZhbHVlKS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZighaXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gW2BNdXN0IGJlIGEgdmFsaWQgZW1haWxgXTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBUaGlzIHZhbGlkYXRvciB3aWxsIGRpc3BsYXkgdGhlIHdhcm5pbmcgaWYgYSB1c2VyIGhhcyBzZWxlY3RlZCBhIGZpbGUgYnV0IHRoZW4gcmVzZWxlY3RlZFxuICogbm90aGluZyAoYnkgY2xpY2tpbmcgdGhlIGNhbmNlbCBidXR0b24gaW4gdGhlIGZpbGUgcG9wdXAgd2luZG93KS4gVGhpcyB2YWxpZGF0b3IgZG9lc24ndFxuICogcmVxdWlyZSBhbnkgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCBpbi5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGltcG9ydCB7Y3JlYXRlRmlsZVJlZiwgRmlsZUZpZWxkLCBpc0ZpbGV9IGZyb20gXCJyZWFjdC1iYXJlLWZvcm1zXCI7XG4gKlxuICogY29uc3QgbXlGaWxlUmVmID0gY3JlYXRlRmlsZVJlZigpO1xuICpcbiAqIDxGaWxlRmllbGRcbiAqICAgIHJlZj17bXlGaWxlUmVmfVxuICogICAgaGludD1cIk11c3QgYmUgYSBmaWxlXCJcbiAqICAgIGxhYmVsdGV4dD1cIlVwbG9hZCB5b3VyIGZpbGVcIlxuICogICAgbmFtZT1cIm15RmlsZVRlc3RcIlxuICogICAgdmFsaWRhdG9ycz17W2lzRmlsZSgpXX1cbiAqIC8+XG4gKiBgYGBcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmlsZTogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigoXywgbmFtZSwgY29udGV4dCkgPT4ge1xuICAgIGlmKCFuYW1lKSB7XG4gICAgICAgIHJldHVybiBbYE11c3QgYmUgYSBmaWxlIHR5cGVgXTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBUbyB1c2UgdGhlIGBpc1JhZGlvQ2hlY2tlZGAsIHNlbGVjdCB0aGUgYFJhZGlvRmllbGRgIGNvbXBvbmVudCB5b3Ugd2lzaCB0aGUgdXNlciB0byBzZWxlY3RcbiAqICYgYWRkIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb24gdG8gdGhlIGB2YWxpZGF0b3JzYCBwcm9wLiBUaGlzIHdpbGwgbm93IGRpc3BsYXkgYSB3YXJuaW5nIGlmXG4gKiB0aGUgdXNlciBoYXMgZGVzZWxlY3RlZCB0aGUgcmVxdWlyZWQgb3B0aW9uLiBUaGlzIHZhbGlkYXRvciBkb2Vzbid0XG4gKiByZXF1aXJlIGFueSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIGluLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7UmFkaW9Hcm91cCwgUmFkaW9GaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqIGNvbnN0IHN0YXRlID0geyBtYWxlOiB0cnVlLCBmZW1hbGU6IGZhbHNlIH1cbiAqXG4gKiA8UmFkaW9Hcm91cCBuYW1lPVwiZ3JvdXAxXCI+XG4gKiAgICAgPFJhZGlvRmllbGRcbiAqICAgICAgIG5hbWU9XCJtYWxlXCJcbiAqICAgICAgIGNoZWNrZWQ9e3N0YXRlLmZlbWFsZX1cbiAqICAgICAgIHZhbGlkYXRvcnM9e1tpc1JhZGlvQ2hlY2tlZCgpXX1cbiAqICAgIC8+XG4gKiAgICA8UmFkaW9GaWVsZFxuICogICAgICAgbmFtZT1cImZlbWFsZVwiXG4gKiAgICAgICBjaGVja2VkPXtzdGF0ZS5mZW1hbGV9XG4gKiAgICAvPlxuICogPC9SYWRpb0dyb3VwPlxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgaXNSYWRpb0NoZWNrZWQ6IElWYWxpZGF0aW9uVmFyaWFibGUgPSBjdXN0b21WYWxpZGF0b3IoKF8gLCB2YWx1ZSwgY29udGV4dCkgPT4ge1xuICAgIGlmKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW2BUaGlzIG9wdGlvbiBtdXN0IGJlIHNlbGVjdGVkYF07XG4gICAgfVxufSk7XG5cbi8qKlxuICogVGhlIGBpc0NoZWNrZWRgIHZhbGlkYXRvciB3aWxsIGRpc3BsYXkgYSB3YXJuaW5nIGlmIHRoZSB1c2VyIGhhcyBzZWxlY3RlZCB0aGUgY2hlY2tib3ggJlxuICogdGhlbiBkZXNlbGVjdGVkIGl0LiBUaGlzIHJlcXVpcmVzIGEgKmJvb2xlYW4qIHR5cGUgdG8gYmUgc2V0IGluIHlvdXIgc3RhdGUsIHNlZSBiZWxvdy5cbiAqIFRoaXMgdmFsaWRhdG9yIGRvZXNuJ3QgcmVxdWlyZSBhbnkgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCBpbi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0NoZWNrQm94RmllbGQsIGlzQ2hlY2tlZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqIGNvbnN0IHN0YXRlID0geyB0ZXJtczogZmFsc2UgfVxuICpcbiAqIDxDaGVja0JveEZpZWxkXG4gKiAgICBuYW1lPVwidGVybXNcIlxuICogICAgY2hlY2tlZD17dGhpcy5zdGF0ZS50ZXJtc31cbiAqICAgIHZhbGlkYXRvcnM9e1tpc0NoZWNrZWQoKV19XG4gKiAvPlxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgaXNDaGVja2VkOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChfLCBmaWVsZFZhbHVlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYoZmllbGRWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFtgTXVzdCBiZSBjaGVja2VkYF07XG4gICAgfVxufSk7XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCB0YWtlcyBhIGNhbGxiYWNrIHdoaWNoIGNvbnRhaW5zIHRoZSBjYWxsZXJzIG93biB2YWxpZGF0aW9uIGxvZ2ljXG4gKiAmIHJldHVybnMgYW4gYXJyYXkgb2Ygc3RyaW5nKHMpIHdoaWNoIGFyZSB0aGUgdmFsaWRhdGlvbiBlcnJvciBtZXNzYWdlIG9yICp1bmRlZmluZWQqLiBCZWxvdyBpcyBhblxuICogZXhhbXBsZSBvZiBjcmVhdGluZyBhIGN1c3RvbSB2YWxpZGF0b3IgdG8gdGVzdCBpZiBhIGZpZWxkIGhhcyBhIHN0cmluZyBsZW5ndGggb2YgbnRoLlxuICpcbiAqIFRoZXJlIGFyZSAzIGFyZ3VtZW50cyBhdmFpbGFibGUgdG8geW91ciBjdXN0b20gdmFsaWRhdGlvbiBjYWxsYmFjazpcbiAqICAtICoqYXJnKiogVGhpcyBpcyB0aGUgeW91ciBvd24gdmFsdWUgdXNlZCB0byBpbiB0aGUgdmFsaWRhdGlvbiBjb21wYXJpc29uXG4gKiAgQGV4YW1wbGVcbiAqICBgYGBcbiAqICBjb25zdCBteUFyZyA9IDU7YFxuICpcbiAqICA8VGV4dElucHV0RmllbGRcbiAqICAgIC8vIG90aGVyIHByb3BzLi4uXG4gKiAgICB2YWxpZGF0b3JzPXtbbXlWYWxpZGF0b3IobXlBcmcpXX0gLy8gPC0gYG15QXJnYFxuICogIC8+XG4gKiBgYGBcbiAqICAtICoqZmllbGRWYWx1ZSoqIFRoaXMgaXMgdGhlIGN1cnJlbnQgZm9ybSBlbGVtZW50IHZhbHVlIGJlaW5nIHBhc3NlZCB0byB0aGUgdmFsaWRhdG9yXG4gKiAgLSAqKmNvbnRleHQqKiBUaGlzIGlzIHRoZSBjb250ZXh0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBzdGF0ZVxuICogRm9yIGV4YW1wbGU6XG4gKiBAZXhhbXBsZVxuICogYGBgYFxuICogY29uc3QgaXNGaWVsZEVtcHR5ID0gY3JlYXRlVmFsaWRhdG9yKChtaW5MZW5ndGgsIGZpZWxkVmFsdWUsIGNvbnRleHQpID0+IHtcbiAqICAgICBjb25zdCBpc1ZhbGlkID0gKGZpZWxkVmFsdWUubGVuZ3RoID49IG1pbkxlbmd0aCk7XG4gKiAgICAgaWYoIWlzVmFsaWQpIHtcbiAqICAgICAgICAgcmV0dXJuIFtgTXVzdCBiZSBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyc2BdO1xuICogICAgIH1cbiAqIH0pO1xuICogYGBgYFxuICogWW91IG9ubHkgbmVlZCB0byByZXR1cm4gdHlwZSBhbiBhcnJheSBvZiBzdHJpbmcocykgKHdoaWNoIGlzIHlvdXIgdmFsaWRhdGlvbiBtZXNzYWdlKVxuICogaWYgdGhlIGBmaWVsZFZhbHVlYGlzICoqTk9UKiogdmFsaWRhdGVkLlxuICogQHBhcmFtIGNhbGxiYWNrXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbVZhbGlkYXRvcihjYWxsYmFjazogSUN1c3RvbVZhbGlkYXRvckNhbGxiYWNrKTogKGFyZzogYW55KSA9PiBJVmFsaWRhdGlvbkZ1bmN0aW9uICB7XG4gICAgcmV0dXJuIChhcmc6IGFueSA9IG51bGwpOiBJVmFsaWRhdGlvbkZ1bmN0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPIGN1c3RvbSBleGNlcHRpb25zIGZvciB0aGUgYmVsb3cgYXJnc1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZTogYW55ID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IElGb3JtQ29udGV4dCA9IGFyZ3NbMV07XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGNhbGxiYWNrKGFyZywgZmllbGRWYWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICBsZXQgdmFsaWRhdGlvbkRhdGE7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlcykgJiYgbWVzc2FnZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBjb3JyZWN0IHN0YXRlIGZyb20gdGhlIGNvbnRleHQgb2JqZWN0IHdpdGhpbiBhIHZhbGlkYXRvcjpcbiAqICAtICoqYXJnKiogY29udGV4dCB7SUZvcm1Db250ZXh0fVxuICogIEBleGFtcGxlXG4gKiAgYGBgXG4gKiAgbGV0IGNvbnRleHRTdGF0ZSA9IGdldEZvcm1TdGF0ZUZyb21Db250ZXh0KGNvbnRleHQpO1xuICogYGBgXG4gKiBAcGFyYW0gY29udGV4dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JtU3RhdGVGcm9tQ29udGV4dChjb250ZXh0OiBJRm9ybUNvbnRleHQpIHtcbiAgICBpZihjb250ZXh0LmZvcm1LZXkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc3RhdGVbY29udGV4dC5mb3JtS2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuc3RhdGU7XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFB1YmxpYyB1bmNvbnRyb2xsZWQgUmVhY3QgQ29tcG9uZW50IEhlbHBlciBmdW5jdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7SUZpbGV9IGZyb20gXCIuL2NvcmVcIjtcblxuLyoqXG4gKiBSQkYncyBwcm92aWRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFJlYWN0IHJlZiB0byBhY2Nlc3MgeW91ciBmaWxlIG9iamVjdC5cbiAqIFRvIHVzZSwgc2ltcGx5IGFzc2lnbiB0aGUgcmV0dXJuZWQgcmVmIGZyb20gdGhlIGNyZWF0ZUZpbGVSZWYgZnVuY3Rpb24gdG8gYVxuICogdmFyaWFibGUgJiBwYXNzIHRoaXMgdmFyaWFibGUgdG8gRmlsZUZpZWxkJ3MgcmVmIHByb3AuXG4gKiBAcmV0dXJuc1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqICBpbXBvcnQge2NyZWF0ZUZpbGVSZWYsIEZpbGVGaWVsZCwgaXNGaWxlLCBnZXRGaWxlRnJvbVJlZn0gZnJvbSBcInJlYWN0LWJhcmUtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3QgbXlGaWxlUmVmID0gY3JlYXRlRmlsZVJlZigpO1xuICpcbiAqICA8RmlsZUZpZWxkXG4gKiAgICAgcmVmPXtteUZpbGVSZWZ9XG4gKiAgICAgaGludD1cIk11c3QgYmUgYSBmaWxlXCJcbiAqICAgICBsYWJlbHRleHQ9XCJVcGxvYWQgeW91ciBmaWxlXCJcbiAqICAgICBuYW1lPVwibXlGaWxlVGVzdFwiXG4gKiAgICAgdmFsaWRhdG9ycz17W2lzRmlsZSgpXX1cbiAqICAvPlxuICpcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVJlZigpOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50PiB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZVJlZjxIVE1MRm9ybUVsZW1lbnQ+KCk7XG59XG5cbi8qKlxuICogVG8gZ2V0IGEgZmlsZSBvYmplY3QgYmFjayBmcm9tIHRoZSByZWFjdCByZWYsIHlvdSBjYW4gdXNlIGBnZXRGaWxlRnJvbVJlZmAgZnVuY3Rpb24uXG4gKiBAcGFyYW1zIFRoZSBSZWFjdCByZWYgcmV0dXJuZWQgZnJvbSB7QGxpbmsgY3JlYXRlRmlsZVJlZn1cbiAqIEByZXR1cm5zXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogIGltcG9ydCB7Y3JlYXRlRmlsZVJlZiwgRmlsZUZpZWxkLCBpc0ZpbGUsIGdldEZpbGVGcm9tUmVmfSBmcm9tIFwicmVhY3QtYmFyZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBteUZpbGVSZWYgPSBjcmVhdGVGaWxlUmVmKCk7XG4gKlxuICogIDxGaWxlRmllbGRcbiAqICAgICByZWY9e215RmlsZVJlZn1cbiAqICAgICBoaW50PVwiTXVzdCBiZSBhIGZpbGVcIlxuICogICAgIGxhYmVscmV4dD1cIlVwbG9hZCB5b3VyIGZpbGVcIlxuICogICAgIG5hbWU9XCJteUZpbGVUZXN0XCJcbiAqICAgICB2YWxpZGF0b3JzPXtbaXNGaWxlKCldfVxuICogIC8+XG4gKlxuICogIGxldCBmaWxlRGF0YSA9IHtcbiAqICAgICAgbXlGaWxlOiBnZXRGaWxlRnJvbVJlZihteUZpbGVSZWYpXG4gKiAgfTtcbiAqXG4gKiAgLy8gZmlsZURhdGEubXlGaWxlIGlzIHlvdXIgSmF2YXNjcmlwdCBGaWxlIG9iamVjdC5cbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVGcm9tUmVmKGZpbGVSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRm9ybUVsZW1lbnQ+KTogSUZpbGV8bnVsbCB7XG4gICAgaWYoZmlsZVJlZiAmJiAoZmlsZVJlZiBhcyBhbnkpLmN1cnJlbnQgJiYgT2JqZWN0LmtleXMoKGZpbGVSZWYgYXMgYW55KS5jdXJyZW50LmZpbGVzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChmaWxlUmVmIGFzIGFueSkuY3VycmVudC5maWxlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCIvLyBFUlJPUlMgJiBFWENFUFRJT04gTUVTU0FHRVNcbi8vXG4vLyBUaGUgYmVsb3cgZnVuY3Rpb25zIGFyZSBvbmx5IGRlc2lnbmVkIHRvIGNvbnN0cnVjdCBFcnJvciAmIEV4Y2VwdGlvbnMgbWVzc2FnZXMuXG4vLyBUaGlzIG1ha2VzIGl0IG11Y2ggc2ltcGxlciB0byB0ZXN0LCB3aGlsZSBsZWF2aW5nIHRoZSBvcHRpb24gdG8gdGhyb3cgZWl0aGVyXG4vLyBhbiBFcnJvciBvciBhbiBFeGNlcHRpb24gdG8gdGhlIGNhbGxlci5cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0gdHlwZVxuICogQHBhcmFtIG5hbWVcbiAqIEBwYXJhbSBtZXNzYWdlXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgX3Rocm93TmV3RXJyb3JNc2cgPSAodHlwZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZyA9PlxuICAgIGBSZWFjdCBCYXJlIEZvcm1zIEVSUk9SOlxcblxcdCR7dHlwZX0gLSAke25hbWV9XFxuXFx0LSAke21lc3NhZ2V9YDtcblxuXG5leHBvcnQgY29uc3QgX2lzRmllbGRFbXB0eUVycm9yTXNnID0gX3Rocm93TmV3RXJyb3JNc2coXG4gICAgXCJGdW5jdGlvblwiLFxuICAgIFwiaXNGaWVsZEVtcHR5KClcIixcbiAgICBcIk1pc3NpbmcgYXJndW1lbnQ6IG1pbkxlbmd0aCAobnVtYmVyKVwiXG4pO1xuXG5leHBvcnQgY2xhc3MgX0ZpZWxkRW1wdHlFcnJvck1zZyBleHRlbmRzIEVycm9yIHsgfVxuXG5leHBvcnQgY29uc3QgX25vQ29udGV4dEVycm9yID0gX3Rocm93TmV3RXJyb3JNc2coXG4gICAgXCJSZXF1aXJlZCBQcm9wc1wiLFxuICAgIFwiY29udGV4dFwiLFxuICAgIFwiWW91IG11c3QgcGFzcyBpbiBhIGNvbnRleHQgcHJvcC4gQ2xhc3MgY29tcG9uZW50cyB1c2UgJ3N0YXRlJyBcIiArXG4gICAgXCImIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBtdXN0IHVzZSB1c2VTdGF0ZSBob29rLiBTZWUgaHR0cHM6Ly9qb2VnYXNld2ljei5naXRodWIuaW8vcmVhY3QtYmFyZS1mb3Jtcy9tb2R1bGVzL19mb3JtXy5odG1sXCJcbik7XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5cblxuaW1wb3J0IHtGb3JtQ29udGV4dCwgSU1ldGFkYXRhLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBJQnV0dG9uPFQ+IHtcbiAgICBjcmVhdGUoKTogKHByb3BzOiBUKSA9PiBSZWFjdEVsZW1lbnQ8VD47XG59XG5cbmFic3RyYWN0IGNsYXNzIEJ1dHRvbjxUPiBpbXBsZW1lbnRzIElCdXR0b248VD4ge1xuXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZSgpOiAocHJvcHM6IFQpID0+IFJlYWN0RWxlbWVudDxUPjtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdWJtaXRCdXR0b25Qcm9wcyB7XG4gICAgdGV4dD86IHN0cmluZztcbiAgICBkaXNhYmxlZD86IGZhbHNlO1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICBjaGlsZHJlbj86IGFueTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFN1Ym1pdEJ1dHRvbiBpbXBsZW1lbnRzIEJ1dHRvbjxJU3VibWl0QnV0dG9uUHJvcHM+IHtcblxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBHUk9VUF9UWVBFUyA9IFtcInJhZGlvR3JvdXBzXCJdOyAvLyBUT0RPLi4uXG5cbiAgICBwcml2YXRlIGlzR3JvdXAobWV0YVR5cGU6IE1FVEFEQVRBX05BTUVTKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLkdST1VQX1RZUEVTLmluY2x1ZGVzKG1ldGFUeXBlKTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICByZXR1cm4gKHByb3BzOiBJU3VibWl0QnV0dG9uUHJvcHMpID0+IHtcbiAgICAgICAgICAgLy8gQ29udGV4dFxuICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG5cbiAgICAgICAgICAgLy8gU3R5bGVzXG4gICAgICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lID0gXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIsIGRpc2FibGVkID0gdHJ1ZX0gPSBwcm9wcztcblxuICAgICAgICAgICBsZXQgaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICBjb25zdCBpbnB1dFN0YXRlID0gY29udGV4dC5tZXRhZGF0YS5pbnB1dHMuc3RhdGU7XG4gICAgICAgICAgIGZvciAobGV0IG1ldGEgb2YgT2JqZWN0LmtleXMoY29udGV4dC5tZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgIGxldCBtZXRhRmllbGQgPSBjb250ZXh0Lm1ldGFkYXRhW21ldGEgYXMga2V5b2YgSU1ldGFkYXRhXS5zdGF0ZTtcbiAgICAgICAgICAgICAgIC8vIElmIGFsbCBhbGwgZmllbGRzIGFyZSB2YWxpZCB0aGVuIHBhc3MgdGhyb3VnaCB0aGUgZGVmYXVsdCBpc0Rpc2FibGVkIHZhbHVlXG4gICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgdGhhdCB0aGUgbWVtYmVyIGlzIG5vdCBwYXJ0IG9mIGEgbWV0YWRhdGEgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc0dyb3VwKGNvbnRleHQubWV0YWRhdGFbbWV0YSBhcyBrZXlvZiBJTWV0YWRhdGFdLm1ldGFUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBtZXRhRmllbGRbZmllbGRdLnZhbGlkYXRpb24pIHsgLy8gVE9ETyBEUllcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBncm91cCBtZXRhZGF0YSB2YWxpZGF0aW9uIGNoZWNrc1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgY2hpbGRGaWVsZCBvZiBPYmplY3Qua2V5cyhtZXRhRmllbGRbZmllbGRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY2hpbGQgPSAobWV0YUZpZWxkW2ZpZWxkXSBhcyBhbnkpW2NoaWxkRmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBfY2hpbGQudmFsaWRhdGlvbikgeyAvLyBUT0RPIERSWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICB9XG5cbiAgICAgICAgICAgcmV0dXJuICg8YnV0dG9uXG4gICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICA+e3Byb3BzLmNoaWxkcmVufTwvYnV0dG9uPik7XG4gICAgICAgfVxuICAgIH1cbn1cbiIsIndpbmRvdyA9IHdpbmRvdyB8fCBnbG9iYWwud2luZG93XG5cbmltcG9ydCB7Rm9ybSwgRm9ybUNvbnN1bWVyfSBmcm9tIFwiLi9mb3JtXCI7XG5pbXBvcnQge1xuICAgIENoZWNrQm94RmllbGQsXG4gICAgRW1haWxGaWVsZCxcbiAgICBGaWxlRmllbGQsXG4gICAgSUNoZWNrQm94RmllbGQsXG4gICAgSUVtYWlsRmllbGQsXG4gICAgSUZpZWxkLFxuICAgIElQYXNzd29yZEZpZWxkLFxuICAgIElSYWRpb0ZpZWxkLCBJU2VsZWN0RmllbGQsXG4gICAgSVRleHRBcmVhRmllbGQsXG4gICAgSVRleHRJbnB1dEZpZWxkLFxuICAgIFBhc3N3b3JkRmllbGQsXG4gICAgUmFkaW9GaWVsZCxcbiAgICBSYWRpb0dyb3VwLFxuICAgIFNlbGVjdEZpZWxkLFxuICAgIFN1Ym1pdEJ1dHRvbixcbiAgICBUZXh0QXJlYUZpZWxkLFxuICAgIFRleHRJbnB1dEZpZWxkXG59IGZyb20gXCIuL2VsZW1lbnRzXCI7XG5pbXBvcnQge1xuICAgIGFyZUZpZWxkc0VxdWFsLFxuICAgIGN1c3RvbVZhbGlkYXRvcixcbiAgICBpc0NoZWNrZWQsXG4gICAgaXNFbWFpbFZhbGlkLFxuICAgIGlzRmllbGRFbXB0eSxcbiAgICBpc0ZpbGUsXG4gICAgaXNSYWRpb0NoZWNrZWQsXG59IGZyb20gXCIuL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Y3JlYXRlRmlsZVJlZiwgZ2V0RmlsZUZyb21SZWZ9IGZyb20gXCIuL3VuY3JvbnRyb2xsZWRcIjtcblxuXG5leHBvcnQge1xuICAgIC8vIFVuY29udHJvbGxlZFxuICAgIGNyZWF0ZUZpbGVSZWYsXG4gICAgZ2V0RmlsZUZyb21SZWYsXG4gICAgLy8gVmFsaWRhdG9yc1xuICAgIGFyZUZpZWxkc0VxdWFsLFxuICAgIGN1c3RvbVZhbGlkYXRvcixcbiAgICBpc0NoZWNrZWQsXG4gICAgaXNFbWFpbFZhbGlkLFxuICAgIGlzRmllbGRFbXB0eSxcbiAgICBpc0ZpbGUsXG4gICAgaXNSYWRpb0NoZWNrZWQsXG4gICAgLy8gQ29udGV4dCBBUElcbiAgICBGb3JtQ29uc3VtZXIsXG5cblxuICAgIC8vIEZvcm0gQ29tcG9uZW50c1xuICAgIENoZWNrQm94RmllbGQsXG4gICAgRW1haWxGaWVsZCxcbiAgICBGaWxlRmllbGQsXG4gICAgRm9ybSxcbiAgICBQYXNzd29yZEZpZWxkLFxuICAgIFJhZGlvRmllbGQsXG4gICAgUmFkaW9Hcm91cCxcbiAgICBTdWJtaXRCdXR0b24sXG4gICAgVGV4dEFyZWFGaWVsZCxcbiAgICBUZXh0SW5wdXRGaWVsZCxcbiAgICBTZWxlY3RGaWVsZFxufTtcbmV4cG9ydCB0eXBlIHtcbiAgICAvLyBJbnRlcmZhY2VzXG4gICAgSUNoZWNrQm94RmllbGQsXG4gICAgSUVtYWlsRmllbGQsXG4gICAgSUZpZWxkLFxuICAgIElQYXNzd29yZEZpZWxkLFxuICAgIElSYWRpb0ZpZWxkLFxuICAgIElUZXh0QXJlYUZpZWxkLFxuICAgIElUZXh0SW5wdXRGaWVsZCxcbiAgICBJU2VsZWN0RmllbGRcbn07XG5cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiJdLCJzb3VyY2VSb290IjoiIn0=