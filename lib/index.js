window["react-bare-lib"]=function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=window.react},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationResults=t.updateRadioGroupStateFromPassedInContext=t.mergeDefaultCssWithProps=t.updateParentState=t.getMetadataNameType=t.getFieldValueType=t.FormElementValidators=t._FieldEmptyErrorMsg=t.EMAIL_REGEX=t.createFileObject=void 0;const a=r(11);Object.defineProperty(t,"FormElementValidators",{enumerable:!0,get:function(){return a.FormElementValidators}}),Object.defineProperty(t,"ValidationResults",{enumerable:!0,get:function(){return a.ValidationResults}});const i=r(5);Object.defineProperty(t,"_FieldEmptyErrorMsg",{enumerable:!0,get:function(){return i._FieldEmptyErrorMsg}});const n=r(12);Object.defineProperty(t,"createFileObject",{enumerable:!0,get:function(){return n.createFileObject}});const s=r(13);Object.defineProperty(t,"updateParentState",{enumerable:!0,get:function(){return s.updateParentState}}),Object.defineProperty(t,"updateRadioGroupStateFromPassedInContext",{enumerable:!0,get:function(){return s.updateRadioGroupStateFromPassedInContext}});const o=r(14);Object.defineProperty(t,"getFieldValueType",{enumerable:!0,get:function(){return o.getFieldValueType}}),Object.defineProperty(t,"getMetadataNameType",{enumerable:!0,get:function(){return o.getMetadataNameType}}),Object.defineProperty(t,"mergeDefaultCssWithProps",{enumerable:!0,get:function(){return o.mergeDefaultCssWithProps}});const u=r(24);Object.defineProperty(t,"EMAIL_REGEX",{enumerable:!0,get:function(){return u.EMAIL_REGEX}})},function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Form=t.handleSubmit=t.FormConsumer=t.FormProvider=t.FormContext=t.RadioGroupContext=t.METADATA_NAMES=void 0;const s=n(r(0)),o=r(1),u=r(9),l=r(5);var d;!function(e){e.INPUTS="inputs",e.RADIO_GROUPS="radioGroups",e.FILES="files",e.CHECKBOXES="checkboxes"}(d=t.METADATA_NAMES||(t.METADATA_NAMES={}));const c={},p={},f={},m={},h={bare:!1,state:{},formKey:null,debug:!1,dynamic:!0,metadata:{inputs:null,radioGroups:null,files:null,checkboxes:null}};t.RadioGroupContext=s.default.createContext(p),t.FormContext=s.default.createContext(h),t.FormProvider=t.FormContext.Provider,t.FormConsumer=t.FormContext.Consumer,t.handleSubmit=e=>t=>{t.preventDefault();const{callback:r}=e;"function"==typeof r&&r()&&r()},t.Form=e=>{const[r,a]=s.useState(e.state),[i,n]=s.useState(h),[F,b]=s.useState(c),[E,_]=s.useState(m),[y,g]=s.useState(f),[v,O]=s.useState(p);if(e.context&&"setState"in e.context)s.useEffect(()=>{e.context.setState({...r})},[r]);else{if(!e.context)throw new o._FieldEmptyErrorMsg(l._noContextError);s.useEffect(()=>{e.context({...r})},[r])}const P={bare:e.bare||i.bare,state:e.state,formKey:e.formKey,debug:e.debug||i.debug,dynamic:e.dynamic||i.dynamic,updateParentState:o.updateParentState(r,a,e.formKey),updateRadioGroupStateFromPassedInContext:o.updateRadioGroupStateFromPassedInContext(r,a,e.formKey),metadata:{[d.INPUTS]:new u.Metadata(F,b,d.INPUTS),[d.CHECKBOXES]:new u.Metadata(E,_,d.CHECKBOXES),[d.FILES]:new u.MetadataFile(y,g,d.FILES),[d.RADIO_GROUPS]:new u.MetadataGroup(v,O,d.RADIO_GROUPS)}};return s.default.createElement(t.FormProvider,{value:P},s.default.createElement("form",{onSubmit:t.handleSubmit(e)},e.children))}},function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractField=t._genericFormGroup=void 0;const s=n(r(0)),o=r(1),u=r(2);t._genericFormGroup=function(e,t){return s.default.createElement("div",{className:"form-group"},e.labeltext&&s.default.createElement("label",null,e.labeltext),t,e.hint&&s.default.createElement("small",{className:"form-text text-muted"},e.hint))};t.AbstractField=class{constructor(e,t){this.type=t,this.props=e,this.init()}get parentName(){return this._parentName}set parentName(e){this._parentName=e}get bare(){return Boolean(this._bare)}set bare(e){this._bare=e}get metadata(){return this._metadata}set metadata(e){this._metadata=e}init(){this.context=s.useContext(u.FormContext),this.metadata=this.context.metadata[o.getMetadataNameType(this.type)],this.metadata.init(this.props.name,this.type),this.bare=Boolean(this.context.bare)}getProps(){return this.props}createField(e){const t=this.props.validators||this.parentName?s.default.createElement(o.FormElementValidators,{isTouched:this.metadata.isFieldTouched(),results:this.validate(),name:this.props.name,type:o.getMetadataNameType(this.type),parent:this.parent}):null;return this.bare?s.default.createElement(s.default.Fragment,null,e(this.metadata.state),t):s.default.createElement(s.default.Fragment,null,this.formGroup(e(this.metadata.state)),t)}doValidation(e){let t=[];if(this.props.validators)for(let r of this.props.validators)t=[...t,r(e,this.context)];return t}validate(){let e=this.getFieldValue(this.props),t=this.doValidation(e);return this.metadata.update(e,t),t}getFieldValue(e){let t=o.getFieldValueType(this.type);return this.props[t]}static mergeDefaultCssWithProps(e,t,r){let a="";return r||(a+=e+" "),t&&(a+=""+t),a}overrideEvent(e,t){return{...e,target:{...e.target,value:!t}}}getStatePositionFromFormKey(){var e,t;return(null===(e=this.context)||void 0===e?void 0:e.formKey)?this.context.state[this.context.formKey]:null===(t=this.context)||void 0===t?void 0:t.state}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMetadata=void 0;t.AbstractMetadata=class{constructor(e,t,r){this.state=e,this.updateState=t,this.metaType=r}get name(){return this._name}set name(e){this._name=e}get fieldType(){return this._fieldType}set fieldType(e){this._fieldType=e}isFieldTouched(){return!!this.state[this.name]&&this.state[this.name].isTouched}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._noContextError=t._FieldEmptyErrorMsg=t._isFieldEmptyErrorMsg=t._throwNewErrorMsg=void 0,t._throwNewErrorMsg=(e,t,r)=>`React Bare Forms ERROR:\n\t${e} - ${t}\n\t- ${r}`,t._isFieldEmptyErrorMsg=t._throwNewErrorMsg("Function","isFieldEmpty()","Missing argument: minLength (number)");class a extends Error{}t._FieldEmptyErrorMsg=a,t._noContextError=t._throwNewErrorMsg("Required Props","context","You must pass in a context prop. Class components use 'state' & functional components must use useState hook. See https://joegasewicz.github.io/react-bare-forms/modules/_form_.html")},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFileFromRef=t.createFileRef=void 0;const i=a(r(0));t.createFileRef=function(){return i.default.createRef()},t.getFileFromRef=function(e){return e&&e.current&&Object.keys(e.current.files).length?e.current.files[0]:null}},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitButton=t.FileField=t.SelectField=t.RadioField=t.RadioGroup=t.TextAreaField=t.CheckBoxField=t.PasswordField=t.EmailField=t.TextInputField=t.FIELD_NAMES=void 0;const i=a(r(0)),n=r(2),s=r(8),o=r(9);var u;!function(e){e.TEXT="text",e.EMAIL="email",e.PASSWORD="password",e.TEXTAREA="textArea",e.RADIO="radio",e.CHECKBOX="checkbox",e.SELECT="select",e.FILE="file"}(u=t.FIELD_NAMES||(t.FIELD_NAMES={})),t.TextInputField=e=>new o.InputField(u.TEXT,e).create(),t.EmailField=e=>new o.InputField(u.EMAIL,e).create(),t.PasswordField=e=>new o.InputField(u.PASSWORD,e).create(),t.CheckBoxField=e=>new o.CheckBoxField(u.CHECKBOX,e).create(),t.TextAreaField=e=>new o.TextAreaField(u.TEXTAREA,e).create(),t.RadioGroup=function(e){const t={parent:{name:e.name},children:e.children};return i.default.createElement(n.RadioGroupContext.Provider,{value:t},e.children)},t.RadioField=e=>new o.RadioField(u.RADIO,e).create(),t.SelectField=e=>new o.SelectField(u.SELECT,e).create(),t.FileField=i.default.forwardRef((e,t)=>{let r={...e,ref:t};return new o.FileField(u.FILE,r).create()}),t.SubmitButton=(new s.SubmitButton).create()},function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitButton=void 0;const s=n(r(0)),o=r(2);t.SubmitButton=class{constructor(){this.GROUP_TYPES=["radioGroups"]}isGroup(e){return this.GROUP_TYPES.includes(e)}create(){return e=>{const t=s.useContext(o.FormContext),{className:r="btn btn-success btn-lg",disabled:a=!0}=e;let i=!1;t.metadata.inputs.state;for(let e of Object.keys(t.metadata)){let r=t.metadata[e].state;if(this.isGroup(t.metadata[e].metaType))for(let e of Object.keys(r))for(let t of Object.keys(r[e])){let a=r[e][t];for(let e of a.validation)e.isValid||(i=!0)}else for(let e of Object.keys(r))for(let t of r[e].validation)t.isValid||(i=!0)}return s.default.createElement("button",Object.assign({},e,{disabled:i,className:r}),e.children)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextAreaField=t.SubmitButton=t.SelectField=t.RadioField=t.MetadataGroup=t.MetadataFile=t.Metadata=t.InputField=t.FileField=t.CheckBoxField=t.AbstractMetadata=t.AbstractField=void 0;const a=r(3);Object.defineProperty(t,"AbstractField",{enumerable:!0,get:function(){return a.AbstractField}});const i=r(4);Object.defineProperty(t,"AbstractMetadata",{enumerable:!0,get:function(){return i.AbstractMetadata}});const n=r(15);Object.defineProperty(t,"CheckBoxField",{enumerable:!0,get:function(){return n.CheckBoxField}});const s=r(16);Object.defineProperty(t,"FileField",{enumerable:!0,get:function(){return s.FileField}});const o=r(17);Object.defineProperty(t,"InputField",{enumerable:!0,get:function(){return o.InputField}});const u=r(18);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return u.Metadata}});const l=r(19);Object.defineProperty(t,"MetadataFile",{enumerable:!0,get:function(){return l.MetadataFile}});const d=r(20);Object.defineProperty(t,"MetadataGroup",{enumerable:!0,get:function(){return d.MetadataGroup}});const c=r(21);Object.defineProperty(t,"RadioField",{enumerable:!0,get:function(){return c.RadioField}});const p=r(22);Object.defineProperty(t,"SelectField",{enumerable:!0,get:function(){return p.SelectField}});const f=r(8);Object.defineProperty(t,"SubmitButton",{enumerable:!0,get:function(){return f.SubmitButton}});const m=r(23);Object.defineProperty(t,"TextAreaField",{enumerable:!0,get:function(){return m.TextAreaField}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectField=t.TextInputField=t.TextAreaField=t.SubmitButton=t.RadioGroup=t.RadioField=t.PasswordField=t.Form=t.FileField=t.EmailField=t.CheckBoxField=t.FormConsumer=t.isRadioChecked=t.isFile=t.isFieldEmpty=t.isEmailValid=t.isChecked=t.customValidator=t.areFieldsEqual=t.getFileFromRef=t.createFileRef=void 0;const a=r(2);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return a.Form}}),Object.defineProperty(t,"FormConsumer",{enumerable:!0,get:function(){return a.FormConsumer}});const i=r(7);Object.defineProperty(t,"CheckBoxField",{enumerable:!0,get:function(){return i.CheckBoxField}}),Object.defineProperty(t,"EmailField",{enumerable:!0,get:function(){return i.EmailField}}),Object.defineProperty(t,"FileField",{enumerable:!0,get:function(){return i.FileField}}),Object.defineProperty(t,"PasswordField",{enumerable:!0,get:function(){return i.PasswordField}}),Object.defineProperty(t,"RadioField",{enumerable:!0,get:function(){return i.RadioField}}),Object.defineProperty(t,"RadioGroup",{enumerable:!0,get:function(){return i.RadioGroup}}),Object.defineProperty(t,"SelectField",{enumerable:!0,get:function(){return i.SelectField}}),Object.defineProperty(t,"SubmitButton",{enumerable:!0,get:function(){return i.SubmitButton}}),Object.defineProperty(t,"TextAreaField",{enumerable:!0,get:function(){return i.TextAreaField}}),Object.defineProperty(t,"TextInputField",{enumerable:!0,get:function(){return i.TextInputField}});const n=r(25);Object.defineProperty(t,"areFieldsEqual",{enumerable:!0,get:function(){return n.areFieldsEqual}}),Object.defineProperty(t,"customValidator",{enumerable:!0,get:function(){return n.customValidator}}),Object.defineProperty(t,"isChecked",{enumerable:!0,get:function(){return n.isChecked}}),Object.defineProperty(t,"isEmailValid",{enumerable:!0,get:function(){return n.isEmailValid}}),Object.defineProperty(t,"isFieldEmpty",{enumerable:!0,get:function(){return n.isFieldEmpty}}),Object.defineProperty(t,"isFile",{enumerable:!0,get:function(){return n.isFile}}),Object.defineProperty(t,"isRadioChecked",{enumerable:!0,get:function(){return n.isRadioChecked}});const s=r(6);Object.defineProperty(t,"createFileRef",{enumerable:!0,get:function(){return s.createFileRef}}),Object.defineProperty(t,"getFileFromRef",{enumerable:!0,get:function(){return s.getFileFromRef}})},function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FormElementValidators=t.ValidationResults=void 0;const s=n(r(0)),o=r(2);function u(e){const{results:t,styles:r}=e;return s.default.createElement(s.default.Fragment,null,t.map(e=>e.messages.map((e,t)=>s.default.createElement("div",{key:t,className:r},e))))}t.ValidationResults=u,t.FormElementValidators=e=>{const t=s.useContext(o.FormContext).bare?e.className:"alert mt-2 alert-danger "+e.className;return e.isTouched?s.default.createElement(u,{results:e.results,styles:t||""}):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileObject=void 0;const a=r(6);t.createFileObject=function(e){let t=a.getFileFromRef(e);if(t){let{name:e,lastModified:r,lastModifiedDate:a,size:i,type:n}=t;return{name:e,lastModified:r,lastModifiedDate:a,size:i,type:n}}return null}},function(e,t,r){"use strict";function a(e,t="",r={}){return t?{[t]:{...e[t],...r}}:{...e,...r}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateRadioGroupStateFromPassedInContext=t.updateParentState=void 0,t.updateParentState=function(e,t,r=""){return(i,n)=>{t({...e,...a(e,r,{[n]:i.target.value})})}},t.updateRadioGroupStateFromPassedInContext=function(e,t,r=""){return(i,n,s)=>{if(s){let i={...e,...a(e,r,{[n]:!0})};for(let e of s.children)e.props.name!==n&&(i={...i,...a(i,r,{[e.props.name]:!1})});t(i)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldValueType=t.getMetadataNameType=t.mergeDefaultCssWithProps=void 0;const a=r(2),i=r(7);t.mergeDefaultCssWithProps=function(e,t,r){let a="";return r||(a+=e+" "),t&&(a+=""+t),a},t.getMetadataNameType=function(e){switch(e){case i.FIELD_NAMES.TEXT:case i.FIELD_NAMES.EMAIL:case i.FIELD_NAMES.PASSWORD:case i.FIELD_NAMES.TEXTAREA:return a.METADATA_NAMES.INPUTS;case i.FIELD_NAMES.RADIO:return a.METADATA_NAMES.RADIO_GROUPS;case i.FIELD_NAMES.CHECKBOX:return a.METADATA_NAMES.CHECKBOXES;case i.FIELD_NAMES.SELECT:return a.METADATA_NAMES.INPUTS;case i.FIELD_NAMES.FILE:return a.METADATA_NAMES.FILES;default:return a.METADATA_NAMES.INPUTS}},t.getFieldValueType=function(e){switch(e){case i.FIELD_NAMES.TEXT:case i.FIELD_NAMES.EMAIL:case i.FIELD_NAMES.PASSWORD:case i.FIELD_NAMES.TEXTAREA:return"value";case i.FIELD_NAMES.CHECKBOX:return"checked";case i.FIELD_NAMES.SELECT:return"value";case i.FIELD_NAMES.FILE:return"file";case i.FIELD_NAMES.RADIO:return"checked";default:return"value"}}},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxField=void 0;const i=a(r(0)),n=r(3);class s extends n.AbstractField{constructor(e,t){super(t,e),this.type=e,this.props=t}create(){return this.createField(this.getField())}formGroup(e){return i.default.createElement("div",{className:"form-group form-check"},e,this.props.labeltext&&i.default.createElement("label",{className:"form-check-label"},this.props.labeltext),this.props.hint&&i.default.createElement("small",{className:"form-text text-muted"},this.props.hint))}getField(){return()=>i.default.createElement(i.default.Fragment,null,i.default.createElement("input",Object.assign({},this.props,{type:this.type,checked:this.getStatePositionFromFormKey()[this.props.name]||!1,onChange:e=>this.context.updateParentState(this.overrideEvent(e,this.getStatePositionFromFormKey()[this.props.name]),this.props.name),name:this.props.name,className:n.AbstractField.mergeDefaultCssWithProps("form-check-input",this.props.className,this.context.bare)})))}}t.CheckBoxField=s},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileField=void 0;const i=a(r(0)),n=r(3),s=r(1);class o extends n.AbstractField{constructor(e,t){super(t,e),this._updateFieldValidation=()=>{this.file=s.createFileObject(this.props.ref),void 0!==this.file&&this.validate()},this.type=e,this.props=t}get file(){return this._file}set file(e){this._file=e}create(){return this.createField(this.getField())}formGroup(e){return n._genericFormGroup(this.props,e)}getField(){return()=>i.default.createElement(i.default.Fragment,null,i.default.createElement("input",Object.assign({},this.props,{ref:this.props.ref,type:this.type,onChange:this._updateFieldValidation.bind(this),className:n.AbstractField.mergeDefaultCssWithProps("form-control-file",this.props.className,this.context.bare)})))}getFieldValue(e){return this.props.ref.current?s.createFileObject(this.props.ref):null}}t.FileField=o},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputField=void 0;const i=a(r(0)),n=r(3);class s extends n.AbstractField{constructor(e,t){super(t,e),this.type=e,this.props=t}create(){return this.createField(this.getField())}formGroup(e){return n._genericFormGroup(this.props,e)}getField(){return()=>i.default.createElement(i.default.Fragment,null,i.default.createElement("input",Object.assign({},this.props,{type:this.type,value:this.getStatePositionFromFormKey()[this.props.name]||"",onChange:e=>this.context.updateParentState(e,this.props.name),name:this.props.name,className:n.AbstractField.mergeDefaultCssWithProps("form-control",this.props.className,this.bare)})))}}t.InputField=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const a=r(1),i=r(4),n=r(0);class s extends i.AbstractMetadata{constructor(e,t,r){super(e,t,r),this.defaultState={}}init(e,t){this.name=e,this.fieldType=t}update(e,t){let r;this.name in this.state?this.state[this.name]&&e!==this.state[this.name].fieldValues.currentValue&&(r={...this.state,[this.name]:{name:this.name,validation:t,fieldValues:{type:a.getFieldValueType(this.fieldType),currentValue:e},isTouched:!0}},n.useEffect(()=>{this.updateState(r)},[r])):(r={...this.state,[this.name]:{name:this.name,validation:t,isTouched:!1,fieldValues:{type:a.getFieldValueType(this.fieldType),currentValue:e}}},n.useEffect(()=>{this.updateState(r)},[r]))}}t.Metadata=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataFile=void 0;const a=r(1),i=r(4),n=r(0);class s extends i.AbstractMetadata{constructor(e,t,r){super(e,t,r),this.defaultState={}}init(e,t){this.name=e,this.fieldType=t}update(e,t){let r;if(!(this.name in this.state))return r={...this.state,[this.name]:{name:this.name,validation:t,isTouched:!1,fieldValues:{type:a.getFieldValueType(this.fieldType),currentValue:{}}}},void n.useEffect(()=>{this.updateState(r)},[r]);if(this.state[this.name]){let i=this.state[this.name].fieldValues.currentValue;(null===e&&Object.keys(i).length||e&&e.name!==i.name)&&(r={...this.state,[this.name]:{name:this.name,validation:t,fieldValues:{type:a.getFieldValueType(this.fieldType),currentValue:e||{}},isTouched:!0}},this.updateState(r))}}}t.MetadataFile=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataGroup=void 0;const a=r(1),i=r(4),n=r(0);class s extends i.AbstractMetadata{constructor(e,t,r){super(e,t,r),this.defaultState={}}init(e,t){this.name=e,this.fieldType=t}_createGroupState(e,t,r=!0){return{...this.state,[e.parentName]:{...this.state[e.parentName],[this.name]:{parent:e.parentName,name:this.name,validation:t||[],isTouched:r,fieldValues:{type:a.getFieldValueType(this.fieldType),value:e.value}}}}}update(e,t){let r={};this.state[e.parentName]?(this.state[e.parentName]&&!(this.name in this.state[e.parentName])||this.state[e.parentName][this.name]&&this.state[e.parentName][this.name].fieldValues.value!==e.value)&&(r=this._createGroupState(e,t),n.useEffect(()=>{this.updateState(r)})):(r=this._createGroupState(e,t,!1),n.useEffect(()=>{this.updateState(r)}))}isFieldTouched(){if(this.state&&this.parentName&&this.name&&this.state[this.parentName]){let e=this.state[this.parentName][this.name];if(e)return e.isTouched}return!1}}t.MetadataGroup=s},function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RadioField=void 0;const s=n(r(0)),o=r(3),u=r(2);class l extends o.AbstractField{constructor(e,t){super(t,e),this.handleOnChange=(e,t)=>{let r=this.overrideEvent(e,e.target.value);this.context.updateRadioGroupStateFromPassedInContext(r,this.props.name,t)},this.props=t,this.type=e,this.radioContext=s.useContext(u.RadioGroupContext),this.radioContext&&this.radioContext.parent&&(this.parentName=this.radioContext.parent.name,this.metadata.parentName=this.parentName)}get parentName(){return this.__parentName}set parentName(e){this.__parentName=e}create(){return this.createField(this.getField())}formGroup(e){return s.default.createElement("div",{className:"form-group form-check"},e,this.props.labeltext&&s.default.createElement("label",{className:"form-check-label"},this.props.labelText),this.props.hint&&s.default.createElement("small",{className:"form-text text-muted"},this.props.hint))}getField(){return()=>s.default.createElement("input",Object.assign({},this.props,{type:this.type,checked:this.getStatePositionFromFormKey()[this.props.name]||!1,name:this.props.name,onChange:e=>this.handleOnChange(e,this.radioContext),className:o.AbstractField.mergeDefaultCssWithProps("form-check-input",this.props.className,this.context.bare)}))}getFieldValue(e){var t,r,a;const i=null===(t=this.context)||void 0===t?void 0:t.formKey;return i?(null===(r=this.context)||void 0===r?void 0:r.state[i][this.props.name])||!1:(null===(a=this.context)||void 0===a?void 0:a.state[this.props.name])||!1}validate(){let e=this.getFieldValue(this.props),t=this.doValidation(e);return this.metadata.update({value:e,parentName:this.parentName,name:this.props.name},t),t}}t.RadioField=l},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectField=void 0;const i=a(r(0)),n=r(3);class s extends n.AbstractField{constructor(e,t){super(t,e),this.type=e,this.props=t}create(){return this.createField(this.getField())}formGroup(e){return n._genericFormGroup(this.props,e)}_getOptions(e=[]){return this.props.objectkey&&this.props.objectvalue?e.map((e,t)=>i.default.createElement("option",{value:e[this.props.objectkey],key:t},e[this.props.objectvalue])):e.map((e,t)=>i.default.createElement("option",{value:e,key:t},e))}getField(){const{options:e=[],size:t="default"}=this.props,r=this._getOptions(e);return()=>i.default.createElement("select",Object.assign({},this.props,{onChange:e=>this.context.updateParentState(e,this.props.name),name:this.props.name,className:n.AbstractField.mergeDefaultCssWithProps(this.getSelectCssName(this.props.size),this.props.className,this.context.bare)}),r||null)}getSelectCssName(e){return"default"===e?"form-control":"form-control form-control-"+e}}t.SelectField=s},function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextAreaField=void 0;const i=a(r(0)),n=r(3),s=r(1);class o extends n.AbstractField{constructor(e,t){super(t,e),this.type=e,this.props=t}create(){return this.createField(this.getField())}formGroup(e){return n._genericFormGroup(this.props,e)}getField(){const{rows:e=5}=this.props;return()=>i.default.createElement("textarea",Object.assign({},this.props,{className:s.mergeDefaultCssWithProps("form-control",this.props.className,this.context.bare),rows:e,value:this.getStatePositionFromFormKey()[this.props.name]||"",onChange:e=>this.context.updateParentState(e,this.props.name),name:this.props.name}))}}t.TextAreaField=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMAIL_REGEX=void 0,t.EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormStateFromContext=t.customValidator=t.isChecked=t.isRadioChecked=t.isFile=t.isEmailValid=t.isFieldEmpty=t.areFieldsEqual=void 0;const a=r(1);function i(e){return(t=null)=>(...r)=>{const a=r[0],i=r[1],n=e(t,a,i);let s;return s=Array.isArray(n)&&n.length>=1?{isValid:!1,messages:n}:{isValid:!0,messages:[]},s}}function n(e){return e.formKey?e.state[e.formKey]:e.state}t.areFieldsEqual=i((e,t,r)=>{let a,i=["Fields do not match"],s=n(r);if(!(e in s))throw new Error(`React-BareForms Error: No Field with name of ${e} exists when calling 'areFieldsEqual' validator function.\n For more info, visit: https://joegasewicz.github.io/react-bare-forms/modules/_validators_.html#arefieldsequal`);if(a=s[e],!a||!t||t!==s[e])return i}),t.isFieldEmpty=i((e,t,r)=>{if(!(void 0!==t&&t.length>=e))return[`Must be at least ${e} characters`]}),t.isEmailValid=i((e,t,r)=>{if(!a.EMAIL_REGEX.test(String(t).toLowerCase()))return["Must be a valid email"]}),t.isFile=i((e,t,r)=>{if(!t)return["Must be a file type"]}),t.isRadioChecked=i((e,t,r)=>{if(!t)return["This option must be selected"]}),t.isChecked=i((e,t,r)=>{if(!1===t)return["Must be checked"]}),t.customValidator=i,t.getFormStateFromContext=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9pbmRleC50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9mb3JtLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19BYnN0cmFjdEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19BYnN0cmFjdE1ldGFkYXRhLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2Vycm9ycy50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy91bmNyb250cm9sbGVkLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2VsZW1lbnRzLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19TdWJtaXRCdXR0b24udHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2ZpZWxkX2NsYXNzZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fY29tcG9uZW50cy50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fZmlsZS50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19oYW5kbGVycy50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9jb3JlL19oZWxwZXJzLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19DaGVja0JveEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19GaWxlRmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2ZpZWxkX2NsYXNzZXMvX0lucHV0RmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX01ldGFkYXRhLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX01ldGFkYXRhRmlsZS50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fTWV0YWRhdGFHcm91cC50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19SYWRpb0ZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19TZWxlY3RGaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fVGV4dEFyZWFGaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fcmVnZXgudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvdmFsaWRhdG9ycy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsIkZvcm1FbGVtZW50VmFsaWRhdG9ycyIsIlZhbGlkYXRpb25SZXN1bHRzIiwiX0ZpZWxkRW1wdHlFcnJvck1zZyIsImNyZWF0ZUZpbGVPYmplY3QiLCJ1cGRhdGVQYXJlbnRTdGF0ZSIsInVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQiLCJnZXRGaWVsZFZhbHVlVHlwZSIsImdldE1ldGFkYXRhTmFtZVR5cGUiLCJtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMiLCJFTUFJTF9SRUdFWCIsIk1FVEFEQVRBX05BTUVTIiwiSU5QVVRTX1NUQVRFIiwiUkFESU9fR1JPVVBTX1NUQVRFIiwiRklMRVNfU1RBVEUiLCJDSEVDS0JPWEVTX1NUQVRFIiwicHJvdmlkZXJDb250ZXh0IiwiYmFyZSIsInN0YXRlIiwiZm9ybUtleSIsImRlYnVnIiwiZHluYW1pYyIsIm1ldGFkYXRhIiwiaW5wdXRzIiwicmFkaW9Hcm91cHMiLCJmaWxlcyIsImNoZWNrYm94ZXMiLCJSYWRpb0dyb3VwQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJGb3JtQ29udGV4dCIsIkZvcm1Qcm92aWRlciIsIlByb3ZpZGVyIiwiRm9ybUNvbnN1bWVyIiwiQ29uc3VtZXIiLCJoYW5kbGVTdWJtaXQiLCJwcm9wcyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNhbGxiYWNrIiwiRm9ybSIsInBhcmVudFN0YXRlIiwic2V0UGFyZW50U3RhdGUiLCJ1c2VTdGF0ZSIsImNvbnRleHQiLCJfIiwiaW5wdXRTdGF0ZSIsInVwZGF0ZUlucHV0U3RhdGUiLCJjaGVja2JveGVzU3RhdGUiLCJ1cGRhdGVDaGVja2JveGVzU3RhdGUiLCJmaWxlU3RhdGUiLCJ1cGRhdGVGaWxlU3RhdGUiLCJyYWRpb1N0YXRlIiwidXBkYXRlUmFkaW9TdGF0ZSIsInVzZUVmZmVjdCIsInNldFN0YXRlIiwiX25vQ29udGV4dEVycm9yIiwiX3Byb3ZpZGVyQ29udGV4dCIsIklOUFVUUyIsIk1ldGFkYXRhIiwiQ0hFQ0tCT1hFUyIsIkZJTEVTIiwiTWV0YWRhdGFGaWxlIiwiUkFESU9fR1JPVVBTIiwiTWV0YWRhdGFHcm91cCIsIm9uU3VibWl0IiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJsYWJlbHRleHQiLCJoaW50IiwidHlwZSIsInRoaXMiLCJpbml0IiwiX3BhcmVudE5hbWUiLCJCb29sZWFuIiwiX2JhcmUiLCJ2YWwiLCJfbWV0YWRhdGEiLCJ1c2VDb250ZXh0IiwiZmllbGRDYWxsYmFjayIsIl92YWxpZGF0ZSIsInZhbGlkYXRvcnMiLCJwYXJlbnROYW1lIiwiaXNUb3VjaGVkIiwiaXNGaWVsZFRvdWNoZWQiLCJyZXN1bHRzIiwidmFsaWRhdGUiLCJwYXJlbnQiLCJmb3JtR3JvdXAiLCJ2YWxpZGF0aW9uIiwiZ2V0RmllbGRWYWx1ZSIsImRvVmFsaWRhdGlvbiIsInVwZGF0ZSIsImRlZmF1bHRWYWx1ZSIsImNzc1Byb3BzIiwiY3NzU3RyIiwidGFyZ2V0IiwidXBkYXRlU3RhdGUiLCJtZXRhVHlwZSIsIl9uYW1lIiwiX2ZpZWxkVHlwZSIsIl90aHJvd05ld0Vycm9yTXNnIiwibWVzc2FnZSIsIl9pc0ZpZWxkRW1wdHlFcnJvck1zZyIsIkVycm9yIiwiY3JlYXRlUmVmIiwiZmlsZVJlZiIsImN1cnJlbnQiLCJrZXlzIiwibGVuZ3RoIiwiRklFTERfTkFNRVMiLCJUZXh0SW5wdXRGaWVsZCIsIklucHV0RmllbGQiLCJURVhUIiwiRW1haWxGaWVsZCIsIkVNQUlMIiwiUGFzc3dvcmRGaWVsZCIsIlBBU1NXT1JEIiwiQ2hlY2tCb3hGaWVsZCIsIkNIRUNLQk9YIiwiVGV4dEFyZWFGaWVsZCIsIlRFWFRBUkVBIiwiY29udGV4dFZhbHVlIiwiUmFkaW9GaWVsZCIsIlJBRElPIiwiU2VsZWN0RmllbGQiLCJTRUxFQ1QiLCJGaWxlRmllbGQiLCJmb3J3YXJkUmVmIiwicmVmIiwiX3Byb3BzIiwiRklMRSIsIlN1Ym1pdEJ1dHRvbiIsIkdST1VQX1RZUEVTIiwiaW5jbHVkZXMiLCJkaXNhYmxlZCIsImlzRGlzYWJsZWQiLCJtZXRhIiwibWV0YUZpZWxkIiwiaXNHcm91cCIsImZpZWxkIiwiY2hpbGRGaWVsZCIsIl9jaGlsZCIsImlzVmFsaWQiLCJBYnN0cmFjdEZpZWxkIiwiQWJzdHJhY3RNZXRhZGF0YSIsIlJhZGlvR3JvdXAiLCJhcmVGaWVsZHNFcXVhbCIsImN1c3RvbVZhbGlkYXRvciIsImlzQ2hlY2tlZCIsImlzRW1haWxWYWxpZCIsImlzRmllbGRFbXB0eSIsImlzRmlsZSIsImlzUmFkaW9DaGVja2VkIiwiY3JlYXRlRmlsZVJlZiIsImdldEZpbGVGcm9tUmVmIiwic3R5bGVzIiwibWFwIiwicmVzdWx0IiwibWVzc2FnZXMiLCJtc2ciLCJpbmRleCIsImZpbGVEYXRhIiwibGFzdE1vZGlmaWVkIiwibGFzdE1vZGlmaWVkRGF0ZSIsInNpemUiLCJfZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSIsIm9iaiIsInJhZGlvR3JvdXAiLCJuZXdTdGF0ZSIsInN1cGVyIiwiY3JlYXRlRmllbGQiLCJnZXRGaWVsZCIsImNoZWNrZWQiLCJnZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkiLCJvbkNoYW5nZSIsIm92ZXJyaWRlRXZlbnQiLCJfdXBkYXRlRmllbGRWYWxpZGF0aW9uIiwiZmlsZSIsIl9maWxlIiwiX2dlbmVyaWNGb3JtR3JvdXAiLCJkZWZhdWx0U3RhdGUiLCJmaWVsZFR5cGUiLCJmaWVsZFZhbHVlcyIsImN1cnJlbnRWYWx1ZSIsIl9jcmVhdGVHcm91cFN0YXRlIiwibWV0YUdyb3VwIiwiaGFuZGxlT25DaGFuZ2UiLCJyYWRpb0NvbnRleHQiLCJldmVudCIsIl9fcGFyZW50TmFtZSIsImxhYmVsVGV4dCIsIm9wdGlvbnMiLCJvYmplY3RrZXkiLCJvYmplY3R2YWx1ZSIsIm9wdFZhbCIsInNlbGVjdERhdGEiLCJfZ2V0T3B0aW9ucyIsImdldFNlbGVjdENzc05hbWUiLCJyb3dzIiwiYXJnIiwiYXJncyIsImZpZWxkVmFsdWUiLCJ2YWxpZGF0aW9uRGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImdldEZvcm1TdGF0ZUZyb21Db250ZXh0IiwiZmllbGRLZXkiLCJ0ZXN0RmllbGQiLCJjb250ZXh0U3RhdGUiLCJtaW5MZW5ndGgiLCJ0ZXN0IiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJxQ0FDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxF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QVF6QixNQUFNeUIsRUFBUXhCLFNBRTFCd0IsRUFBUXpCLE1BM05OLEVBQUFnSSxlQUFzQ0MsRUFBZ0IsQ0FBQzJELEVBQVVMLEVBQVk5SixLQUN0RixJQUFJb0ssRUFDQTFHLEVBQVUsQ0FBQyx1QkFDWDJHLEVBQWVILEVBQXdCbEssR0FDM0MsS0FBR21LLEtBQVlFLEdBTVgsTUFBTSxJQUFJekcsTUFDTixnREFBZ0R1Ryw4S0FMcEQsR0FEQUMsRUFBWUMsRUFBYUYsSUFDckJDLElBQWNOLEdBQWVBLElBQWVPLEVBQWFGLEdBQ3pELE9BQU96RyxJQStCTixFQUFBaUQsYUFBb0NILEVBQWdCLENBQUM4RCxFQUFXUixFQUFZOUosS0FFckYsVUFEdUMsSUFBZjhKLEdBQThCQSxFQUFXN0YsUUFBVXFHLEdBRXZFLE1BQU8sQ0FBQyxvQkFBb0JBLGtCQW9CdkIsRUFBQTVELGFBQW9DRixFQUFnQixDQUFDdkcsRUFBSTZKLEVBQVk5SixLQUU5RSxJQURnQixFQUFBakMsWUFBWXdNLEtBQUtDLE9BQU9WLEdBQVlXLGVBRWhELE1BQU8sQ0FBQywyQkF5QkgsRUFBQTdELE9BQThCSixFQUFnQixDQUFDdkcsRUFBR3JFLEVBQU1vRSxLQUNqRSxJQUFJcEUsRUFDQSxNQUFPLENBQUMseUJBNEJILEVBQUFpTCxlQUFzQ0wsRUFBZ0IsQ0FBQ3ZHLEVBQUkzRCxFQUFPMEQsS0FDM0UsSUFBSTFELEVBQ0EsTUFBTyxDQUFDLGtDQXFCSCxFQUFBbUssVUFBaUNELEVBQWdCLENBQUN2RyxFQUFHNkosRUFBWTlKLEtBQzFFLElBQWtCLElBQWY4SixFQUNDLE1BQU8sQ0FBQyxxQkFxQ2hCLG9CQWtDQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wicmVhY3RcIl07IH0oKSk7IiwiaW1wb3J0IHtGb3JtRWxlbWVudFZhbGlkYXRvcnMsIFZhbGlkYXRpb25SZXN1bHRzfSBmcm9tIFwiLi9fY29tcG9uZW50c1wiO1xuaW1wb3J0IHtfRmllbGRFbXB0eUVycm9yTXNnfSBmcm9tIFwiLi9fZXJyb3JzXCI7XG5pbXBvcnQge2NyZWF0ZUZpbGVPYmplY3QsIElGaWxlfSBmcm9tIFwiLi9fZmlsZVwiO1xuaW1wb3J0IHt1cGRhdGVQYXJlbnRTdGF0ZSwgdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dH0gZnJvbSBcIi4vX2hhbmRsZXJzXCI7XG5pbXBvcnQge2dldEZpZWxkVmFsdWVUeXBlLCBnZXRNZXRhZGF0YU5hbWVUeXBlLCBtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHN9IGZyb20gXCIuL19oZWxwZXJzXCI7XG5pbXBvcnQge0VNQUlMX1JFR0VYfSBmcm9tIFwiLi9fcmVnZXhcIjtcblxuZXhwb3J0IHtcbiAgICBjcmVhdGVGaWxlT2JqZWN0LFxuICAgIEVNQUlMX1JFR0VYLFxuICAgIF9GaWVsZEVtcHR5RXJyb3JNc2csXG4gICAgRm9ybUVsZW1lbnRWYWxpZGF0b3JzLFxuICAgIGdldEZpZWxkVmFsdWVUeXBlLFxuICAgIGdldE1ldGFkYXRhTmFtZVR5cGUsXG4gICAgdXBkYXRlUGFyZW50U3RhdGUsXG4gICAgbWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzLFxuICAgIHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQsXG4gICAgVmFsaWRhdGlvblJlc3VsdHMsXG59O1xuXG5leHBvcnQgdHlwZSB7XG4gICAgSUZpbGUsXG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHt1cGRhdGVSYWRpb0dyb3VwU3RhdGVGcm9tUGFzc2VkSW5Db250ZXh0LCB1cGRhdGVQYXJlbnRTdGF0ZSwgX0ZpZWxkRW1wdHlFcnJvck1zZ30gZnJvbSBcIi4vY29yZVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBBYnN0cmFjdE1ldGFkYXRhLFxuICAgIE1ldGFkYXRhLFxuICAgIE1ldGFkYXRhRmlsZSxcbiAgICBNZXRhZGF0YUdyb3VwLFxufSBmcm9tIFwiLi9maWVsZF9jbGFzc2VzXCI7XG5pbXBvcnQgeyBfbm9Db250ZXh0RXJyb3IgfSBmcm9tIFwiLi9jb3JlL19lcnJvcnNcIjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZpZWxkVmFsdWVUeXBlcyA9IFwidmFsdWVcInxcImNoZWNrZWRcInxcImZpbGVcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUZpZWxkVmFsdWVzIHtcbiAgICBjdXJyZW50VmFsdWU6IGFueTtcbiAgICByZWFkb25seSB0eXBlOiBUeXBlRmllbGRWYWx1ZVR5cGVzO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJRmllbGRWYWxpZGF0aW9uIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+O1xuICAgIGZpZWxkVmFsdWVzOiBJRmllbGRWYWx1ZXM7XG4gICAgaXNUb3VjaGVkOiBib29sZWFuO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW5wdXRGaWVsZE1ldGFkYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJRmlsZU1ldGFEYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7XG4gICAgcmVhZG9ubHkgcmVmTmFtZTogc3RyaW5nO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9Hcm91cENoaWxkcmVuIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hlY2tCb3hlc01ldGFkYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUlucHV0TWV0YWRhdGEgPSBBYnN0cmFjdE1ldGFkYXRhPElJbnB1dEZpZWxkTWV0YWRhdGE+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZpbGVNZXRhZGF0YSA9IEFic3RyYWN0TWV0YWRhdGE8SUZpbGVNZXRhRGF0YT47XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhID0gQWJzdHJhY3RNZXRhZGF0YTxJUmFkaW9Hcm91cENoaWxkcmVuPjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIFR5cGVDaGVja2JveGVzTWV0YWRhdGEgPSBBYnN0cmFjdE1ldGFkYXRhPElDaGVja0JveGVzTWV0YWRhdGE+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZvcm1NZXRhZGF0YSA9XG4gICAgfCBUeXBlSW5wdXRNZXRhZGF0YVxuICAgIHwgVHlwZVJhZGlvR3JvdXBNZXRhZGF0YVxuICAgIHwgVHlwZUNoZWNrYm94ZXNNZXRhZGF0YVxuICAgIHwgVHlwZUZpbGVNZXRhZGF0YTtcblxuZXhwb3J0IGludGVyZmFjZSBJTWV0YWRhdGEge1xuICAgIHJhZGlvR3JvdXBzOiBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhO1xuICAgIGlucHV0czogVHlwZUlucHV0TWV0YWRhdGE7XG4gICAgZmlsZXM6IFR5cGVJbnB1dE1ldGFkYXRhO1xuICAgIGNoZWNrYm94ZXM6IFR5cGVDaGVja2JveGVzTWV0YWRhdGE7XG5cbn1cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgZW51bSBNRVRBREFUQV9OQU1FUyB7XG4gICAgSU5QVVRTID0gXCJpbnB1dHNcIixcbiAgICBSQURJT19HUk9VUFMgPSBcInJhZGlvR3JvdXBzXCIsXG4gICAgRklMRVMgPSBcImZpbGVzXCIsXG4gICAgQ0hFQ0tCT1hFUyA9IFwiY2hlY2tib3hlc1wiLFxufVxuLyoqXG4gKiBAaW50ZXJmYWNlICoqSUZvcm0qKiBFeHBvcnRlZCBGb3JtIGludGVyZmFjZSBhdmFpbGFibGUgdG8gdGhlIGNhbGxlci4gQ29udGFpbnMgYWxsIHRoZSBwcm9wZXJ0aWVzIHJlcXVpcmVkIGJ5XG4gKiB0aGUgRm9ybSAqUkJGKiBGb3JtJ3MgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtIGV4dGVuZHMgUmVhY3QuRm9ybUhUTUxBdHRyaWJ1dGVzPEhUTUxGb3JtRWxlbWVudD4ge1xuICAgIC8qKiBUaGUgcGFzc2VkIGluIHN0YXRlIGZyb20gdGhlIHBhcmVudE5hbWUgY29tcG9uZW50ICovXG4gICAgc3RhdGU6IGFueTtcbiAgICAvKiogSWYgdGhlIHBhcmVudE5hbWUgY29tcG9uZW50IGlzIGEgY2xhc3MgY29tcG9uZW50IHRoZW4gdGhlIGNvbnRleHQgbXVzdCBjb250YWluIHRoZSBwYXJlbnROYW1lJ3MgKip0aGlzKioga2V5d29yZC4gKi9cbiAgICBjb250ZXh0PzogYW55O1xuICAgIC8qKiBJZiB0aGUgZm9ybSdzIHN0YXRlIGlzIG5vdCBkaXJlY3RseSBjb250YWluZWQgYXQgcGFyZW50TmFtZSdzIHN0YXRlIHJvb3Qgb2JqZWN0LCB0aGVuIGZvcm1LZXkgbmVlZHMgdG8gcmVwcmVzZW50IHRoZSBrZXkuICovXG4gICAgcmVhZG9ubHkgZm9ybUtleT86IHN0cmluZztcbiAgICAvKiogRGVmYXVsdCBpcyBmYWxzZS4gSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgZm9ybSBzdGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBqdXN0IGJlbG93IHRoZSBmb3JtIGNvbXBvbmVudCBpbiBgY29kZWAgdGFncy4gKi9cbiAgICByZWFkb25seSBkZWJ1Zz86IGJvb2xlYW47XG4gICAgLyoqIERlZmF1bHQgaXMgVHJ1ZS4gSWYgc2V0IHRvIGZhbHNlLCB0aGUgIHZhbGlkYXRvcnMgd2lsbCBub3QgYmUgY2FsbGVkIHVudGlsIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZC4gKi9cbiAgICByZWFkb25seSBkeW5hbWljPzogYm9vbGVhbjtcbiAgICAvKiogVGhlIHBhc3NlZCB0aHJvdWdoIHByb3BzIHRvIHRoZSBGb3JtIGNvbXBvbmVudCAqL1xuICAgIGNoaWxkcmVuPzogYW55O1xuICAgIC8qKiBEZWZhdWx0IHNldCB0byBmYWxzZS4gSWYgc2V0IHRvIHRydWUgdGhlbiBpdCB3aWxsIG5vdyB1c2UgYm9vdHN0cmFwIHN0eWxpbmcgb3IgYW55IGV4dHJhIGVsZW1lbnRzLiAqL1xuICAgIHJlYWRvbmx5IGJhcmU/OiBib29sZWFuO1xuICAgIC8qKiBDYWxsYmFjayBmdW5jdGlvbiB3aWwgYmUgY2FsbGVkIG9uIGZvcm0gc3VibWlzc2lvbiBpZiBhbGwgdmFsaWRhdG9ycyBwYXNzICovXG4gICAgcmVhZG9ubHkgY2FsbGJhY2s/OiBGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRm9ybUNvbnRleHQge1xuICAgIHJlYWRvbmx5IGJhcmU/OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGRlYnVnPzogYm9vbGVhbjtcbiAgICByZWFkb25seSBkeW5hbWljPzogYm9vbGVhbjtcbiAgICByZWFkb25seSBmb3JtS2V5Pzogc3RyaW5nO1xuICAgIG1ldGFkYXRhOiBJTWV0YWRhdGE7XG4gICAgc3RhdGU6IGFueTtcbiAgICB1cGRhdGVQYXJlbnRTdGF0ZT86IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIGZvcm1LZXk/OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dD86IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIHJhZGlvR3JvdXA6IGFueSwgZm9ybUtleT86IHN0cmluZykgPT4gdm9pZDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IElOUFVUU19TVEFURTogVHlwZUlucHV0TWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBSQURJT19HUk9VUFNfU1RBVEU6IFR5cGVSYWRpb0dyb3VwTWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBGSUxFU19TVEFURTogVHlwZUZpbGVNZXRhZGF0YSA9IHt9IGFzIGFueTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IENIRUNLQk9YRVNfU1RBVEU6IFR5cGVDaGVja2JveGVzTWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBwcm92aWRlckNvbnRleHQ6IElGb3JtQ29udGV4dCA9IHtcbiAgICBiYXJlOiBmYWxzZSxcbiAgICBzdGF0ZToge30sXG4gICAgZm9ybUtleTogbnVsbCBhcyBhbnksXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGR5bmFtaWM6IHRydWUsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgaW5wdXRzOiBudWxsIGFzIGFueSxcbiAgICAgICAgcmFkaW9Hcm91cHM6IG51bGwgYXMgYW55LFxuICAgICAgICBmaWxlczogbnVsbCBhcyBhbnksXG4gICAgICAgIGNoZWNrYm94ZXM6IG51bGwgYXMgYW55LFxuICAgIH0sXG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQge1xuICAgIHBhcmVudD86IHsgbmFtZTogc3RyaW5nIH07XG4gICAgY2hpbGRyZW4/OiBhbnk7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgUmFkaW9Hcm91cENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFR5cGVSYWRpb0dyb3VwTWV0YWRhdGE+KFJBRElPX0dST1VQU19TVEFURSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElGb3JtQ29udGV4dD4ocHJvdmlkZXJDb250ZXh0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBGb3JtUHJvdmlkZXIgPSBGb3JtQ29udGV4dC5Qcm92aWRlcjtcbi8qKlxuICogQHZhciBBY2Nlc3MgdGhlIGZvcm0gc3RhdGUgd2l0aGluIGEgUmVhY3QgQ29udGV4dCBBcGkgQ29uc3VtZXIgc2NvcGVcbiAqIEBleGFtcGxlIEZvciBleGFtcGxlOlxuICogYGBgXG4gKiA8Rm9ybSBzdGF0ZT17dGhpcy5zdGF0ZX0gY29udGV4dD17dGhpc30+XG4gKiAgICAgIDxGb3JtQ29uc3VtZXI+XG4gKiAgICAgIHsoe3N0YXRlfSkgPT4ge1xuICogICAgICAgICAgcmV0dXJuIDxkaXY+e3N0YXRlfSBpcyBlcXVhbCB7bXlTdGF0ZX08L2Rpdj47XG4gKiAgICAgIH19XG4gKiAgICA8L0Zvcm1Db25zdW1lcj5cbiAqIDwvRm9ybT5cbiAqIGBgYFxuICogKi9cbmV4cG9ydCBjb25zdCBGb3JtQ29uc3VtZXIgPSBGb3JtQ29udGV4dC5Db25zdW1lcjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChwcm9wczogSUZvcm0pID0+XG4gICAgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IGNhbGxiYWNrLCB9ID0gcHJvcHM7XG4gICAgICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiICYmIGNhbGxiYWNrKCkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICB9O1xuXG4vKipcbiAqIFRoZSBtYWluIEZvcm0gY29tcG9uZW50IHRoYXQgaXMgcmVxdWlyZWQgdG8gd3JhcCBhbGwgKlJCRiogY29tcG9uZW50cy5cbiAqIElmIHRoZSBjb21wb25lbnQgdGhhdCB1c2VzIHRoZSBGb3JtIGNvbXBvbmVudCBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50IHRoZW5cbiAqIG9ubHkgdGhlIHN0YXRlIHByb3BzICYgc3RhdGUgdXBkYXRlIGZ1bmN0aW9uIHJldHVybmVkIGZyb20gdGhlIHVzZVN0YXRlIGhvb2sgYXJlXG4gKiByZXF1aXJlZC4gSWYgeW91IGFyZSBjYWxsaW5nIEZvcm0gY29tcG9uZW50IGZyb20gYSBjbGFzcyBjb21wb25lbnQgdGhlbiB5b3UgbXVzdCBcbiAqIHBhc3MgeW91ciBsb2NhbCBjb250ZXh0IG9yIGB0aGlzYCBrZXl3b3JkIHRvXG4gKiB0aGUgYGNvbnRleHRgIHByb3AuXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElGb3JtfVxuICpcbiAqIEFuIGV4YW1wbGUgdXNpbmcgKlJCRiogRm9ybSBjb21wb25lbnQgaW4gYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gTWluaW1hbCBzZXR1cCBmb3IgYSBSQkYncyBGb3JtIGNvbXBvbmVudFxuICpcbiAqICBjb25zdCBteVN0YXRlID0ge1xuICogICAgICB1c2VybmFtZTogJycsXG4gKiAgfVxuICogIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoc3RhdGUpO1xuICogIDxGb3JtIHN0YXRlPXtteVN0YXRlfSBjb250ZXh0PXtzZXRTdGF0ZX0+PC9Gb3JtPlxuICogYGBgXG4gKlxuICogVG8gdXNlICpSQkYqIEZvcm0gY29tcG9uZW50IGZyb20gYSBjbGFzcyBjb21wb25lbnQgeW91IG11c3QgcGFzcyBpbiB5b3VyXG4gKiBsb2NhbCBzdGF0ZSBvZiBgdGhpc2Aga2V5d29yZC5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vIE1pbmltYWwgc2V0dXAgZm9yIGEgUkJGJ3MgRm9ybSBjb21wb25lbnQgZm9yIGEgY2xhc3MgY29tcG9uZW50XG4gKlxuICogIHRoaXMuc3RhdGUgPSB7IC8vIGluIHRoZSBjb25zdHJ1Y3RvclxuICogICAgICB1c2VybmFtZTogJycsXG4gKiAgfVxuICpcbiAqICA8Rm9ybSBzdGF0ZT17dGhpcy5zdGF0ZX0gY29udGV4dD17dGhpc30+PC9Gb3JtPlxuICogYGBgXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IEZvcm0gPSAocHJvcHM6IElGb3JtKSA9PiB7XG4gICAgY29uc3QgW3BhcmVudFN0YXRlLCBzZXRQYXJlbnRTdGF0ZV0gPSB1c2VTdGF0ZShwcm9wcy5zdGF0ZSk7XG4gICAgY29uc3QgW2NvbnRleHQsIF9dID0gdXNlU3RhdGUocHJvdmlkZXJDb250ZXh0KTtcbiAgICBjb25zdCBbaW5wdXRTdGF0ZSwgdXBkYXRlSW5wdXRTdGF0ZV0gPSB1c2VTdGF0ZShJTlBVVFNfU1RBVEUpO1xuICAgIGNvbnN0IFtjaGVja2JveGVzU3RhdGUsIHVwZGF0ZUNoZWNrYm94ZXNTdGF0ZV0gPSB1c2VTdGF0ZShDSEVDS0JPWEVTX1NUQVRFKTtcbiAgICBjb25zdCBbZmlsZVN0YXRlLCB1cGRhdGVGaWxlU3RhdGVdID0gdXNlU3RhdGUoRklMRVNfU1RBVEUpO1xuICAgIGNvbnN0IFtyYWRpb1N0YXRlLCB1cGRhdGVSYWRpb1N0YXRlXSA9IHVzZVN0YXRlKFJBRElPX0dST1VQU19TVEFURSk7XG4gICAgLy8gSWYgdGhlIHBhcmVudE5hbWUgY29tcG9uZW50IGlzIGEgY2xhc3MgY29tcG9uZW50LCB0aGVuIHRoZSBzdGF0ZSBuZWVkcyB0byBiZSB1cGRhdGVkIGZyb20gdGhlIHBhcmVudE5hbWUgY29udGV4dFxuICAgIC8vIEZ1bmN0aW9ucyBjb21wb25lbnQgbXVzdCB1c2UgdXNlU3RhdGUgaG9vay4gU2VlIGh0dHBzOi8vam9lZ2FzZXdpY3ouZ2l0aHViLmlvL3JlYWN0LWJhcmUtZm9ybXMvbW9kdWxlcy9fZm9ybV8uaHRtbFxuICAgIGlmKHByb3BzLmNvbnRleHQgJiYgXCJzZXRTdGF0ZVwiIGluIHByb3BzLmNvbnRleHQpIHtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIHByb3BzLmNvbnRleHQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIFtwYXJlbnRTdGF0ZV0pO1xuICAgIH0gZWxzZSBpZiAocHJvcHMuY29udGV4dCkge1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMuY29udGV4dCh7XG4gICAgICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW3BhcmVudFN0YXRlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IF9GaWVsZEVtcHR5RXJyb3JNc2coX25vQ29udGV4dEVycm9yKTtcbiAgICB9XG4gICAgLy8gU3RhdGUgSG9va3NcbiAgICBjb25zdCBfcHJvdmlkZXJDb250ZXh0OiBJRm9ybUNvbnRleHQgPSB7XG4gICAgICAgIGJhcmU6IHByb3BzLmJhcmUgfHwgY29udGV4dC5iYXJlLFxuICAgICAgICBzdGF0ZTogcHJvcHMuc3RhdGUsXG4gICAgICAgIGZvcm1LZXk6IHByb3BzLmZvcm1LZXksXG4gICAgICAgIGRlYnVnOiBwcm9wcy5kZWJ1ZyB8fCBjb250ZXh0LmRlYnVnLFxuICAgICAgICBkeW5hbWljOiBwcm9wcy5keW5hbWljIHx8IGNvbnRleHQuZHluYW1pYyxcbiAgICAgICAgdXBkYXRlUGFyZW50U3RhdGU6IHVwZGF0ZVBhcmVudFN0YXRlKHBhcmVudFN0YXRlLCBzZXRQYXJlbnRTdGF0ZSwgcHJvcHMuZm9ybUtleSksXG4gICAgICAgIHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQ6IHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQocGFyZW50U3RhdGUsIHNldFBhcmVudFN0YXRlLCBwcm9wcy5mb3JtS2V5KSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIFtNRVRBREFUQV9OQU1FUy5JTlBVVFNdOiBuZXcgTWV0YWRhdGE8SUlucHV0RmllbGRNZXRhZGF0YT4oXG4gICAgICAgICAgICAgICAgaW5wdXRTdGF0ZSBhcyB7fSxcbiAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dFN0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLklOUFVUUyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBbTUVUQURBVEFfTkFNRVMuQ0hFQ0tCT1hFU106IG5ldyBNZXRhZGF0YTxJQ2hlY2tCb3hlc01ldGFkYXRhPihcbiAgICAgICAgICAgICAgICBjaGVja2JveGVzU3RhdGUgYXMge30sXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hlY2tib3hlc1N0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLkNIRUNLQk9YRVMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgW01FVEFEQVRBX05BTUVTLkZJTEVTXTogbmV3IE1ldGFkYXRhRmlsZTxJRmlsZU1ldGFEYXRhPihcbiAgICAgICAgICAgICAgICBmaWxlU3RhdGUgYXMge30sXG4gICAgICAgICAgICAgICAgdXBkYXRlRmlsZVN0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLkZJTEVTLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFtNRVRBREFUQV9OQU1FUy5SQURJT19HUk9VUFNdOiBuZXcgTWV0YWRhdGFHcm91cDxJUmFkaW9Hcm91cENoaWxkcmVuPihcbiAgICAgICAgICAgICAgICByYWRpb1N0YXRlIGFzIGFueSxcbiAgICAgICAgICAgICAgICB1cGRhdGVSYWRpb1N0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLlJBRElPX0dST1VQUyxcbiAgICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybVByb3ZpZGVyIHZhbHVlPXtfcHJvdmlkZXJDb250ZXh0fT5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQocHJvcHMpfT57cHJvcHMuY2hpbGRyZW59PC9mb3JtPlxuICAgICAgICA8L0Zvcm1Qcm92aWRlcj5cbiAgICApO1xufTtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgUmVhY3RFbGVtZW50LCB1c2VDb250ZXh0LCB1c2VFZmZlY3R9IGZyb20gXCJyZWFjdFwiO1xuXG5cbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZCwgSUZpZWxkQmFzZX0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBGb3JtRWxlbWVudFZhbGlkYXRvcnMsXG4gICAgZ2V0RmllbGRWYWx1ZVR5cGUsXG4gICAgZ2V0TWV0YWRhdGFOYW1lVHlwZSxcbn0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7XG4gICAgRm9ybUNvbnRleHQsXG4gICAgSUZvcm1Db250ZXh0LCBUeXBlRmllbGRWYWx1ZVR5cGVzLFxuICAgIFR5cGVGb3JtTWV0YWRhdGEsXG59IGZyb20gXCIuLi9mb3JtXCI7XG5cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBjaGlsZCBjbGFzcyBJbnB1dEZpZWxkIGNsYXNzIGhhcyBhICpmaWxlKiBtZW1iZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQWJzdHJhY3RGaWVsZDxUPiB7XG4gICAgY3JlYXRlOiAoY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiBSZWFjdEVsZW1lbnQ8VD47XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHByb3BzOiBUO1xuICAgIG1ldGFkYXRhOiBUeXBlRm9ybU1ldGFkYXRhO1xuICAgIGJhcmU6IGJvb2xlYW47XG4gICAgb3ZlcnJpZGVFdmVudDogKGU6IGFueSwgdmFsdWU6IGFueSkgPT4gUmVhY3QuQ2hhbmdlRXZlbnQ8YW55PjtcbiAgICBnZXRGaWVsZFZhbHVlOiAocHJvcHM6IGFueSkgPT4gYW55XG4gICAgdmFsaWRhdGU/OiAoKSA9PiBBcnJheTxJVmFsaWRhdGlvbj47XG4gICAgZG9WYWxpZGF0aW9uOiAodmFsdWU6IGFueSkgPT4gQXJyYXk8SVZhbGlkYXRpb24+O1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gX2dlbmVyaWNGb3JtR3JvdXA8VCBleHRlbmRzIElGaWVsZEJhc2U+KHByb3BzOiBULCBjaGlsZHJlbjogYW55KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICB7cHJvcHMubGFiZWx0ZXh0ICYmIDxsYWJlbD57cHJvcHMubGFiZWx0ZXh0fTwvbGFiZWw+fVxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAge3Byb3BzLmhpbnQgJiYgPHNtYWxsIGNsYXNzTmFtZT1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+e3Byb3BzLmhpbnR9PC9zbWFsbD59XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEZpZWxkPFQgZXh0ZW5kcyBJRmllbGRCYXNlPiB7XG4gICAgcHVibGljIHR5cGU6IEZJRUxEX05BTUVTO1xuICAgIHB1YmxpYyBwcm9wczogVDtcbiAgICBwdWJsaWMgcGFyZW50Pzogc3RyaW5nO1xuICAgIHB1YmxpYyBfbWV0YWRhdGE/OiBUeXBlRm9ybU1ldGFkYXRhO1xuICAgIHB1YmxpYyBfYmFyZT86IGJvb2xlYW47XG4gICAgcHVibGljIGNvbnRleHQ/OiBJRm9ybUNvbnRleHQ7XG4gICAgcHJpdmF0ZSBfcGFyZW50TmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBnZXQgcGFyZW50TmFtZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50TmFtZTtcbiAgICB9XG4gICAgcHVibGljIHNldCBwYXJlbnROYW1lKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50TmFtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihwcm9wczogVCwgdHlwZTogRklFTERfTkFNRVMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBnZXQgYmFyZSgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fYmFyZSk7XG4gICAgfVxuXG4gICAgc2V0IGJhcmUodmFsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2JhcmUgPSB2YWw7XG4gICAgfVxuXG4gICAgZ2V0IG1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX21ldGFkYXRhIGFzIFR5cGVGb3JtTWV0YWRhdGEpO1xuICAgIH1cblxuICAgIHNldCBtZXRhZGF0YSh2YWw6IFR5cGVGb3JtTWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSB2YWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB1c2VDb250ZXh0PElGb3JtQ29udGV4dD4oRm9ybUNvbnRleHQpO1xuICAgICAgICAvLyB0aGlzLnN0YXRlRnJvbUZvcm1LZXkgPVxuICAgICAgICB0aGlzLm1ldGFkYXRhID0gdGhpcy5jb250ZXh0Lm1ldGFkYXRhW2dldE1ldGFkYXRhTmFtZVR5cGUodGhpcy50eXBlKV07XG4gICAgICAgIHRoaXMubWV0YWRhdGEuaW5pdCh0aGlzLnByb3BzLm5hbWUsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuYmFyZSA9IEJvb2xlYW4odGhpcy5jb250ZXh0LmJhcmUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRQcm9wcygpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUZpZWxkKGZpZWxkQ2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbnN0IF92YWxpZGF0ZSA9IHRoaXMucHJvcHMudmFsaWRhdG9ycyB8fCB0aGlzLnBhcmVudE5hbWUgP1xuICAgICAgICAgICAgPEZvcm1FbGVtZW50VmFsaWRhdG9yc1xuICAgICAgICAgICAgICAgIGlzVG91Y2hlZD17dGhpcy5tZXRhZGF0YS5pc0ZpZWxkVG91Y2hlZCgpfVxuICAgICAgICAgICAgICAgIHJlc3VsdHM9e3RoaXMudmFsaWRhdGUoKX1cbiAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgdHlwZT17Z2V0TWV0YWRhdGFOYW1lVHlwZSh0aGlzLnR5cGUpfVxuICAgICAgICAgICAgICAgIHBhcmVudD17dGhpcy5wYXJlbnR9XG4gICAgICAgICAgICAvPiA6XG4gICAgICAgICAgICBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLmJhcmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoPD57ZmllbGRDYWxsYmFjayh0aGlzLm1ldGFkYXRhLnN0YXRlKX17X3ZhbGlkYXRlfTwvPik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKDw+e3RoaXMuZm9ybUdyb3VwKGZpZWxkQ2FsbGJhY2sodGhpcy5tZXRhZGF0YS5zdGF0ZSkpfXtfdmFsaWRhdGV9PC8+KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgcHVibGljIGRvVmFsaWRhdGlvbih2YWx1ZTogYW55KTogQXJyYXk8SVZhbGlkYXRpb24+IHtcbiAgICAgICBsZXQgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+ID0gW107XG4gICAgICAgLy8gQ2Fycnkgb3V0IHRoZSB2YWxpZGF0aW9uXG4gICAgICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdG9ycykge1xuICAgICAgICAgICBmb3IobGV0IHZhbGlkYXRlIG9mIHRoaXMucHJvcHMudmFsaWRhdG9ycykge1xuICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IFtcbiAgICAgICAgICAgICAgICAgICAuLi52YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKHZhbHVlLCB0aGlzLmNvbnRleHQpLFxuICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cblxuICAgICAgIHJldHVybiB2YWxpZGF0aW9uO1xuICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQGRlc2NyaXB0aW9uIE5vcm1hbGx5LCB0aGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBmcm9tIHRoaXMgc3VwZXIgY2xhc3MuIEJ1dCBpdCBpcyBwdWJsaWMgYXNcbiAgICAgKiB0aGVyZSBhcmUgc29tZSBlZGdlIGNhc2VzIHdoZXJlIGl0IG5lZWRzIHRvIGJlIGNhbGxlZCBieSBhIGNoaWxkIGNsYXNzIHRoYXQgZXh0ZW5kcyBBYnN0cmFjdEZpZWxkLlxuICAgICAqL1xuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiBBcnJheTxJVmFsaWRhdGlvbj4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEZpZWxkVmFsdWUodGhpcy5wcm9wcyk7XG4gICAgICAgIC8vIENhcnJ5IG91dCB0aGUgdmFsaWRhdGlvblxuICAgICAgICBsZXQgdmFsaWRhdGlvbiA9IHRoaXMuZG9WYWxpZGF0aW9uKHZhbHVlKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtZXRhZGF0YSB0eXBlIHN0YXRlXG4gICAgICAgIHRoaXMubWV0YWRhdGEudXBkYXRlKHZhbHVlLCB2YWxpZGF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmFkaW9GaWVsZCBzdWIgY2xhc3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShwcm9wczogVCk6IGFueSB7XG4gICAgICAgIGxldCB0eXBlID0gZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy50eXBlKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLnByb3BzIGFzIFQgJiBUeXBlRmllbGRWYWx1ZVR5cGVzKVt0eXBlIGFzIGFueV07XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3RFbGVtZW50O1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEZpZWxkKCk6IChjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IFJlYWN0RWxlbWVudDtcblxuICAgIHN0YXRpYyBtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGNzc1Byb3BzOiBhbnksIGJhcmU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICBsZXQgY3NzU3RyID0gXCJcIjtcbiAgICAgICAgaWYgKCFiYXJlKSB7XG4gICAgICAgICAgICBjc3NTdHIgKz0gYCR7ZGVmYXVsdFZhbHVlfSBgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjc3NQcm9wcykge1xuICAgICAgICAgICAgY3NzU3RyICs9IGAke2Nzc1Byb3BzfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNzc1N0cjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3ZlcnJpZGVFdmVudChlOiBhbnksIHZhbHVlOiBhbnkpOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAuLi5lLnRhcmdldCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogIXZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQ/LmZvcm1LZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3RhdGVbdGhpcy5jb250ZXh0LmZvcm1LZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LnN0YXRlO1xuICAgIH1cblxufVxuIiwiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUFJJVkFURSBTRVJWSUNFIENMQVNTRVMgVE8gQ1JFQVRFIE1FVEFEQVRBIE9CSkVDVFNcbi8vICAxLiBBYnN0cmFjdE1ldGFkYXRhXG4vLyAgMi4gTWV0YWRhdGFcbi8vICAzLiBNZXRhZGF0YUdyb3VwXG4vL1xuLy8gIElNUE9SVEFOVDogT2JqZWN0cyB0aGF0IGltcGxlbWVudCBBYnN0cmFjdE1ldGFkYXRhIERPIE5PVCBjYXJlIGFib3V0IHRoZSBJRm9ybUNvbnRleHQuXG4vLyAgSU1QT1JUQU5UOiBNZXRhZGF0YSBvYmplY3RzIG9ubHkgY2FyZSBhYm91dCB0aGVpciBvd24gSU1ldGFkYXRhIHN0YXRlIHR5cGUgKHNlZSBNRVRBREFUQV9OQU1FUykuXG4vLyAgSU1QT1JUQU5UOiBDaGlsZHJlbiBvYmplY3RzIG9mIE1ldGFkYXRhR3JvdXAgY2FyZSBhYm91dCB0aGVpciBwYXJlbnROYW1lICYgdGhlaXIgb3duIHN0YXRlIHR5cGUgb25seS5cbmltcG9ydCB7TUVUQURBVEFfTkFNRVN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtGSUVMRF9OQU1FU30gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgaW50ZXJmYWNlIElNZXRhZGF0YTxUPiB7XG4gICAgc3RhdGU6IHtbazogc3RyaW5nXTogVH07XG4gICAgcmVhZG9ubHkgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uO1xuICAgIHJlYWRvbmx5IG1ldGFUeXBlOiBzdHJpbmc7XG4gICAgZmllbGRUeXBlOiBGSUVMRF9OQU1FUztcbiAgICBwYXJlbnROYW1lPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICBkZWZhdWx0U3RhdGU6IHt9O1xuICAgIGluaXQ6IChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpID0+IHZvaWQ7XG4gICAgdXBkYXRlOiAocHJvcHM6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KSA9PiB2b2lkO1xufVxuXG4vKiogQGludGVybmFsICoqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TWV0YWRhdGE8VD4gaW1wbGVtZW50cyBJTWV0YWRhdGE8VD4ge1xuICAgIHB1YmxpYyBzdGF0ZToge1trOiBzdHJpbmddOiBUfTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyByZWFkb25seSBtZXRhVHlwZTogTUVUQURBVEFfTkFNRVM7XG4gICAgcHVibGljIHBhcmVudE5hbWU/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZmllbGRUeXBlPzogRklFTERfTkFNRVM7XG4gICAgcHJpdmF0ZSBfbmFtZT86IHN0cmluZztcbiAgICBwdWJsaWMgYWJzdHJhY3QgZGVmYXVsdFN0YXRlOiBUO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIG1ldGFUeXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSB1cGRhdGVTdGF0ZTtcbiAgICAgICAgdGhpcy5tZXRhVHlwZSA9IG1ldGFUeXBlO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZSBhcyBzdHJpbmc7XG4gICAgfVxuXG4gICAgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbDtcbiAgICB9XG5cbiAgICBnZXQgZmllbGRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmllbGRUeXBlIGFzIGFueTtcbiAgICB9XG5cbiAgICBzZXQgZmllbGRUeXBlKHZhbDogRklFTERfTkFNRVMpIHtcbiAgICAgICAgdGhpcy5fZmllbGRUeXBlID0gdmFsO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGluaXQobmFtZTogc3RyaW5nLCBmaWVsZFR5cGU6IEZJRUxEX05BTUVTKTogdm9pZFxuXG4gICAgYWJzdHJhY3QgdXBkYXRlKHByb3BzOiBhbnksIHZhbGlkYXRpb246IEFycmF5PElWYWxpZGF0aW9uPik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgaXNGaWVsZFRvdWNoZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdGVbdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlW3RoaXMubmFtZV0gYXMgYW55KS5pc1RvdWNoZWQgYXMgYm9vbGVhbiAvLyBUT0RPIGZpeCB0eXBlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuIiwiLy8gRVJST1JTICYgRVhDRVBUSU9OIE1FU1NBR0VTXG4vL1xuLy8gVGhlIGJlbG93IGZ1bmN0aW9ucyBhcmUgb25seSBkZXNpZ25lZCB0byBjb25zdHJ1Y3QgRXJyb3IgJiBFeGNlcHRpb25zIG1lc3NhZ2VzLlxuLy8gVGhpcyBtYWtlcyBpdCBtdWNoIHNpbXBsZXIgdG8gdGVzdCwgd2hpbGUgbGVhdmluZyB0aGUgb3B0aW9uIHRvIHRocm93IGVpdGhlclxuLy8gYW4gRXJyb3Igb3IgYW4gRXhjZXB0aW9uIHRvIHRoZSBjYWxsZXIuXG5cblxuLyoqXG4gKlxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBuYW1lXG4gKiBAcGFyYW0gbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF90aHJvd05ld0Vycm9yTXNnID0gKHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICBgUmVhY3QgQmFyZSBGb3JtcyBFUlJPUjpcXG5cXHQke3R5cGV9IC0gJHtuYW1lfVxcblxcdC0gJHttZXNzYWdlfWA7XG5cblxuZXhwb3J0IGNvbnN0IF9pc0ZpZWxkRW1wdHlFcnJvck1zZyA9IF90aHJvd05ld0Vycm9yTXNnKFxuICAgIFwiRnVuY3Rpb25cIixcbiAgICBcImlzRmllbGRFbXB0eSgpXCIsXG4gICAgXCJNaXNzaW5nIGFyZ3VtZW50OiBtaW5MZW5ndGggKG51bWJlcilcIlxuKTtcblxuZXhwb3J0IGNsYXNzIF9GaWVsZEVtcHR5RXJyb3JNc2cgZXh0ZW5kcyBFcnJvciB7IH1cblxuZXhwb3J0IGNvbnN0IF9ub0NvbnRleHRFcnJvciA9IF90aHJvd05ld0Vycm9yTXNnKFxuICAgIFwiUmVxdWlyZWQgUHJvcHNcIixcbiAgICBcImNvbnRleHRcIixcbiAgICBcIllvdSBtdXN0IHBhc3MgaW4gYSBjb250ZXh0IHByb3AuIENsYXNzIGNvbXBvbmVudHMgdXNlICdzdGF0ZScgXCIgK1xuICAgIFwiJiBmdW5jdGlvbmFsIGNvbXBvbmVudHMgbXVzdCB1c2UgdXNlU3RhdGUgaG9vay4gU2VlIGh0dHBzOi8vam9lZ2FzZXdpY3ouZ2l0aHViLmlvL3JlYWN0LWJhcmUtZm9ybXMvbW9kdWxlcy9fZm9ybV8uaHRtbFwiXG4pO1xuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQdWJsaWMgdW5jb250cm9sbGVkIFJlYWN0IENvbXBvbmVudCBIZWxwZXIgZnVuY3Rpb25zXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0lGaWxlfSBmcm9tIFwiLi9jb3JlXCI7XG5cbi8qKlxuICogUkJGJ3MgcHJvdmlkZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBSZWFjdCByZWYgdG8gYWNjZXNzIHlvdXIgZmlsZSBvYmplY3QuXG4gKiBUbyB1c2UsIHNpbXBseSBhc3NpZ24gdGhlIHJldHVybmVkIHJlZiBmcm9tIHRoZSBjcmVhdGVGaWxlUmVmIGZ1bmN0aW9uIHRvIGFcbiAqIHZhcmlhYmxlICYgcGFzcyB0aGlzIHZhcmlhYmxlIHRvIEZpbGVGaWVsZCdzIHJlZiBwcm9wLlxuICogQHJldHVybnNcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiAgaW1wb3J0IHtjcmVhdGVGaWxlUmVmLCBGaWxlRmllbGQsIGlzRmlsZSwgZ2V0RmlsZUZyb21SZWZ9IGZyb20gXCJyZWFjdC1iYXJlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IG15RmlsZVJlZiA9IGNyZWF0ZUZpbGVSZWYoKTtcbiAqXG4gKiAgPEZpbGVGaWVsZFxuICogICAgIHJlZj17bXlGaWxlUmVmfVxuICogICAgIGhpbnQ9XCJNdXN0IGJlIGEgZmlsZVwiXG4gKiAgICAgbGFiZWx0ZXh0PVwiVXBsb2FkIHlvdXIgZmlsZVwiXG4gKiAgICAgbmFtZT1cIm15RmlsZVRlc3RcIlxuICogICAgIHZhbGlkYXRvcnM9e1tpc0ZpbGUoKV19XG4gKiAgLz5cbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVSZWYoKTogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD4ge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVSZWY8SFRNTEZvcm1FbGVtZW50PigpO1xufVxuXG4vKipcbiAqIFRvIGdldCBhIGZpbGUgb2JqZWN0IGJhY2sgZnJvbSB0aGUgcmVhY3QgcmVmLCB5b3UgY2FuIHVzZSBgZ2V0RmlsZUZyb21SZWZgIGZ1bmN0aW9uLlxuICogQHBhcmFtcyBUaGUgUmVhY3QgcmVmIHJldHVybmVkIGZyb20ge0BsaW5rIGNyZWF0ZUZpbGVSZWZ9XG4gKiBAcmV0dXJuc1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqICBpbXBvcnQge2NyZWF0ZUZpbGVSZWYsIEZpbGVGaWVsZCwgaXNGaWxlLCBnZXRGaWxlRnJvbVJlZn0gZnJvbSBcInJlYWN0LWJhcmUtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3QgbXlGaWxlUmVmID0gY3JlYXRlRmlsZVJlZigpO1xuICpcbiAqICA8RmlsZUZpZWxkXG4gKiAgICAgcmVmPXtteUZpbGVSZWZ9XG4gKiAgICAgaGludD1cIk11c3QgYmUgYSBmaWxlXCJcbiAqICAgICBsYWJlbHJleHQ9XCJVcGxvYWQgeW91ciBmaWxlXCJcbiAqICAgICBuYW1lPVwibXlGaWxlVGVzdFwiXG4gKiAgICAgdmFsaWRhdG9ycz17W2lzRmlsZSgpXX1cbiAqICAvPlxuICpcbiAqICBsZXQgZmlsZURhdGEgPSB7XG4gKiAgICAgIG15RmlsZTogZ2V0RmlsZUZyb21SZWYobXlGaWxlUmVmKVxuICogIH07XG4gKlxuICogIC8vIGZpbGVEYXRhLm15RmlsZSBpcyB5b3VyIEphdmFzY3JpcHQgRmlsZSBvYmplY3QuXG4gKlxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRnJvbVJlZihmaWxlUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50Pik6IElGaWxlfG51bGwge1xuICAgIGlmKGZpbGVSZWYgJiYgKGZpbGVSZWYgYXMgYW55KS5jdXJyZW50ICYmIE9iamVjdC5rZXlzKChmaWxlUmVmIGFzIGFueSkuY3VycmVudC5maWxlcykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAoZmlsZVJlZiBhcyBhbnkpLmN1cnJlbnQuZmlsZXNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtJVmFsaWRhdG9yc30gZnJvbSBcIi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBJRm9ybSxcbiAgICBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQsXG4gICAgUmFkaW9Hcm91cENvbnRleHQsXG4gICAgVHlwZVJhZGlvR3JvdXBNZXRhZGF0YSxcbn0gZnJvbSBcIi4vZm9ybVwiO1xuaW1wb3J0IHtTdWJtaXRCdXR0b24gYXMgX1N1Ym1pdEJ1dHRvbix9IGZyb20gXCIuL2ZpZWxkX2NsYXNzZXMvX1N1Ym1pdEJ1dHRvblwiO1xuaW1wb3J0IHtcbiAgICBDaGVja0JveEZpZWxkIGFzIF9DaGVja0JveEZpZWxkLFxuICAgIEZpbGVGaWVsZCBhcyBfRmlsZUZpZWxkLFxuICAgIElucHV0RmllbGQsXG4gICAgUmFkaW9GaWVsZCBhcyBfUmFkaW9GaWVsZCxcbiAgICBTZWxlY3RGaWVsZCBhcyBfU2VsZWN0RmllbGQsXG4gICAgVGV4dEFyZWFGaWVsZCBhcyBfVGV4dEFyZWFGaWVsZCxcbn0gZnJvbSBcIi4vZmllbGRfY2xhc3Nlc1wiO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZW51bSBGSUVMRF9OQU1FUyB7XG4gICAgVEVYVCA9IFwidGV4dFwiLFxuICAgIEVNQUlMID0gXCJlbWFpbFwiLFxuICAgIFBBU1NXT1JEID0gXCJwYXNzd29yZFwiLFxuICAgIFRFWFRBUkVBID0gXCJ0ZXh0QXJlYVwiLFxuICAgIFJBRElPICA9IFwicmFkaW9cIixcbiAgICBDSEVDS0JPWCA9IFwiY2hlY2tib3hcIixcbiAgICBTRUxFQ1QgPSBcInNlbGVjdFwiLFxuICAgIEZJTEUgPSBcImZpbGVcIixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmllbGRCYXNlIHtcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIGZvcm0gZWxlbWVudCAodGhpcyBzaG91bGQgbWF0Y2ggdGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgeW91IHdhbnQgYmUgdXBkYXRlZCBieSB0aGlzIGZvcm0gZWxlbWVudCkgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgLyoqIElmICpiYXJlKiAoc2VlIHtAbGluayBJRm9ybS5iYXJlfSkgaXMgc2V0IHRvIHRydWUgdGhlbiAqbGFiZWx0ZXh0KiB3aWxsIGJlIGluc2VydGVkIHdpdGhpbiAqKmxhYmVsKiogdGFncy4gKi9cbiAgICBsYWJlbHRleHQ/OiBzdHJpbmc7XG4gICAgLyoqIElmICpiYXJlKiAoc2VlIHtAbGluayBGb3JtLmJhcmV9KSBpcyBzZXQgdG8gdHJ1ZSB0aGVuICpoaW50KiB3aWxsIGJlIGluc2VydGVkIHdpdGhpbiAqKnNtYWxsKiogdGFncy4gKi9cbiAgICBoaW50Pzogc3RyaW5nO1xuICAgIC8qKiBUaGVzZSBhcmUgdGhlIHtAbGluayBJVmFsaWRhdG9yc30gdGhhdCB5b3UgY2FuIHBhc3MgaW4gdGhlIHZhbGlkYXRlIHRoZSBmb3JtIGVsZW1lbnQuICovXG4gICAgdmFsaWRhdG9ycz86IElWYWxpZGF0b3JzO1xuICAgIC8qKiBBZGQgYWRkaXRpb25hbCBjc3MgKi9cbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpZWxkPFQ+IGV4dGVuZHMgUmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxUPiB7XG4gICAgLyoqIFRoZSBuYW1lIG9mIHRoZSBmb3JtIGVsZW1lbnQgKHRoaXMgc2hvdWxkIG1hdGNoIHRoZSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IHlvdSB3YW50IGJlIHVwZGF0ZWQgYnkgdGhpcyBmb3JtIGVsZW1lbnQpICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiBJZiAqYmFyZSogKHNlZSB7QGxpbmsgSUZvcm0uYmFyZX0pIGlzIHNldCB0byB0cnVlIHRoZW4gKmxhYmVsdGV4dCogd2lsbCBiZSBpbnNlcnRlZCB3aXRoaW4gKipsYWJlbCoqIHRhZ3MuICovXG4gICAgbGFiZWx0ZXh0Pzogc3RyaW5nO1xuICAgIC8qKiBJZiAqYmFyZSogKHNlZSB7QGxpbmsgRm9ybS5iYXJlfSkgaXMgc2V0IHRvIHRydWUgdGhlbiAqaGludCogd2lsbCBiZSBpbnNlcnRlZCB3aXRoaW4gKipzbWFsbCoqIHRhZ3MuICovXG4gICAgaGludD86IHN0cmluZztcbiAgICAvKiogVGhlc2UgYXJlIHRoZSB7QGxpbmsgSVZhbGlkYXRvcnN9IHRoYXQgeW91IGNhbiBwYXNzIGluIHRoZSB2YWxpZGF0ZSB0aGUgZm9ybSBlbGVtZW50LiAqL1xuICAgIHZhbGlkYXRvcnM/OiBJVmFsaWRhdG9ycztcbiAgICAvKiogQWRkIGFkZGl0aW9uYWwgY3NzICovXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUZXh0SW5wdXRGaWVsZCBleHRlbmRzIElGaWVsZDxIVE1MSW5wdXRFbGVtZW50PiB7XG4gICAgLyoqIFRoZSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IGdldHMgdXBkYXRlZCBieSB0aGlzIGlucHV0IGZpZWxkICovXG4gICAgdmFsdWU6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGFzc3dvcmRGaWVsZCBleHRlbmRzIElGaWVsZDxIVE1MSW5wdXRFbGVtZW50PiB7XG4gICAgLyoqIFRoZSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IGdldHMgdXBkYXRlZCBieSB0aGlzIGlucHV0IGZpZWxkICovXG4gICAgdmFsdWU6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW1haWxGaWVsZCBleHRlbmRzIElGaWVsZDxIVE1MSW5wdXRFbGVtZW50PiB7XG4gICAgLyoqIFRoZSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IGdldHMgdXBkYXRlZCBieSB0aGlzIGlucHV0IGZpZWxkICovXG4gICAgdmFsdWU6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2hlY2tCb3hGaWVsZCBleHRlbmRzIElGaWVsZDxIVE1MSW5wdXRFbGVtZW50PiB7XG4gICAgY2hlY2tlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVGV4dEFyZWFGaWVsZCBleHRlbmRzIElGaWVsZDxIVE1MVGV4dEFyZWFFbGVtZW50PiB7XG4gICAgcm93cz86IG51bWJlcjtcbiAgICAvKiogVGhlIHN0YXRlIHByb3BlcnR5IHRoYXQgZ2V0cyB1cGRhdGVkIGJ5IHRoaXMgaW5wdXQgZmllbGQgKi9cbiAgICB2YWx1ZTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSYWRpb0ZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICBjaGVja2VkOiBib29sZWFuO1xuICAgIGRpc2FibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZUZpZWxkIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICByZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRm9ybUVsZW1lbnQ+O1xufVxuXG5leHBvcnQgdHlwZSBUeXBlU2VsZWN0Q3NzU2l6ZU5hbWUgPSB8XCJzbVwifFwiZGVmYXVsdFwifFwibGdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJU2VsZWN0RmllbGQgZXh0ZW5kcyBPbWl0PElGaWVsZDxIVE1MU2VsZWN0RWxlbWVudD4sIFwic2l6ZVwiPiB7XG4gICAgdmFsdWU6IGFueTtcbiAgICBvcHRpb25zOiBBcnJheTxzdHJpbmd8e1trOiBzdHJpbmddOiBhbnl9PjtcbiAgICBzaXplPzogVHlwZVNlbGVjdENzc1NpemVOYW1lO1xuICAgIG9iamVjdGtleT86IHN0cmluZztcbiAgICBvYmplY3R2YWx1ZT86IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJVGV4dElucHV0RmllbGR9XG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHtUZXh0SW5wdXRGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgdXNlcm5hbWU6IFwiXCIgfVxuICpcbiAqIC8vIEEgYmFyZSBmb3JtIGV4YW1wbGUgLi4uIHJlbWVtYmVyIHRvIHNldCB0aGUge0BsaW5rIEZvcm0uYmFyZX0gcHJvcGVydHkgdG8gYHRydWVgXG4gKiA8VGV4dElucHV0RmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS51c2VybmFtZX1cbiAqICAgIG5hbWU9XCJ1c2VybmFtZVwiXG4gKiAvPlxuICpcbiAqIC8vIEV4YW1wbGUgd2l0aCBCb290c3RyYXAgc3R5bGluZyAoQm9vdHN0cmFwIHN0eWxpbmcgY29tZXMgYXMgZGVmYXVsdClcbiAqXG4gKiA8VGV4dElucHV0RmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS51c2VybmFtZX1cbiAqICAgIG5hbWU9XCJ1c2VybmFtZVwiXG4gKiAgICBoaW50PVwiTmVlZHMgdG8gYmUgYXQgbGVhc3QgNTAgY2hhcmFjdGVycyBsb25nXCJcbiAqICAgIGxhYmVsdGV4dD1cIlVzZXJuYW1lXCJcbiAqICAvPlxuICogYGBgXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRJbnB1dEZpZWxkID0gKHByb3BzOiBJVGV4dElucHV0RmllbGQpID0+IHtcbiAgY29uc3QgdGV4dElucHV0ID0gbmV3IElucHV0RmllbGQ8SVRleHRJbnB1dEZpZWxkPihGSUVMRF9OQU1FUy5URVhULCBwcm9wcyk7XG4gIHJldHVybiB0ZXh0SW5wdXQuY3JlYXRlKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSUVtYWlsRmllbGR9XG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHtFbWFpbEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBlbWFpbDogXCJcIiB9XG4gKlxuICogLy8gQSBiYXJlIGZvcm0gZXhhbXBsZSAuLi4gcmVtZW1iZXIgdG8gc2V0IHRoZSB7QGxpbmsgRm9ybS5iYXJlfSBwcm9wZXJ0eSB0byBgdHJ1ZWBcbiAqIDxFbWFpbEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUuZW1haWx9XG4gKiAgICBuYW1lPVwiZW1haWxcIlxuICogLz5cbiAqXG4gKiAvLyBFeGFtcGxlIHdpdGggQm9vdHN0cmFwIHN0eWxpbmcgKEJvb3RzdHJhcCBzdHlsaW5nIGNvbWVzIGFzIGRlZmF1bHQpXG4gKlxuICogPEVtYWlsRmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS5lbWFpbH1cbiAqICAgIG5hbWU9XCJlbWFpbFwiXG4gKiAgICBoaW50PVwiTmVlZHMgdG8gYmUgYXQgbGVhc3QgNTAgY2hhcmFjdGVycyBsb25nXCJcbiAqICAgIGxhYmVsdGV4dD1cIlVzZXJuYW1lXCJcbiAqICAvPlxuICogYGBgXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IEVtYWlsRmllbGQgPSAocHJvcHM6IElFbWFpbEZpZWxkKSA9PiB7XG4gICAgY29uc3QgZW1haWxJbnB1dCA9IG5ldyBJbnB1dEZpZWxkPElFbWFpbEZpZWxkPihGSUVMRF9OQU1FUy5FTUFJTCwgcHJvcHMpO1xuICAgIHJldHVybiBlbWFpbElucHV0LmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiAgVGhlIGBQYXNzd29yZEZpZWxkYCB3b3JrcyB0aGUgc2FtZSBhcyB0aGUgYEVtYWlsRmllbGRgICYgYFRleHRJbnB1dEZpZWxkYCdzLlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJUGFzc3dvcmRGaWVsZH1cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge2FyZUZpZWxkc0VxdWFsLCBpc0ZpZWxkRW1wdHksIFBhc3N3b3JkRmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBwYXNzd29yZDogXCJcIiwgY29uZmlybVBhc3N3b3JkOiBcIlwiIH07XG4gKlxuICogLy8gQSBiYXJlIGZvcm0gZXhhbXBsZSAuLi4gcmVtZW1iZXIgdG8gc2V0IHRoZSB7QGxpbmsgRm9ybS5iYXJlfSBwcm9wZXJ0eSB0byBgdHJ1ZWBcbiAqIDxQYXNzd29yZEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUucGFzc3dvcmR9XG4gKiAgICBuYW1lPVwidXNlcm5hbWVcIlxuICogICAgdmFsaWRhdG9ycz17W2lzRmllbGRFbXB0eSg4KV19XG4gKiAvPlxuICpcbiAqIC8vIEV4YW1wbGUgd2l0aCBCb290c3RyYXAgc3R5bGluZyAoQm9vdHN0cmFwIHN0eWxpbmcgY29tZXMgYXMgZGVmYXVsdClcbiAqXG4gKiA8UGFzc3dvcmRGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLmNvbmZpcm1QYXNzd29yZH1cbiAqICAgIG5hbWU9XCJwYXNzd29yZFwiXG4gKiAgICBoaW50PVwiTmVlZHMgdG8gYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIGxvbmdcIlxuICogICAgbGFiZWx0ZXh0PVwiUGFzc3dvcmRcIlxuICogIC8+XG4gKiAgYGBgXG4gKiBBbHNvIHdlIGNhbiBjcmVhdGUgdHdvICpQYXNzd29yZEZpZWxkKiBjb21wb25lbnRzIHRvIGNvbmZpcm0gcGFzc3dvcmRzIGFyZSBlcXVhbC4gUGxlYXNlIHNlZVxuICoge0BsaW5rIGFyZUZpZWxkc0VxdWFsfSBmb3IgbW9yZSBpbmZvLlxuICogVGhlIGZpcnN0ICpQYXNzd29yZEZpZWxkKiBoYXMgaGFzIGEgKm5hbWUqIHByb3Agb2YgKipwYXNzd29yZCoqICYgdGhlIHNlY29uZCAqUGFzc3dvcmRGaWVsZCogYSBuYW1lXG4gKiBwcm9wIG9mICpjb25maXJtUGFzc3dvcmQqLiBUaGVuIHdlIGNhbiBhZGQgYSB7QGxpbmsgYXJlRmllbGRzRXF1YWx9IHZhbGlkYXRvciB0byB0aGUgKlBhc3N3b3JkRmllbGQqXG4gKiB3aXRoIHRoZSAqY29uZmlybVBhc3N3b3JkKiBuYW1lIHByb3BzIChhbHNvIG5vdGljZSBob3cge0BsaW5rIGFyZUZpZWxkc0VxdWFsfSB0YWtlcyB0aGUgZmlyc3QgKlBhc3N3b3JkRmllbGQqXG4gKiBuYW1lIGFzIGFuIGFyZ3VtZW50KS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiA8UGFzc3dvcmRGaWVsZFxuICogIG5hbWU9XCJwYXNzd29yZFwiXG4gKiAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqXG4gKiAvPlxuICpcbiAqIDxQYXNzd29yZEZpZWxkXG4gKiAgbmFtZT1cImNvbmZpcm1QYXNzd29yZFwiXG4gKiAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICB2YWxpZGF0b3JzPXtbYXJlRmllbGRzRXF1YWwoXCJwYXNzd29yZFwiKV19XG4gKiAvPlxuICogYGBgXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBQYXNzd29yZEZpZWxkID0gKHByb3BzOiBJUGFzc3dvcmRGaWVsZCkgPT4ge1xuICBjb25zdCBwYXNzd29yZElucHV0ID0gbmV3IElucHV0RmllbGQ8SVBhc3N3b3JkRmllbGQ+KEZJRUxEX05BTUVTLlBBU1NXT1JELCBwcm9wcyk7XG4gIHJldHVybiBwYXNzd29yZElucHV0LmNyZWF0ZSgpO1xufTtcblxuXG5cbi8qKlxuICogVGhlIENoZWNrQm94RmllbGQgcmVxdWlyZXMgYSAqY2hlY2tlZCogcHJvcCBpbnN0ZWFkIG9mIGEgKnZhbHVlKiBwcm9wLiBTZWVcbiAqIHtAbGluayBJQ2hlY2tCb3hGaWVsZH0uXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAvLyBBIGJhcmUgZm9ybSBleGFtcGxlIC4uLiByZW1lbWJlciB0byBzZXQgdGhlIHtAbGluayBGb3JtLmJhcmV9IHByb3BlcnR5IHRvIGB0cnVlYFxuICogIGltcG9ydCB7Q2hlY2tCb3hGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IHBhc3N3b3JkOiBcIlwiLCBjb25maXJtUGFzc3dvcmQ6IFwiXCIgfTtcbiAqXG4gKiA8Q2hlY2tCb3hGaWVsZFxuICogICBuYW1lPVwidGVybXNcIlxuICogICBjaGVja2VkPXtzdGF0ZS50ZXJtc31cbiAqIC8+XG4gKlxuICogLy8gRXhhbXBsZSB3aXRoIEJvb3RzdHJhcCBzdHlsaW5nIChCb290c3RyYXAgc3R5bGluZyBjb21lcyBhcyBkZWZhdWx0KVxuICogPENoZWNrQm94RmllbGRcbiAqICAgbmFtZT1cInRlcm1zXCJcbiAqICAgY2hlY2tlZD17c3RhdGUudGVybXN9XG4gKiAgIGhpbnQ9XCJDbGljayB0byBhZ3JlZVwiXG4gKiAgIGxhYmVsdGV4dD1cIkFncmVlIHRvIHRlcm1zICYgY29uZGl0aW9uc1wiXG4gKiAvPlxuICogYGBgXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElDaGVja0JveEZpZWxkfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBDaGVja0JveEZpZWxkID0gKHByb3BzOiBJQ2hlY2tCb3hGaWVsZCkgPT4ge1xuICBjb25zdCBjaGVja0JveCA9IG5ldyBfQ2hlY2tCb3hGaWVsZDxJQ2hlY2tCb3hGaWVsZD4oRklFTERfTkFNRVMuQ0hFQ0tCT1gsIHByb3BzKTtcbiAgcmV0dXJuIGNoZWNrQm94LmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiBUaGUgVGV4dEFyZWFGaWVsZCB0YWtlcyBpbiBhbiBleHRyYSBwcm9wIG9mICpyb3cqIHdoaWNoIGlzIGEgbnVtYmVyICYgZGVjbGFyZXNcbiAqIHRoZSBudW1iZXIgb2Ygcm93cyBkaXNwbGF5ZWQgYnkgdGhlIHRleHRhcmVhIGVsZW1lbnQuIFRoZSBUZXh0QXJlYUZpZWxkIGFjY2VwdHNcbiAqIGFsbCB0aGUge0BsaW5rIElGaWVsZH0gcHJvcHMuXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgKiAgaW1wb3J0IHtDaGVja0JveEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgYWJvdXQ6IFwiXCIgfTtcbiAqIC8vIEEgYmFyZSBmb3JtIGV4YW1wbGUgLi4uIHJlbWVtYmVyIHRvIHNldCB0aGUge0BsaW5rIEZvcm0uYmFyZX0gcHJvcGVydHkgdG8gYHRydWVgXG4gKiA8VGV4dEFyZWFGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLmFib3V0fVxuICogICAgbmFtZT1cImFib3V0XCJcbiAqICAgIHZhbGlkYXRvcnM9e1tpc0ZpZWxkRW1wdHkoMjApXX1cbiAqIC8+XG4gKlxuICogLy8gRXhhbXBsZSB3aXRoIEJvb3RzdHJhcCBzdHlsaW5nIChCb290c3RyYXAgc3R5bGluZyBjb21lcyBhcyBkZWZhdWx0KVxuICpcbiAqIDxUZXh0QXJlYUZpZWxkXG4gKiAgICBuYW1lPVwiYWJvdXRcIlxuICogICAgdmFsdWU9e3N0YXRlLmFib3V0fVxuICogICAgaGludD1cIk11c3QgYmUgYXQgbGVhc3QgMjAgY2hhcmFjdGVyc1wiXG4gKiAgICBsYWJlbHRleHQ9XCJBYm91dCB5b3UuLi5cIlxuICogICAgdmFsaWRhdG9ycz17W2lzRmllbGRFbXB0eSgyMCldfVxuICogLz5cbiAqIGBgYFxuICogQHBhcmFtIHByb3BzIHtAbGluayBJVGV4dElucHV0RmllbGR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRBcmVhRmllbGQgPSAocHJvcHM6IElUZXh0QXJlYUZpZWxkKSA9PiB7XG4gIGNvbnN0IHRleHRBcmVhID0gbmV3IF9UZXh0QXJlYUZpZWxkPElUZXh0QXJlYUZpZWxkPihGSUVMRF9OQU1FUy5URVhUQVJFQSwgcHJvcHMpO1xuICByZXR1cm4gdGV4dEFyZWEuY3JlYXRlKCk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIElSYWRpb0dyb3VwUHJvcHMge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjaGlsZHJlbjogYW55O1xufVxuXG4vKipcbiAqIEBwcm9wcyB7QGxpbmsgSVJhZGlvR3JvdXBQcm9wc31cbiAqIEBwYXJhbSBwcm9wcyBUaGUgYFJhZGlvR3JvdXBgIGNvbXBvbmVudCB0YWtlcyBhIHNpbmdsZSBwcm9wcyBvZiBgbmFtZWAsIHdoaWNoXG4gKiBtdXN0IGJlIGEgdW5pcXVlIHRvIGEgZm9ybS4gU2VlIHtAbGluayBSYWRpb0ZpZWxkfS5cbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge0NoZWNrQm94RmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBtYWxlOiB0cnVlLCBmZW1hbGU6IGZhbHNlIH07XG4gKlxuICogIDxSYWRpb0dyb3VwIG5hbWU9XCJncm91cDFcIj5cbiAqICAgIC8vIHBsYWNlIFJhZGlvRmllbGRzIGNvbXBvbmVudHMgaGVyZS4uLlxuICogIDwvUmFkaW9Hcm91cD5cbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJhZGlvR3JvdXAocHJvcHM6IElSYWRpb0dyb3VwUHJvcHMpIHtcbiAgICBjb25zdCBjb250ZXh0VmFsdWU6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCA9IHtwYXJlbnQ6IHtuYW1lOiBwcm9wcy5uYW1lfSwgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVufTtcbiAgICByZXR1cm4gPFJhZGlvR3JvdXBDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWUgYXMgVHlwZVJhZGlvR3JvdXBNZXRhZGF0YX0+e3Byb3BzLmNoaWxkcmVufTwvUmFkaW9Hcm91cENvbnRleHQuUHJvdmlkZXI+O1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElSYWRpb0ZpZWxkfVxuICogQGNvbnN0cnVjdG9yXG4gKiBgUmFkaW9GaWVsZGAgaW5wdXRzIGFyZSBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGggdGhlIHtAbGluayBSYWRpb0dyb3VwfSBjb21wb25lbnQuXG4gKiAgVG8gdXNlIHRoaXMgY29tcG9uZW50LCBhZGQgb3IgbmVzdCBpdCB3aXRoaW4gYSB7QGxpbmsgUmFkaW9Hcm91cH0gY29tcG9uZW50IGFzIGNoaWxkcmVuLlxuICogIEl0J3MgcG9zc2libGUgdG8gYWxzbyB1c2UgdmFsaWRhdG9ycyB3aXRoIGEgUmFkaW9Hcm91cCwgYXMgc2hvd24gYmVsb3c6XG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHtpc1JhZGlvQ2hlY2tlZCwgUmFkaW9GaWVsZCwgUmFkaW9Hcm91cH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IG1hbGU6IHRydWUsIGZlbWFsZTogZmFsc2UgfTtcbiAqXG4gKiAgPFJhZGlvR3JvdXAgbmFtZT1cImdyb3VwMVwiPlxuICogICAgPFJhZGlvRmllbGRcbiAqICAgICAgbmFtZT1cIm1hbGVcIlxuICogICAgICBjaGVja2VkPXtzdGF0ZS5tYWxlfVxuICogICAgICBoaW50PVwiQ2xpY2sgdG8gYWdyZWVcIlxuICogICAgICBsYWJlbHRleHQ9XCJBZ3JlZSB0byB0ZXJtcyAmIGNvbmRpdGlvbnNcIlxuICogICAgLz5cbiAqXG4gKiAgICA8UmFkaW9GaWVsZFxuICogICAgICBuYW1lPVwiZmVtYWxlXCJcbiAqICAgICAgY2hlY2tlZD17c3RhdGUuZmVtYWxlfVxuICogICAgICBoaW50PVwiQ2xpY2sgdG8gYWdyZWVcIlxuICogICAgICBsYWJlbHRleHQ9XCJBZ3JlZSB0byB0ZXJtcyAmIGNvbmRpdGlvbnNcIlxuICogICAgICB2YWxpZGF0b3JzPXtbaXNSYWRpb0NoZWNrZWQoKV19XG4gKiAgICAvPlxuICpcbiAqICA8L1JhZGlvR3JvdXA+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFJhZGlvRmllbGQgPSAocHJvcHM6IElSYWRpb0ZpZWxkKSA9PiB7XG4gICAgY29uc3QgcmFkaW8gPSBuZXcgX1JhZGlvRmllbGQoRklFTERfTkFNRVMuUkFESU8sIHByb3BzKTtcbiAgICByZXR1cm4gcmFkaW8uY3JlYXRlKCk7XG59O1xuXG4vKipcbiAqIEEgY29tcG9uZW50IHRvIHJlbmRlciBhIHNlbGVjdCBmaWVsZCBlbGVtZW50LlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJU2VsZWN0RmllbGR9XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICBpbXBvcnQge1NlbGVjdEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgZnJ1aXRDaG9pY2U6IFwiXCIgfTtcbiAqXG4gKiA8U2VsZWN0RmllbGRcbiAqICAgc2l6ZT1cImxnXCJcbiAqICAgdmFsdWU9e3N0YXRlLmZydWl0Q2hvaWNlfVxuICogICBuYW1lPVwiZnJ1aXRDaG9pY2VcIlxuICogICBvcHRpb25zPXtbXCJiYW5hbmFcIiwgXCJhcHBsZVwiLCBcIm9yYW5nZVwiXX1cbiAqICAvPlxuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBidXQgeW91IG11c3QgdXNlIGJvdGggdGhlXG4gKiAqb2JqZWN0S2V5KiAmICpvYmplY3R2YWx1ZSogcHJvcHMuIHRoZSBgb2JqZWN0S2V5YCB3aWxsIHVwZGF0ZSB5b3VyIHN0YXRlXG4gKiB2YWx1ZSAmIHRoZSBgb2JqZWN0dmFsdWVgIGlzIHdoYXQgaXMgZGlzcGxheWVkIHRvIHRoZSB1c2VyIGFzIGFuIG9wdGlvbi5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vIFRoaXMgaXMgeW91ciBvcHRpb24gZGF0YVxuICogbGV0IHNlbGVjdERhdGEgPSBbXG4gKiAgIHtpZDogMSwgbmFtZTogXCJmaXJzdFwifSxcbiAqICAge2lkOiAyLCBuYW1lOiBcInNlY29uZFwifSxcbiAqIF07XG4gKiAvLyBUaGUgc3RhdGUgd2hpY2ggd2lsbCByZWNlaXZlIHRoZSB1cGRhdGVcbiAqIGxldCBzdGF0ZSA9IHtcbiAqICAgIHNlbGVjdF9kYXRhX2lkOiB1bmRlZmluZWQgYXMgYW55LFxuICogfTtcbiAqXG4gKiA8U2VsZWN0RmllbGRcbiAqICAgc2l6ZT1cImxnXCJcbiAqICAgdmFsdWU9e3N0YXRlLnNlbGVjdF9kYXRhX2lkfVxuICogICBuYW1lPVwiZnJ1aXRDaG9pY2VcIlxuICogICBvYmplY3RrZXk9XCJpZFwiIC8vIFZhbHVlIHdpbGwgdXBkYXRlIHN0YXRlLnNlbGVjdF9kYXRhX2lkIGUuZyAqMSwgMi4uLipcbiAqICAgb2JqZWN0dmFsdWU9XCJuYW1lXCIgLy8gVmFsdWUgd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIHNlbGVjdCBmaWVsZCBlLmcgKmZpcnN0LCBzZWNvbmQuLi4qXG4gKiAgIG9wdGlvbnM9e3NlbGVjdERhdGF9XG4gKiAvPlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBTZWxlY3RGaWVsZCA9IChwcm9wczogSVNlbGVjdEZpZWxkKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ID0gbmV3IF9TZWxlY3RGaWVsZChGSUVMRF9OQU1FUy5TRUxFQ1QsIHByb3BzKTtcbiAgICByZXR1cm4gc2VsZWN0LmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiBUaGUgU3VibWl0QnV0dG9uIG9ubHkgcmVxdWlyZXMgYSB0ZXh0IHN0cmluZyBhcyBjaGlsZHJlbiBwcm9wcyAoc2VlIGJlbG93IGV4YW1wbGUpLlxuICogVGhlIFN1Ym1pdEJ1dHRvbiB3aWxsIGJlIGRpc2FibGVkIHVudGlsIGFsbCBmb3JtIGZpZWxkcyBhcmUgdmFsaWRhdGVkLlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJU3VibWl0QnV0dG9uUHJvcHN9XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGltcG9ydCB7U3VibWl0QnV0dG9ufSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqIDxTdWJtaXRCdXR0b24+U3VibWl0PC9TdWJtaXRCdXR0b24+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVGaWVsZCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzOiBJRmlsZUZpZWxkLCByZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRm9ybUVsZW1lbnQ+fGFueSkgPT4ge1xuICAgIGxldCBfcHJvcHMgPSB7Li4ucHJvcHMsIHJlZiB9O1xuICAgIGNvbnN0IGZpbGUgPSBuZXcgX0ZpbGVGaWVsZDxJRmlsZUZpZWxkPihGSUVMRF9OQU1FUy5GSUxFLCBfcHJvcHMpO1xuICAgIHJldHVybiBmaWxlLmNyZWF0ZSgpO1xufSk7XG5cblxuZXhwb3J0IGNvbnN0IFN1Ym1pdEJ1dHRvbiA9IG5ldyBfU3VibWl0QnV0dG9uKCkuY3JlYXRlKCk7XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5cblxuaW1wb3J0IHtGb3JtQ29udGV4dCwgSU1ldGFkYXRhLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBJQnV0dG9uPFQ+IHtcbiAgICBjcmVhdGUoKTogKHByb3BzOiBUKSA9PiBSZWFjdEVsZW1lbnQ8VD47XG59XG5cbmFic3RyYWN0IGNsYXNzIEJ1dHRvbjxUPiBpbXBsZW1lbnRzIElCdXR0b248VD4ge1xuXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZSgpOiAocHJvcHM6IFQpID0+IFJlYWN0RWxlbWVudDxUPjtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdWJtaXRCdXR0b25Qcm9wcyB7XG4gICAgdGV4dD86IHN0cmluZztcbiAgICBkaXNhYmxlZD86IGZhbHNlO1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICBjaGlsZHJlbj86IGFueTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFN1Ym1pdEJ1dHRvbiBpbXBsZW1lbnRzIEJ1dHRvbjxJU3VibWl0QnV0dG9uUHJvcHM+IHtcblxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBHUk9VUF9UWVBFUyA9IFtcInJhZGlvR3JvdXBzXCJdOyAvLyBUT0RPLi4uXG5cbiAgICBwcml2YXRlIGlzR3JvdXAobWV0YVR5cGU6IE1FVEFEQVRBX05BTUVTKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLkdST1VQX1RZUEVTLmluY2x1ZGVzKG1ldGFUeXBlKTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICByZXR1cm4gKHByb3BzOiBJU3VibWl0QnV0dG9uUHJvcHMpID0+IHtcbiAgICAgICAgICAgLy8gQ29udGV4dFxuICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG5cbiAgICAgICAgICAgLy8gU3R5bGVzXG4gICAgICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lID0gXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIsIGRpc2FibGVkID0gdHJ1ZX0gPSBwcm9wcztcblxuICAgICAgICAgICBsZXQgaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICBjb25zdCBpbnB1dFN0YXRlID0gY29udGV4dC5tZXRhZGF0YS5pbnB1dHMuc3RhdGU7XG4gICAgICAgICAgIGZvciAobGV0IG1ldGEgb2YgT2JqZWN0LmtleXMoY29udGV4dC5tZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgIGxldCBtZXRhRmllbGQgPSBjb250ZXh0Lm1ldGFkYXRhW21ldGEgYXMga2V5b2YgSU1ldGFkYXRhXS5zdGF0ZTtcbiAgICAgICAgICAgICAgIC8vIElmIGFsbCBhbGwgZmllbGRzIGFyZSB2YWxpZCB0aGVuIHBhc3MgdGhyb3VnaCB0aGUgZGVmYXVsdCBpc0Rpc2FibGVkIHZhbHVlXG4gICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgdGhhdCB0aGUgbWVtYmVyIGlzIG5vdCBwYXJ0IG9mIGEgbWV0YWRhdGEgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc0dyb3VwKGNvbnRleHQubWV0YWRhdGFbbWV0YSBhcyBrZXlvZiBJTWV0YWRhdGFdLm1ldGFUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBtZXRhRmllbGRbZmllbGRdLnZhbGlkYXRpb24pIHsgLy8gVE9ETyBEUllcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBncm91cCBtZXRhZGF0YSB2YWxpZGF0aW9uIGNoZWNrc1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgY2hpbGRGaWVsZCBvZiBPYmplY3Qua2V5cyhtZXRhRmllbGRbZmllbGRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY2hpbGQgPSAobWV0YUZpZWxkW2ZpZWxkXSBhcyBhbnkpW2NoaWxkRmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBfY2hpbGQudmFsaWRhdGlvbikgeyAvLyBUT0RPIERSWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICB9XG5cbiAgICAgICAgICAgcmV0dXJuICg8YnV0dG9uXG4gICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICA+e3Byb3BzLmNoaWxkcmVufTwvYnV0dG9uPik7XG4gICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7QWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4uL2NvcmUvX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7Q2hlY2tCb3hGaWVsZH0gZnJvbSBcIi4vX0NoZWNrQm94RmllbGRcIjtcbmltcG9ydCB7RmlsZUZpZWxkfSBmcm9tIFwiLi9fRmlsZUZpZWxkXCI7XG5pbXBvcnQge0lucHV0RmllbGR9IGZyb20gXCIuL19JbnB1dEZpZWxkXCI7XG5pbXBvcnQge01ldGFkYXRhfSBmcm9tIFwiLi4vY29yZS9fTWV0YWRhdGFcIjtcbmltcG9ydCB7TWV0YWRhdGFGaWxlfSBmcm9tIFwiLi4vY29yZS9fTWV0YWRhdGFGaWxlXCI7XG5pbXBvcnQge01ldGFkYXRhR3JvdXB9IGZyb20gXCIuLi9jb3JlL19NZXRhZGF0YUdyb3VwXCI7XG5pbXBvcnQge1JhZGlvRmllbGR9IGZyb20gXCIuL19SYWRpb0ZpZWxkXCI7XG5pbXBvcnQge1NlbGVjdEZpZWxkfSBmcm9tIFwiLi9fU2VsZWN0RmllbGRcIjtcbmltcG9ydCB7U3VibWl0QnV0dG9ufSBmcm9tIFwiLi9fU3VibWl0QnV0dG9uXCI7XG5pbXBvcnQge1RleHRBcmVhRmllbGR9IGZyb20gXCIuL19UZXh0QXJlYUZpZWxkXCI7XG5cblxuZXhwb3J0IHtcbiAgICBBYnN0cmFjdEZpZWxkLFxuICAgIEFic3RyYWN0TWV0YWRhdGEsXG4gICAgQ2hlY2tCb3hGaWVsZCxcbiAgICBGaWxlRmllbGQsXG4gICAgSW5wdXRGaWVsZCxcbiAgICBNZXRhZGF0YSxcbiAgICBNZXRhZGF0YUZpbGUsXG4gICAgTWV0YWRhdGFHcm91cCxcbiAgICBSYWRpb0ZpZWxkLFxuICAgIFNlbGVjdEZpZWxkLFxuICAgIFN1Ym1pdEJ1dHRvbixcbiAgICBUZXh0QXJlYUZpZWxkLFxufTtcbiIsImltcG9ydCB7Rm9ybSwgRm9ybUNvbnN1bWVyfSBmcm9tIFwiLi9mb3JtXCI7XG5pbXBvcnQge1xuICAgIENoZWNrQm94RmllbGQsXG4gICAgRW1haWxGaWVsZCxcbiAgICBGaWxlRmllbGQsXG4gICAgSUNoZWNrQm94RmllbGQsXG4gICAgSUVtYWlsRmllbGQsXG4gICAgSUZpZWxkLFxuICAgIElQYXNzd29yZEZpZWxkLFxuICAgIElSYWRpb0ZpZWxkLCBJU2VsZWN0RmllbGQsXG4gICAgSVRleHRBcmVhRmllbGQsXG4gICAgSVRleHRJbnB1dEZpZWxkLFxuICAgIFBhc3N3b3JkRmllbGQsXG4gICAgUmFkaW9GaWVsZCxcbiAgICBSYWRpb0dyb3VwLFxuICAgIFNlbGVjdEZpZWxkLFxuICAgIFN1Ym1pdEJ1dHRvbixcbiAgICBUZXh0QXJlYUZpZWxkLFxuICAgIFRleHRJbnB1dEZpZWxkXG59IGZyb20gXCIuL2VsZW1lbnRzXCI7XG5pbXBvcnQge1xuICAgIGFyZUZpZWxkc0VxdWFsLFxuICAgIGN1c3RvbVZhbGlkYXRvcixcbiAgICBpc0NoZWNrZWQsXG4gICAgaXNFbWFpbFZhbGlkLFxuICAgIGlzRmllbGRFbXB0eSxcbiAgICBpc0ZpbGUsXG4gICAgaXNSYWRpb0NoZWNrZWQsXG59IGZyb20gXCIuL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Y3JlYXRlRmlsZVJlZiwgZ2V0RmlsZUZyb21SZWZ9IGZyb20gXCIuL3VuY3JvbnRyb2xsZWRcIjtcblxuXG5leHBvcnQge1xuICAgIC8vIFVuY29udHJvbGxlZFxuICAgIGNyZWF0ZUZpbGVSZWYsXG4gICAgZ2V0RmlsZUZyb21SZWYsXG4gICAgLy8gVmFsaWRhdG9yc1xuICAgIGFyZUZpZWxkc0VxdWFsLFxuICAgIGN1c3RvbVZhbGlkYXRvcixcbiAgICBpc0NoZWNrZWQsXG4gICAgaXNFbWFpbFZhbGlkLFxuICAgIGlzRmllbGRFbXB0eSxcbiAgICBpc0ZpbGUsXG4gICAgaXNSYWRpb0NoZWNrZWQsXG4gICAgLy8gQ29udGV4dCBBUElcbiAgICBGb3JtQ29uc3VtZXIsXG5cblxuICAgIC8vIEZvcm0gQ29tcG9uZW50c1xuICAgIENoZWNrQm94RmllbGQsXG4gICAgRW1haWxGaWVsZCxcbiAgICBGaWxlRmllbGQsXG4gICAgRm9ybSxcbiAgICBQYXNzd29yZEZpZWxkLFxuICAgIFJhZGlvRmllbGQsXG4gICAgUmFkaW9Hcm91cCxcbiAgICBTdWJtaXRCdXR0b24sXG4gICAgVGV4dEFyZWFGaWVsZCxcbiAgICBUZXh0SW5wdXRGaWVsZCxcbiAgICBTZWxlY3RGaWVsZFxufTtcbmV4cG9ydCB0eXBlIHtcbiAgICAvLyBJbnRlcmZhY2VzXG4gICAgSUNoZWNrQm94RmllbGQsXG4gICAgSUVtYWlsRmllbGQsXG4gICAgSUZpZWxkLFxuICAgIElQYXNzd29yZEZpZWxkLFxuICAgIElSYWRpb0ZpZWxkLFxuICAgIElUZXh0QXJlYUZpZWxkLFxuICAgIElUZXh0SW5wdXRGaWVsZCxcbiAgICBJU2VsZWN0RmllbGRcbn07XG5cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge1JlYWN0RWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0Zvcm1Db250ZXh0LCBJRm9ybUNvbnRleHQsIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuXG5cblxuLyoqIEBpbnRlcm5hbCAqL1xuaW50ZXJmYWNlIElGb3JtRWxlbWVudFZhbGlkYXRvcnMge1xuICAgIHJlYWRvbmx5IHJlc3VsdHM6IEFycmF5PElWYWxpZGF0aW9uPjtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdHlwZTogTUVUQURBVEFfTkFNRVM7XG4gICAgcmVhZG9ubHkgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHBhcmVudD86IHN0cmluZztcbiAgICByZWFkb25seSBpc1RvdWNoZWQ6IGJvb2xlYW47XG59XG4vKiogQGludGVybmFsICovXG50eXBlIFR5cGVWYWxpZGF0aW9uRWxlbWVudCA9IHsgcmVzdWx0czogQXJyYXk8SVZhbGlkYXRpb24+LCBzdHlsZXM6IHN0cmluZyB9O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gVmFsaWRhdGlvblJlc3VsdHMocHJvcHM6IFR5cGVWYWxpZGF0aW9uRWxlbWVudCk6IFJlYWN0RWxlbWVudDxUeXBlVmFsaWRhdGlvbkVsZW1lbnQ+IHtcbiAgICBjb25zdCB7IHJlc3VsdHMsIHN0eWxlcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuICg8PntyZXN1bHRzLm1hcCgocmVzdWx0OiBJVmFsaWRhdGlvbikgPT5cbiAgICAgICAgcmVzdWx0Lm1lc3NhZ2VzLm1hcCgobXNnOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+XG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17c3R5bGVzfT57bXNnfTwvZGl2PlxuICAgICAgICApKX08Lz4pO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRm9ybUVsZW1lbnRWYWxpZGF0b3JzID0gKHByb3BzOiBJRm9ybUVsZW1lbnRWYWxpZGF0b3JzKTogUmVhY3RFbGVtZW50fG51bGwgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQ6IElGb3JtQ29udGV4dCA9IHVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuICAgIGNvbnN0IHN0eWxlcyA9ICFjb250ZXh0LmJhcmUgPyBgYWxlcnQgbXQtMiBhbGVydC1kYW5nZXIgJHtwcm9wcy5jbGFzc05hbWV9YCA6IHByb3BzLmNsYXNzTmFtZTtcbiAgICBpZihwcm9wcy5pc1RvdWNoZWQpe1xuICAgICAgICByZXR1cm4gPFZhbGlkYXRpb25SZXN1bHRzIHJlc3VsdHM9e3Byb3BzLnJlc3VsdHN9IHN0eWxlcz17c3R5bGVzIHx8IFwiXCJ9IC8+XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge2dldEZpbGVGcm9tUmVmfSBmcm9tIFwiLi4vdW5jcm9udHJvbGxlZFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbGFzdE1vZGlmaWVkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbGFzdE1vZGlmaWVkRGF0ZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHNpemU6IHN0cmluZztcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlT2JqZWN0KHJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD4pOiBJRmlsZXxudWxsIHtcbiAgICBsZXQgZmlsZURhdGEgPSBnZXRGaWxlRnJvbVJlZihyZWYpO1xuICAgIGlmKGZpbGVEYXRhKSB7XG4gICAgICAgIGxldCB7bmFtZSwgbGFzdE1vZGlmaWVkLCBsYXN0TW9kaWZpZWREYXRlLCBzaXplLCB0eXBlfSA9IGZpbGVEYXRhO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZCxcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZERhdGUsXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCIvLyBIYW5kbGVyc1xuLy8gSGFuZGxlcnMgYXJlIG1ldGhvZHMgb24gdGhlIGNvbnRleHQgb2JqZWN0IHRoYXQgdXBkYXRlIHN0YXRlLlxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0lSYWRpb0dyb3VwUGFyZW50Q29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcblxuLyoqIEBpbnRlcm5hbCAqL1xudHlwZSBUeXBlSGFuZGxlciA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIF9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KHBhcmVudFN0YXRlOiBhbnksIGZvcm1LZXk6IHN0cmluZyA9IFwiXCIsIG9iajogYW55ID0ge30pOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgaWYoZm9ybUtleSkge1xuICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbZm9ybUtleV06IHtcbiAgICAgICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZVtmb3JtS2V5XSxcbiAgICAgICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZSxcbiAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXJlbnRTdGF0ZShwYXJlbnRTdGF0ZTogYW55LCBzZXRQYXJlbnRTdGF0ZTogRnVuY3Rpb24sIGZvcm1LZXk6IHN0cmluZyA9IFwiXCIpOiBUeXBlSGFuZGxlciB7XG4gICAgcmV0dXJuIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0UGFyZW50U3RhdGUoe1xuICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICAuLi5fZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleShwYXJlbnRTdGF0ZSwgZm9ybUtleSwge1tuYW1lXTogZS50YXJnZXQudmFsdWV9KSxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQocGFyZW50U3RhdGU6IGFueSwgc2V0UGFyZW50U3RhdGU6IEZ1bmN0aW9uLCBmb3JtS2V5OiBzdHJpbmcgPSBcIlwiKSB7XG4gICAgcmV0dXJuIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIHJhZGlvR3JvdXA6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCkgPT4ge1xuICAgICAgICBpZiAocmFkaW9Hcm91cCkge1xuICAgICAgICAgICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlLFxuICAgICAgICAgICAgICAgICAuLi5fZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleShwYXJlbnRTdGF0ZSwgZm9ybUtleSwge1tuYW1lXTogdHJ1ZX0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvcihsZXQgY2hpbGRyZW4gb2YgcmFkaW9Hcm91cC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmKGNoaWxkcmVuLnByb3BzLm5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLl9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KG5ld1N0YXRlLCBmb3JtS2V5LCB7W2NoaWxkcmVuLnByb3BzLm5hbWVdOiBmYWxzZX0pLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGFyZW50U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7TUVUQURBVEFfTkFNRVMsIFR5cGVGaWVsZFZhbHVlVHlwZXN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGNzc1Byb3BzOiBhbnksIGJhcmU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGxldCBjc3NTdHIgPSBcIlwiO1xuICAgIGlmKCFiYXJlKSB7XG4gICAgICAgIGNzc1N0ciArPSBgJHtkZWZhdWx0VmFsdWV9IGA7XG4gICAgfVxuICAgIGlmIChjc3NQcm9wcykge1xuICAgICAgICBjc3NTdHIgKz0gYCR7Y3NzUHJvcHN9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNzc1N0cjtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFkYXRhTmFtZVR5cGUodHlwZTogRklFTERfTkFNRVMpOiBNRVRBREFUQV9OQU1FUyB7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuRU1BSUw6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5QQVNTV09SRDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlRFWFRBUkVBOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuUkFESU86IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5SQURJT19HUk9VUFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5DSEVDS0JPWDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLkNIRUNLQk9YRVM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5TRUxFQ1Q6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5GSUxFOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuRklMRVM7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVUeXBlKHR5cGU6IEZJRUxEX05BTUVTKTogVHlwZUZpZWxkVmFsdWVUeXBlcyB7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuRU1BSUw6IHtcbiAgICAgICAgICAgIHJldHVybiBcInZhbHVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5QQVNTV09SRDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlRFWFRBUkVBOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuQ0hFQ0tCT1g6IHtcbiAgICAgICAgICAgIHJldHVybiBcImNoZWNrZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlNFTEVDVDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLkZJTEU6IHtcbiAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlJBRElPOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJjaGVja2VkXCJcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7QWJzdHJhY3RGaWVsZCwgSUFic3RyYWN0RmllbGR9IGZyb20gXCIuL19BYnN0cmFjdEZpZWxkXCI7XG5pbXBvcnQge0lGb3JtQ29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZCwgSUZpZWxkQmFzZX0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgQ2hlY2tCb3hGaWVsZDxUIGV4dGVuZHMgSUZpZWxkQmFzZT4gZXh0ZW5kcyBBYnN0cmFjdEZpZWxkPFQ+IGltcGxlbWVudHMgSUFic3RyYWN0RmllbGQ8VD4ge1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogRklFTERfTkFNRVMsIHByb3BzOiBUKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxhYmVsdGV4dCAmJiA8bGFiZWwgY2xhc3NOYW1lPVwiZm9ybS1jaGVjay1sYWJlbFwiPnt0aGlzLnByb3BzLmxhYmVsdGV4dH08L2xhYmVsPn1cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5oaW50ICYmIDxzbWFsbCBjbGFzc05hbWU9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPnt0aGlzLnByb3BzLmhpbnR9PC9zbWFsbD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiAoPD57PGlucHV0XG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgdHlwZT17dGhpcy50eXBlfVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuZ2V0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KClbdGhpcy5wcm9wcy5uYW1lXSB8fCBmYWxzZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+ICh0aGlzLmNvbnRleHQgYXMgYW55KS51cGRhdGVQYXJlbnRTdGF0ZSh0aGlzLm92ZXJyaWRlRXZlbnQoZSwgdGhpcy5nZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkoKVt0aGlzLnByb3BzLm5hbWVdKSwgdGhpcy5wcm9wcy5uYW1lKX1cbiAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtBYnN0cmFjdEZpZWxkLm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyhcImZvcm0tY2hlY2staW5wdXRcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgLz59PC8+KTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge19nZW5lcmljRm9ybUdyb3VwLCBBYnN0cmFjdEZpZWxkLCBJQWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZCwgSUZpbGVGaWVsZH0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge2NyZWF0ZUZpbGVPYmplY3QsIElGaWxlfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGUgbWFpbiBkaWZmZXJlbmNlIG9mIHRoaXMgY2xhc3MgaXMgdGhhdCB0aGUgb25DaGFuZ2UgZXZlbnQgaXMgdXNlZCBvbmx5XG4gKiB0byBjYXJyeSBvdXQgdGhlIHZhbGlkYXRpb24gKHdoaWNoIGlzIHNldCBtYW51YWxseSBpbiBGaWxlRmllbGQuX3VwZGF0ZUZpZWxkVmFsaWRhdGlvbikuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlRmllbGQ8VCBleHRlbmRzIElGaWVsZDxIVE1MSW5wdXRFbGVtZW50Pj4gZXh0ZW5kcyBBYnN0cmFjdEZpZWxkPFQ+IGltcGxlbWVudHMgSUFic3RyYWN0RmllbGQ8VD4ge1xuXG4gICAgX2ZpbGU/OiBJRmlsZXxudWxsO1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogRklFTERfTkFNRVMsIHByb3BzOiBUICYgSUZpbGVGaWVsZCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBnZXQgZmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGUgYXMgSUZpbGV8bnVsbDtcbiAgICB9XG5cbiAgICBzZXQgZmlsZSh2YWw6IElGaWxlfG51bGwpIHtcbiAgICAgICAgdGhpcy5fZmlsZSA9IHZhbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBfZ2VuZXJpY0Zvcm1Hcm91cDxUPih0aGlzLnByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gPD57PGlucHV0XG4gICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIHJlZj17KHRoaXMucHJvcHMgYXMgYW55KS5yZWZ9XG4gICAgICAgICAgICB0eXBlPXt0aGlzLnR5cGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fdXBkYXRlRmllbGRWYWxpZGF0aW9uLmJpbmQodGhpcyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9e0Fic3RyYWN0RmllbGQubWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKFwiZm9ybS1jb250cm9sLWZpbGVcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgLz59PC8+O1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZUZpZWxkVmFsaWRhdGlvbiA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5maWxlID0gY3JlYXRlRmlsZU9iamVjdCgodGhpcy5wcm9wcyBhcyBhbnkpLnJlZik7XG4gICAgICAgIGlmKHR5cGVvZiB0aGlzLmZpbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gX1xuICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIG92ZXJyaWRlcyB0aGUgc2FtZSBiZWhhdmlvdXIgaW4gdGhlIHBhcmVudE5hbWUgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldEZpZWxkVmFsdWUoXzogdW5rbm93bik6IGFueSB7XG4gICAgICAgIGlmKCh0aGlzLnByb3BzIGFzIFQgJiBJRmlsZUZpZWxkKS5yZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpbGVPYmplY3QoKHRoaXMucHJvcHMgYXMgVCAmIElGaWxlRmllbGQpLnJlZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb250ZXh0LCBkZWZhdWx0IGFzIFJlYWN0LCBSZWFjdEVsZW1lbnR9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQge0lGb3JtQ29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZH0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge19nZW5lcmljRm9ybUdyb3VwLCBBYnN0cmFjdEZpZWxkLCBJQWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgSW5wdXRGaWVsZDxUIGV4dGVuZHMgSUZpZWxkPEhUTUxJbnB1dEVsZW1lbnQ+PiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmllbGQodGhpcy5nZXRGaWVsZCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gX2dlbmVyaWNGb3JtR3JvdXA8VD4odGhpcy5wcm9wcywgY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IDw+ezxpbnB1dFxuICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICB0eXBlPXt0aGlzLnR5cGV9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5nZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkoKVt0aGlzLnByb3BzLm5hbWVdfHwgXCJcIn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVBhcmVudFN0YXRlKGUsIHRoaXMucHJvcHMubmFtZSl9XG4gICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e0Fic3RyYWN0RmllbGQubWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKFwiZm9ybS1jb250cm9sXCIsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB0aGlzLmJhcmUpfVxuICAgICAgICAvPn08Lz47XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJRmllbGRWYWxpZGF0aW9uLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge2dldEZpZWxkVmFsdWVUeXBlfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FU30gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge0Fic3RyYWN0TWV0YWRhdGF9IGZyb20gXCIuL19BYnN0cmFjdE1ldGFkYXRhXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcblxuXG4vKiogQGludGVybmFsICoqL1xuZXhwb3J0IGNsYXNzIE1ldGFkYXRhPFQgZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uPiBleHRlbmRzIEFic3RyYWN0TWV0YWRhdGE8VD4ge1xuICAgIHB1YmxpYyBkZWZhdWx0U3RhdGUgPSB7fSBhcyBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZToge1trOiBzdHJpbmddOiBUfSwgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uLCB0eXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgIHN1cGVyKHN0YXRlLCB1cGRhdGVTdGF0ZSwgdHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQobmFtZTogc3RyaW5nLCBmaWVsZFR5cGU6IEZJRUxEX05BTUVTKTogdm9pZCB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZmllbGRUeXBlID0gZmllbGRUeXBlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUodmFsdWU6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KTogdm9pZCB7XG4gICAgICAgIGxldCBzdGF0ZToge1trOiBzdHJpbmddOiBJRmllbGRWYWxpZGF0aW9ufTtcbiAgICAgICAgaWYoISh0aGlzLm5hbWUgaW4gdGhpcy5zdGF0ZSkpe1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBbdGhpcy5uYW1lXToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRGaWVsZFZhbHVlVHlwZSh0aGlzLmZpZWxkVHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0sIFtzdGF0ZV0pO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZVt0aGlzLm5hbWVdICYmIHZhbHVlICE9PSB0aGlzLnN0YXRlW3RoaXMubmFtZV0uZmllbGRWYWx1ZXMuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIFt0aGlzLm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9LCBbc3RhdGVdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7SUZpZWxkVmFsaWRhdGlvbiwgTUVUQURBVEFfTkFNRVN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtnZXRGaWVsZFZhbHVlVHlwZSwgSUZpbGV9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4vX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFGaWxlPFQgZXh0ZW5kcyBJRmllbGRWYWxpZGF0aW9uPiBleHRlbmRzIEFic3RyYWN0TWV0YWRhdGE8VD4ge1xuICAgIHB1YmxpYyBkZWZhdWx0U3RhdGUgPSB7fSBhcyBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZToge1trOiBzdHJpbmddOiBUfSwgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uLCB0eXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgICBzdXBlcihzdGF0ZSwgdXBkYXRlU3RhdGUsIHR5cGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KG5hbWU6IHN0cmluZywgZmllbGRUeXBlOiBGSUVMRF9OQU1FUyk6IHZvaWQge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZpZWxkVHlwZSA9IGZpZWxkVHlwZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHZhbHVlOiBhbnksIHZhbGlkYXRpb246IEFycmF5PElWYWxpZGF0aW9uPik6IHZvaWQge1xuICAgICAgICBsZXQgc3RhdGU6IHtbazogc3RyaW5nXTogSUZpZWxkVmFsaWRhdGlvbn07XG4gICAgICAgIGlmKCEodGhpcy5uYW1lIGluIHRoaXMuc3RhdGUpKXtcbiAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc1RvdWNoZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy5maWVsZFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9LCBbc3RhdGVdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnN0YXRlW3RoaXMubmFtZV0pIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50VmFsdWU6IElGaWxlID0gdGhpcy5zdGF0ZVt0aGlzLm5hbWVdLmZpZWxkVmFsdWVzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBudWxsICYmIE9iamVjdC5rZXlzKGN1cnJlbnRWYWx1ZSkubGVuZ3RoIHx8IHZhbHVlICYmIHZhbHVlLm5hbWUgIT09IGN1cnJlbnRWYWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRGaWVsZFZhbHVlVHlwZSh0aGlzLmZpZWxkVHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlOiB2YWx1ZSB8fCB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7SVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0LCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge2dldEZpZWxkVmFsdWVUeXBlfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FU30gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge0Fic3RyYWN0TWV0YWRhdGF9IGZyb20gXCIuL19BYnN0cmFjdE1ldGFkYXRhXCI7XG5pbXBvcnQge1R5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZX0gZnJvbSBcIi4uL2ZpZWxkX2NsYXNzZXMvX1JhZGlvRmllbGRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFHcm91cDxUPiBleHRlbmRzIEFic3RyYWN0TWV0YWRhdGE8VD4ge1xuICAgIHB1YmxpYyBkZWZhdWx0U3RhdGUgPSB7fSBhcyBUO1xuICAgIHB1YmxpYyBwYXJlbnROYW1lPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3RhdGU6IHtbazogc3RyaW5nXTogVH0sIHVwZGF0ZVN0YXRlOiBGdW5jdGlvbiwgdHlwZTogTUVUQURBVEFfTkFNRVMpIHtcbiAgICAgICAgc3VwZXIoc3RhdGUsIHVwZGF0ZVN0YXRlLCB0eXBlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWVsZFR5cGUgPSBmaWVsZFR5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQHBhcmFtIGN1cnJlbnRcbiAgICAgKiBAcGFyYW0gdmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSBpc1RvdWNoZWQge0Jvb2xlYW59IC0gU2V0IHRoaXMgdG8gZmFsc2Ugb24gaW5pdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50OiBUeXBlTWV0YWRhdGFSYWRpb0dyb3VwVmFsdWUsIHZhbGlkYXRpb246IEFycmF5PElWYWxpZGF0aW9uPiwgaXNUb3VjaGVkPXRydWUpOiBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIFtjdXJyZW50LnBhcmVudE5hbWVdOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdLFxuICAgICAgICAgICAgICAgIFt0aGlzLm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3VycmVudC5wYXJlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHZhbGlkYXRpb24gfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZCxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBwdWJsaWMgdXBkYXRlKGN1cnJlbnQ6IFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KTogdm9pZCB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHt9O1xuICAgICAgICBpZighdGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMuX2NyZWF0ZUdyb3VwU3RhdGUoY3VycmVudCwgdmFsaWRhdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdICYmICEodGhpcy5uYW1lIGluIHRoaXMuc3RhdGVbY3VycmVudC5wYXJlbnROYW1lXSkpIHtcbiAgICAgICAgICAgIC8vIEZvciByZWFkYWJpbGl0eSAtIGtlZXAgdGhpcyBjbGF1c2UgJiB0aGUgbmV4dCwgc2VwYXJhdGUgcGxlYXNlXG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMuX2NyZWF0ZUdyb3VwU3RhdGUoY3VycmVudCwgdmFsaWRhdGlvbik7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZigodGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdIGFzIGFueSlbdGhpcy5uYW1lXSAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGVbY3VycmVudC5wYXJlbnROYW1lXSBhcyBhbnkpW3RoaXMubmFtZV0uZmllbGRWYWx1ZXMudmFsdWUgIT09IGN1cnJlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50LCB2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0ZpZWxkVG91Y2hlZCgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHBhcmVudFN0YXRlID0gKHRoaXMuc3RhdGUpO1xuICAgICAgICBpZihwYXJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgaWYodGhpcy5wYXJlbnROYW1lICYmIHRoaXMubmFtZSAmJiB0aGlzLnN0YXRlW3RoaXMucGFyZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgbWV0YUdyb3VwID0gKHRoaXMuc3RhdGVbdGhpcy5wYXJlbnROYW1lXSBhcyBhbnkpW3RoaXMubmFtZSBhcyBrZXlvZiBUXTtcbiAgICAgICAgICAgICAgICBpZihtZXRhR3JvdXApIHJldHVybiBtZXRhR3JvdXAuaXNUb3VjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIHVzZUNvbnRleHR9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtBYnN0cmFjdEZpZWxkLCBJQWJzdHJhY3RGaWVsZH0gZnJvbSBcIi4vX0Fic3RyYWN0RmllbGRcIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElSYWRpb0ZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7SUZvcm1Db250ZXh0LCBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQsIFJhZGlvR3JvdXBDb250ZXh0LCBUeXBlRmllbGRWYWx1ZVR5cGVzfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Z2V0RmllbGRWYWx1ZVR5cGV9IGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCB0eXBlIFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSA9IHsgdmFsdWU6IGJvb2xlYW4sIHBhcmVudE5hbWU6IHN0cmluZywgbmFtZTogc3RyaW5nIH07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBSYWRpb0ZpZWxkPFQgZXh0ZW5kcyBJUmFkaW9GaWVsZD4gZXh0ZW5kcyBBYnN0cmFjdEZpZWxkPFQ+IGltcGxlbWVudHMgSUFic3RyYWN0RmllbGQ8VD4ge1xuICAgIHByaXZhdGUgX19wYXJlbnROYW1lPzogc3RyaW5nO1xuICAgIHB1YmxpYyBwcm9wczogYW55O1xuICAgIHB1YmxpYyB0eXBlOiBhbnk7XG4gICAgcHVibGljIHJhZGlvQ29udGV4dD86IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dDsgLy8gVE9ETyBpZiBtb3JlIGdyb3VwcyBhcmUgcmVxdWlyZWQgdGhlbiBtYWtlIHRoaXMgYWJzdHJhY3RcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IEZJRUxEX05BTUVTLCBwcm9wczogVCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5yYWRpb0NvbnRleHQgPSB1c2VDb250ZXh0KFJhZGlvR3JvdXBDb250ZXh0KSBhcyBhbnk7XG4gICAgICAgIGlmKHRoaXMucmFkaW9Db250ZXh0ICYmIHRoaXMucmFkaW9Db250ZXh0LnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnROYW1lID0gdGhpcy5yYWRpb0NvbnRleHQucGFyZW50Lm5hbWU7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnBhcmVudE5hbWUgPSB0aGlzLnBhcmVudE5hbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcGFyZW50TmFtZSgpOiBzdHJpbmd8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19wYXJlbnROYW1lO1xuICAgIH1cblxuICAgIHNldCBwYXJlbnROYW1lKHZhbDogc3RyaW5nfHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fcGFyZW50TmFtZSA9IHZhbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXAgZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbHRleHQgJiYgPGxhYmVsIGNsYXNzTmFtZT1cImZvcm0tY2hlY2stbGFiZWxcIj57dGhpcy5wcm9wcy5sYWJlbFRleHR9PC9sYWJlbD59XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaGludCAmJiA8c21hbGwgY2xhc3NOYW1lPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj57dGhpcy5wcm9wcy5oaW50fTwvc21hbGw+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxpbnB1dFxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgICAgIHR5cGU9e3RoaXMudHlwZX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV0gfHwgZmFsc2V9XG4gICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuaGFuZGxlT25DaGFuZ2UoZSwgKHRoaXMucmFkaW9Db250ZXh0IGFzIElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNoZWNrLWlucHV0XCIsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCAodGhpcy5jb250ZXh0IGFzIGFueSkuYmFyZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlT25DaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8YW55PiwgcmFkaW9Db250ZXh0OiBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MRm9ybUVsZW1lbnQ+ID0gdGhpcy5vdmVycmlkZUV2ZW50KGUsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQoZXZlbnQsIHRoaXMucHJvcHMubmFtZSwgcmFkaW9Db250ZXh0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgaXMgc28gdGhhdCBib3RoIGNsYXNzIGNvbXBvbmVudHMgJiBob29rIGJhc2VkXG4gICAgICogY29tcG9uZW50cyBnZXQgdXBkYXRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb2VnYXNld2ljei9yZWFjdC1iYXJlLWZvcm1zL2lzc3Vlcy8xMDAuXG4gICAgICogVGhlIEFic3RyYWN0RmllbGQncyBnZXRGaWVsZFZhbHVlIGltcGxlbWVudGF0aW9uIGRpZmZlcnMgYmVjYXVzZSB0aGUgdmFsdWUgb2ZcbiAgICAgKiB0aGUgZm9ybSBlbGVtZW50IGNhbiBiZSBkZXJpdmVkIGRpcmVjdGx5IGZyb20gcHJvcHMuXG4gICAgICovXG4gICAgcHVibGljIGdldEZpZWxkVmFsdWUocHJvcHM6IFQpOiBhbnkge1xuICAgICAgICBjb25zdCBmb3JtS2V5ID0gdGhpcy5jb250ZXh0Py5mb3JtS2V5O1xuICAgICAgICBpZiAoZm9ybUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dD8uc3RhdGVbZm9ybUtleV1bdGhpcy5wcm9wcy5uYW1lXSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5zdGF0ZVt0aGlzLnByb3BzLm5hbWVdIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiBBcnJheTxJVmFsaWRhdGlvbj4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEZpZWxkVmFsdWUodGhpcy5wcm9wcyk7XG4gICAgICAgIC8vIENhcnJ5IG91dCB0aGUgdmFsaWRhdGlvblxuICAgICAgICBsZXQgdmFsaWRhdGlvbiA9IHRoaXMuZG9WYWxpZGF0aW9uKHZhbHVlKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtZXRhZGF0YSB0eXBlIHN0YXRlXG4gICAgICAgIHRoaXMubWV0YWRhdGEudXBkYXRlKHsgdmFsdWUsIHBhcmVudE5hbWU6IHRoaXMucGFyZW50TmFtZSwgbmFtZTogdGhpcy5wcm9wcy5uYW1lfSBhcyBUeXBlTWV0YWRhdGFSYWRpb0dyb3VwVmFsdWUsIHZhbGlkYXRpb24pO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGlvbjtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJRmllbGRCYXNlLCBJU2VsZWN0RmllbGQsIFR5cGVTZWxlY3RDc3NTaXplTmFtZX0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFNlbGVjdEZpZWxkPFQgZXh0ZW5kcyBJRmllbGRCYXNlICYgSVNlbGVjdEZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmllbGQodGhpcy5nZXRGaWVsZCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gX2dlbmVyaWNGb3JtR3JvdXA8VD4odGhpcy5wcm9wcywgY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE9wdGlvbnMob3B0aW9uczogQXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMub2JqZWN0a2V5ICYmIHRoaXMucHJvcHMub2JqZWN0dmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm1hcCgob3B0VmFsOiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIHZhbHVlPXtvcHRWYWxbdGhpcy5wcm9wcy5vYmplY3RrZXkgYXMgYW55XX0ga2V5PXtpfVxuICAgICAgICAgICAgICAgID57b3B0VmFsW3RoaXMucHJvcHMub2JqZWN0dmFsdWUgYXMgYW55XX08L29wdGlvbj5cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoKG9wdFZhbDogc3RyaW5nLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPG9wdGlvbiB2YWx1ZT17b3B0VmFsfSBrZXk9e2l9PntvcHRWYWx9PC9vcHRpb24+XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICBjb25zdCB7b3B0aW9ucyA9IFtdLCBzaXplID0gXCJkZWZhdWx0XCJ9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3Qgc2VsZWN0RGF0YSA9IHRoaXMuX2dldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgey4uLih0aGlzLnByb3BzIGFzIGFueSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVBhcmVudFN0YXRlKGUsIHRoaXMucHJvcHMubmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtBYnN0cmFjdEZpZWxkLm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyh0aGlzLmdldFNlbGVjdENzc05hbWUoKHRoaXMucHJvcHMgYXMgYW55KS5zaXplKSwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3REYXRhID8gc2VsZWN0RGF0YTogbnVsbH1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNlbGVjdENzc05hbWUobmFtZTogVHlwZVNlbGVjdENzc1NpemVOYW1lKSB7XG4gICAgICAgIGlmKG5hbWUgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLSR7bmFtZX1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0LCBSZWFjdEVsZW1lbnR9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtfZ2VuZXJpY0Zvcm1Hcm91cCwgQWJzdHJhY3RGaWVsZCwgSUFic3RyYWN0RmllbGR9IGZyb20gXCIuL19BYnN0cmFjdEZpZWxkXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTLCBJRmllbGQsIElUZXh0QXJlYUZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHttZXJnZURlZmF1bHRDc3NXaXRoUHJvcHN9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBUZXh0QXJlYUZpZWxkPFQgZXh0ZW5kcyBJVGV4dEFyZWFGaWVsZD4gZXh0ZW5kcyBBYnN0cmFjdEZpZWxkPFQ+IGltcGxlbWVudHMgSUFic3RyYWN0RmllbGQ8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IEZJRUxEX05BTUVTLCBwcm9wczogVCAmIElUZXh0QXJlYUZpZWxkKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIF9nZW5lcmljRm9ybUdyb3VwPFQ+KHRoaXMucHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIGNvbnN0IHtyb3dzID0gNX0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17bWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKFwiZm9ybS1jb250cm9sXCIsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCAodGhpcy5jb250ZXh0IGFzIGFueSkuYmFyZSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9e3Jvd3N9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV0gfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUGFyZW50U3RhdGUoZSwgdGhpcy5wcm9wcy5uYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gRXhwb3J0IFJlZ2V4IGV4cHJlc3Npb25zIGhlcmVcblxuXG5leHBvcnQgY29uc3QgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiIsImltcG9ydCB7RU1BSUxfUkVHRVh9IGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi9mb3JtXCI7XG5pbXBvcnQge0lFbWFpbEZpZWxkLCBJRmllbGQsIElGaWVsZEJhc2UsIElQYXNzd29yZEZpZWxkLCBJVGV4dEFyZWFGaWVsZCwgSVRleHRJbnB1dEZpZWxkfSBmcm9tIFwiLi9lbGVtZW50c1wiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZhbGlkYXRpb24ge1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG4gICAgbWVzc2FnZXM6IFsuLi5zdHJpbmdbXV07XG59XG4vKiogQGludGVybmFsIFRoZSBpbm5lciByZXR1cm5lZCBmdW5jdGlvbiB0eXBlIHRoYXQgY3VzdG9tIHZhbGlkYXRvcnMgbXVzdCBpbXBsZW1lbnQgKi9cbmV4cG9ydCB0eXBlIElWYWxpZGF0aW9uRnVuY3Rpb24gPSAoLi4uYXJnczogQXJyYXk8YW55PikgPT4gSVZhbGlkYXRpb247XG4vKiogQGludGVybmFsIFRoZSBleHBlY3RlZCB2YWxpZGF0b3IncyB0eXBlIHRoYXQge0BsaW5rIElGaWVsZH0gZWxlbWVudHMgY2FuIGNvbnN1bWUgKi9cbmV4cG9ydCB0eXBlIElWYWxpZGF0b3JzID0gQXJyYXk8SVZhbGlkYXRpb25GdW5jdGlvbj47XG4vKiogQGludGVybmFsIFRoZSBjdXN0b20gdmFsaWRhdG9yIHR5cGUgY2FsbGJhY2sgKi9cbmV4cG9ydCB0eXBlIElDdXN0b21WYWxpZGF0b3JDYWxsYmFjayA9IChhcmc6IGFueSwgZmllbGRWYWx1ZTogYW55LCBjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IEFycmF5PHN0cmluZz58dW5kZWZpbmVkO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgSVZhbGlkYXRpb25WYXJpYWJsZSA9IChhcmc/OiBhbnkpID0+IElWYWxpZGF0aW9uRnVuY3Rpb247XG4vKipcbiAqIFRoZSBgcGFzc3dvcmRLZXlgIGlzIG5vcm1hbGx5IHRoZSBmaXJzdCBwYXNzd29yZCBmb3JtIGZpZWxkIHRoZSB1c2VyIGZpbGxzIGluIGJlZm9yZVxuICogdGhlbiBjb25maXJtaW5nIHRoYXQgdGhlIHBhc3N3b3JkIGlzIGNvcnJlY3Qgd2l0aCBhIGNvbmZpcm0gcGFzc3dvcmQgZmllbGQuIHRoaXMgdmFsaWRhdG9yXG4gKiBjaGVjayB0aGF0IGJvdGggcGFzc3dvcmQgZmllbGRzIGFyZSBlcXVhbCBvciBlbHNlIHdpbGwgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UgYW5kIHNldCB0aGlzXG4gKiBmaWVsZCB0byBpbnZhbGlkLmBcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICA8UGFzc3dvcmRGaWVsZFxuICogICAgICAvLyBvdGhlciBwcm9wcy4uLlxuICogICAgICBuYW1lPVwibXlQYXNzd29yZFwiXG4gKiAgLz5cbiAqXG4gKiAgPENvbmZpcm1QYXNzd29yZEZpZWxkXG4gKiAgICAgICAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICAgICAgICB2YWxpZGF0b3JzPXtbYXJlRmllbGRzRXF1YWwoXCJteVBhc3N3b3JkXCIpXX1cbiAqICAgLz5cbiAqICAgLy8gbWVzc2FnZTogRmllbGRzIGRvIG5vdCBtYXRjaFxuICogYGBgXG4gKiBAcGFyYW0gYHBhc3N3b3JkS2V5YCBUaGUgbmFtZSBvZiB0aGUgcGFzc3dvcmQgZm9ybSBlbGVtZW50IHlvdSB3YXRjaCB0byBtYXRjaCBhZ2FpbnN0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGFyZUZpZWxkc0VxdWFsOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChmaWVsZEtleSwgZmllbGRWYWx1ZSwgY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiB7XG4gICAgbGV0IHRlc3RGaWVsZDogSUZpZWxkQmFzZTtcbiAgICBsZXQgbWVzc2FnZSA9IFtgRmllbGRzIGRvIG5vdCBtYXRjaGBdO1xuICAgIGxldCBjb250ZXh0U3RhdGUgPSBnZXRGb3JtU3RhdGVGcm9tQ29udGV4dChjb250ZXh0KTtcbiAgICBpZihmaWVsZEtleSBpbiBjb250ZXh0U3RhdGUpIHtcbiAgICAgICAgdGVzdEZpZWxkID0gY29udGV4dFN0YXRlW2ZpZWxkS2V5XTtcbiAgICAgICAgaWYoIXRlc3RGaWVsZCB8fCAhZmllbGRWYWx1ZSAgfHwgZmllbGRWYWx1ZSAhPT0gY29udGV4dFN0YXRlW2ZpZWxkS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUmVhY3QtQmFyZUZvcm1zIEVycm9yOiBObyBGaWVsZCB3aXRoIG5hbWUgb2YgJHtmaWVsZEtleX0gZXhpc3RzIHdoZW4gY2FsbGluZyAnYXJlRmllbGRzRXF1YWwnIGBcbiAgICAgICAgICAgICsgYHZhbGlkYXRvciBmdW5jdGlvbi5cXG4gRm9yIG1vcmUgaW5mbywgdmlzaXQ6IGBcbiAgICAgICAgICAgICsgYGh0dHBzOi8vam9lZ2FzZXdpY3ouZ2l0aHViLmlvL3JlYWN0LWJhcmUtZm9ybXMvbW9kdWxlcy9fdmFsaWRhdG9yc18uaHRtbCNhcmVmaWVsZHNlcXVhbGAsXG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cblxuLyoqXG4gKiBUaGUgYGlzRmllbGRFbXB0eWAgdmFsaWRhdG9yIHBlcmZvcm1zIGEgY29tcGFyaXNvbiBhZ2FpbnN0IGBtaW5MZW5ndGhgICYgdGhlIGZpZWxkIGVsZW1lbnRcbiAqIHZhbHVlLiBJZiB0aGV5IGFyZSBlcXVhbCBvciB0aGUgYG1pbkxlbmd0aGAgaXMgZ3JlYXRlciB0aGFuIHRoZSBmb3JtIGVsZW1lbnQgdmFsdWUgdGhlblxuICogdGhpcyBlbGVtZW50IGlzIG5vdCB2YWxpZCAmIGEgbWVzc2FnZSBpcyBkaXNwbGF5ZWQuXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUZXh0SW5wdXRGaWVsZCwgaXNGaWVsZEVtcHR5fSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogY29uc3Qgc3RhdGUgPSB7IHVzZXJuYW1lOiBcIlwiIH1cbiAqIGBgYFxuICogIDxUZXh0SW5wdXRGaWVsZFxuICogICAgICAgIHZhbHVlPXtzdGF0ZS51c2VybmFtZX1cbiAqICAgICAgICBuYW1lPVwidXNlcm5hbWVcIlxuICogICAgICAgIHZhbGlkYXRvcnM9e1tpc0ZpZWxkRW1wdHkoNSldfVxuICogICAvPlxuICogICAvLyBtZXNzYWdlOiBNdXN0IGJlIGF0IGxlYXN0IDUgY2hhcmFjdGVyc1xuICogYGBgXG4gKiBAcGFyYW0gbWluTGVuZ3RoIFRoZSBtaW5pbXVtIGxlbmd0aCBvZiB0aGUgZm9ybSBmaWVsZCB2YWx1ZVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc0ZpZWxkRW1wdHk6IElWYWxpZGF0aW9uVmFyaWFibGUgPSBjdXN0b21WYWxpZGF0b3IoKG1pbkxlbmd0aCwgZmllbGRWYWx1ZSwgY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiB7XG4gICAgY29uc3QgaXNWYWxpZCA9ICh0eXBlb2YgZmllbGRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBmaWVsZFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpO1xuICAgIGlmKCFpc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiBbYE11c3QgYmUgYXQgbGVhc3QgJHttaW5MZW5ndGh9IGNoYXJhY3RlcnNgXTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBUaGlzIHZhbGlkYXRvciBkb2Vzbid0IHJlcXVpcmUgYW55IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgaW4uXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtFbWFpbEZpZWxkLCBpc0VtYWlsVmFsaWR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiBjb25zdCBzdGF0ZSA9IHsgdGVybXM6IGZhbHNlIH1cbiAqIGBgYFxuICogIDxFbWFpbEZpZWxkXG4gKiAgICAvLyBvdGhlciBwcm9wcy4uLlxuICogICAgdmFsaWRhdG9ycz17W2lzRW1haWxWYWxpZCgpXX1cbiAqICAvPlxuICogIC8vIG1lc3NhZ2U6IE11c3QgYmUgYSB2YWxpZCBlbWFpbFxuICogYGBgXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc0VtYWlsVmFsaWQ6IElWYWxpZGF0aW9uVmFyaWFibGUgPSBjdXN0b21WYWxpZGF0b3IoKF8gLCBmaWVsZFZhbHVlLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaXNWYWxpZCA9IEVNQUlMX1JFR0VYLnRlc3QoU3RyaW5nKGZpZWxkVmFsdWUpLnRvTG93ZXJDYXNlKCkpO1xuICAgIGlmKCFpc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiBbYE11c3QgYmUgYSB2YWxpZCBlbWFpbGBdO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFRoaXMgdmFsaWRhdG9yIHdpbGwgZGlzcGxheSB0aGUgd2FybmluZyBpZiBhIHVzZXIgaGFzIHNlbGVjdGVkIGEgZmlsZSBidXQgdGhlbiByZXNlbGVjdGVkXG4gKiBub3RoaW5nIChieSBjbGlja2luZyB0aGUgY2FuY2VsIGJ1dHRvbiBpbiB0aGUgZmlsZSBwb3B1cCB3aW5kb3cpLiBUaGlzIHZhbGlkYXRvciBkb2Vzbid0XG4gKiByZXF1aXJlIGFueSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIGluLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogaW1wb3J0IHtjcmVhdGVGaWxlUmVmLCBGaWxlRmllbGQsIGlzRmlsZX0gZnJvbSBcInJlYWN0LWJhcmUtZm9ybXNcIjtcbiAqXG4gKiBjb25zdCBteUZpbGVSZWYgPSBjcmVhdGVGaWxlUmVmKCk7XG4gKlxuICogPEZpbGVGaWVsZFxuICogICAgcmVmPXtteUZpbGVSZWZ9XG4gKiAgICBoaW50PVwiTXVzdCBiZSBhIGZpbGVcIlxuICogICAgbGFiZWx0ZXh0PVwiVXBsb2FkIHlvdXIgZmlsZVwiXG4gKiAgICBuYW1lPVwibXlGaWxlVGVzdFwiXG4gKiAgICB2YWxpZGF0b3JzPXtbaXNGaWxlKCldfVxuICogLz5cbiAqIGBgYFxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgaXNGaWxlOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChfLCBuYW1lLCBjb250ZXh0KSA9PiB7XG4gICAgaWYoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFtgTXVzdCBiZSBhIGZpbGUgdHlwZWBdO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFRvIHVzZSB0aGUgYGlzUmFkaW9DaGVja2VkYCwgc2VsZWN0IHRoZSBgUmFkaW9GaWVsZGAgY29tcG9uZW50IHlvdSB3aXNoIHRoZSB1c2VyIHRvIHNlbGVjdFxuICogJiBhZGQgdGhlIHZhbGlkYXRvciBmdW5jdGlvbiB0byB0aGUgYHZhbGlkYXRvcnNgIHByb3AuIFRoaXMgd2lsbCBub3cgZGlzcGxheSBhIHdhcm5pbmcgaWZcbiAqIHRoZSB1c2VyIGhhcyBkZXNlbGVjdGVkIHRoZSByZXF1aXJlZCBvcHRpb24uIFRoaXMgdmFsaWRhdG9yIGRvZXNuJ3RcbiAqIHJlcXVpcmUgYW55IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgaW4uXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtSYWRpb0dyb3VwLCBSYWRpb0ZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogY29uc3Qgc3RhdGUgPSB7IG1hbGU6IHRydWUsIGZlbWFsZTogZmFsc2UgfVxuICpcbiAqIDxSYWRpb0dyb3VwIG5hbWU9XCJncm91cDFcIj5cbiAqICAgICA8UmFkaW9GaWVsZFxuICogICAgICAgbmFtZT1cIm1hbGVcIlxuICogICAgICAgY2hlY2tlZD17c3RhdGUuZmVtYWxlfVxuICogICAgICAgdmFsaWRhdG9ycz17W2lzUmFkaW9DaGVja2VkKCldfVxuICogICAgLz5cbiAqICAgIDxSYWRpb0ZpZWxkXG4gKiAgICAgICBuYW1lPVwiZmVtYWxlXCJcbiAqICAgICAgIGNoZWNrZWQ9e3N0YXRlLmZlbWFsZX1cbiAqICAgIC8+XG4gKiA8L1JhZGlvR3JvdXA+XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc1JhZGlvQ2hlY2tlZDogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigoXyAsIHZhbHVlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbYFRoaXMgb3B0aW9uIG11c3QgYmUgc2VsZWN0ZWRgXTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBUaGUgYGlzQ2hlY2tlZGAgdmFsaWRhdG9yIHdpbGwgZGlzcGxheSBhIHdhcm5pbmcgaWYgdGhlIHVzZXIgaGFzIHNlbGVjdGVkIHRoZSBjaGVja2JveCAmXG4gKiB0aGVuIGRlc2VsZWN0ZWQgaXQuIFRoaXMgcmVxdWlyZXMgYSAqYm9vbGVhbiogdHlwZSB0byBiZSBzZXQgaW4geW91ciBzdGF0ZSwgc2VlIGJlbG93LlxuICogVGhpcyB2YWxpZGF0b3IgZG9lc24ndCByZXF1aXJlIGFueSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIGluLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7Q2hlY2tCb3hGaWVsZCwgaXNDaGVja2VkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiXG4gKlxuICogY29uc3Qgc3RhdGUgPSB7IHRlcm1zOiBmYWxzZSB9XG4gKlxuICogPENoZWNrQm94RmllbGRcbiAqICAgIG5hbWU9XCJ0ZXJtc1wiXG4gKiAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnRlcm1zfVxuICogICAgdmFsaWRhdG9ycz17W2lzQ2hlY2tlZCgpXX1cbiAqIC8+XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NoZWNrZWQ6IElWYWxpZGF0aW9uVmFyaWFibGUgPSBjdXN0b21WYWxpZGF0b3IoKF8sIGZpZWxkVmFsdWUsIGNvbnRleHQpID0+IHtcbiAgICBpZihmaWVsZFZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gW2BNdXN0IGJlIGNoZWNrZWRgXTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHRha2VzIGEgY2FsbGJhY2sgd2hpY2ggY29udGFpbnMgdGhlIGNhbGxlcnMgb3duIHZhbGlkYXRpb24gbG9naWNcbiAqICYgcmV0dXJucyBhbiBhcnJheSBvZiBzdHJpbmcocykgd2hpY2ggYXJlIHRoZSB2YWxpZGF0aW9uIGVycm9yIG1lc3NhZ2Ugb3IgKnVuZGVmaW5lZCouIEJlbG93IGlzIGFuXG4gKiBleGFtcGxlIG9mIGNyZWF0aW5nIGEgY3VzdG9tIHZhbGlkYXRvciB0byB0ZXN0IGlmIGEgZmllbGQgaGFzIGEgc3RyaW5nIGxlbmd0aCBvZiBudGguXG4gKlxuICogVGhlcmUgYXJlIDMgYXJndW1lbnRzIGF2YWlsYWJsZSB0byB5b3VyIGN1c3RvbSB2YWxpZGF0aW9uIGNhbGxiYWNrOlxuICogIC0gKiphcmcqKiBUaGlzIGlzIHRoZSB5b3VyIG93biB2YWx1ZSB1c2VkIHRvIGluIHRoZSB2YWxpZGF0aW9uIGNvbXBhcmlzb25cbiAqICBAZXhhbXBsZVxuICogIGBgYFxuICogIGNvbnN0IG15QXJnID0gNTtgXG4gKlxuICogIDxUZXh0SW5wdXRGaWVsZFxuICogICAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICAgIHZhbGlkYXRvcnM9e1tteVZhbGlkYXRvcihteUFyZyldfSAvLyA8LSBgbXlBcmdgXG4gKiAgLz5cbiAqIGBgYFxuICogIC0gKipmaWVsZFZhbHVlKiogVGhpcyBpcyB0aGUgY3VycmVudCBmb3JtIGVsZW1lbnQgdmFsdWUgYmVpbmcgcGFzc2VkIHRvIHRoZSB2YWxpZGF0b3JcbiAqICAtICoqY29udGV4dCoqIFRoaXMgaXMgdGhlIGNvbnRleHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHN0YXRlXG4gKiBGb3IgZXhhbXBsZTpcbiAqIEBleGFtcGxlXG4gKiBgYGBgXG4gKiBjb25zdCBpc0ZpZWxkRW1wdHkgPSBjcmVhdGVWYWxpZGF0b3IoKG1pbkxlbmd0aCwgZmllbGRWYWx1ZSwgY29udGV4dCkgPT4ge1xuICogICAgIGNvbnN0IGlzVmFsaWQgPSAoZmllbGRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKTtcbiAqICAgICBpZighaXNWYWxpZCkge1xuICogICAgICAgICByZXR1cm4gW2BNdXN0IGJlIGF0IGxlYXN0ICR7bWluTGVuZ3RofSBjaGFyYWN0ZXJzYF07XG4gKiAgICAgfVxuICogfSk7XG4gKiBgYGBgXG4gKiBZb3Ugb25seSBuZWVkIHRvIHJldHVybiB0eXBlIGFuIGFycmF5IG9mIHN0cmluZyhzKSAod2hpY2ggaXMgeW91ciB2YWxpZGF0aW9uIG1lc3NhZ2UpXG4gKiBpZiB0aGUgYGZpZWxkVmFsdWVgaXMgKipOT1QqKiB2YWxpZGF0ZWQuXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tVmFsaWRhdG9yKGNhbGxiYWNrOiBJQ3VzdG9tVmFsaWRhdG9yQ2FsbGJhY2spOiAoYXJnOiBhbnkpID0+IElWYWxpZGF0aW9uRnVuY3Rpb24gIHtcbiAgICByZXR1cm4gKGFyZzogYW55ID0gbnVsbCk6IElWYWxpZGF0aW9uRnVuY3Rpb24gPT4ge1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3M6IEFycmF5PGFueT4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8gY3VzdG9tIGV4Y2VwdGlvbnMgZm9yIHRoZSBiZWxvdyBhcmdzXG4gICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlOiBhbnkgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dDogSUZvcm1Db250ZXh0ID0gYXJnc1sxXTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gY2FsbGJhY2soYXJnLCBmaWVsZFZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGxldCB2YWxpZGF0aW9uRGF0YTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzKSAmJiBtZXNzYWdlcy5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGNvcnJlY3Qgc3RhdGUgZnJvbSB0aGUgY29udGV4dCBvYmplY3Qgd2l0aGluIGEgdmFsaWRhdG9yOlxuICogIC0gKiphcmcqKiBjb250ZXh0IHtJRm9ybUNvbnRleHR9XG4gKiAgQGV4YW1wbGVcbiAqICBgYGBcbiAqICBsZXQgY29udGV4dFN0YXRlID0gZ2V0Rm9ybVN0YXRlRnJvbUNvbnRleHQoY29udGV4dCk7XG4gKiBgYGBcbiAqIEBwYXJhbSBjb250ZXh0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZvcm1TdGF0ZUZyb21Db250ZXh0KGNvbnRleHQ6IElGb3JtQ29udGV4dCkge1xuICAgIGlmKGNvbnRleHQuZm9ybUtleSkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5zdGF0ZVtjb250ZXh0LmZvcm1LZXldO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5zdGF0ZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=