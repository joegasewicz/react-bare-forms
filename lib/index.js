!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-bare-lib"]=e(require("react")):t["react-bare-lib"]=e(t.react)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e),n.d(e,"createFileRef",(function(){return l})),n.d(e,"getFileFromRef",(function(){return h})),n.d(e,"areFieldsEqual",(function(){return wt})),n.d(e,"customValidator",(function(){return Vt})),n.d(e,"isChecked",(function(){return Rt})),n.d(e,"isEmailValid",(function(){return Ct})),n.d(e,"isFieldEmpty",(function(){return Tt})),n.d(e,"isFile",(function(){return Nt})),n.d(e,"isRadioChecked",(function(){return At})),n.d(e,"FormConsumer",(function(){return Ft})),n.d(e,"CheckBoxField",(function(){return ot})),n.d(e,"EmailField",(function(){return nt})),n.d(e,"FileField",(function(){return ct})),n.d(e,"Form",(function(){return xt})),n.d(e,"PasswordField",(function(){return rt})),n.d(e,"RadioField",(function(){return ut})),n.d(e,"RadioGroup",(function(){return it})),n.d(e,"SubmitButton",(function(){return pt})),n.d(e,"TextAreaField",(function(){return at})),n.d(e,"TextInputField",(function(){return et})),n.d(e,"SelectField",(function(){return st}));var r=n(0),o=n.n(r);function a(t){var e=t.results,n=t.styles;return o.a.createElement(o.a.Fragment,null,e.map((function(t){return t.messages.map((function(t,e){return o.a.createElement("div",{key:e,className:n},t)}))})))}var i,u=function(t){var e=Object(r.useContext)(jt).bare?t.className:"alert mt-2 alert-danger "+t.className;return t.isTouched?o.a.createElement(a,{results:t.results,styles:e||""}):null},s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n){return"React Bare Forms ERROR:\n\t"+t+" - "+e+"\n\t- "+n},p=(c("Function","isFieldEmpty()","Missing argument: minLength (number)"),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(Error)),f=c("Required Props","context","You must pass in a context prop. Class components use 'state' & functional components must use useState hook. See https://joegasewicz.github.io/react-bare-forms/modules/_form_.html");function l(){return o.a.createRef()}function h(t){return t&&t.current&&Object.keys(t.current.files).length?t.current.files[0]:null}function d(t){var e=h(t);return e?{name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,size:e.size,type:e.type}:null}var m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function y(t,e,n){var r;return void 0===e&&(e=""),void 0===n&&(n={}),e?((r={})[e]=m(m({},t[e]),n),r):m(m({},t),n)}function v(t,e,n){return void 0===n&&(n=""),function(r,o){var a;e(m(m({},t),y(t,n,((a={})[o]=r.target.value,a))))}}function b(t,e,n){return void 0===n&&(n=""),function(r,o,a){var i,u;if(a){for(var s=m(m({},t),y(t,n,((i={})[o]=!0,i))),c=0,p=a.children;c<p.length;c++){var f=p[c];f.props.name!==o&&(s=m(m({},s),y(s,n,((u={})[f.props.name]=!1,u))))}e(s)}}}var O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},g=function(){function t(){this.GROUP_TYPES=["radioGroups"]}return t.prototype.isGroup=function(t){return this.GROUP_TYPES.includes(t)},t.prototype.create=function(){var t=this;return function(e){for(var n=Object(r.useContext)(jt),a=e.className,i=void 0===a?"btn btn-success btn-lg":a,u=(e.disabled,!1),s=(n.metadata.inputs.state,0),c=Object.keys(n.metadata);s<c.length;s++){var p=c[s],f=n.metadata[p].state;if(t.isGroup(n.metadata[p].metaType))for(var l=0,h=Object.keys(f);l<h.length;l++){E=h[l];for(var d=0,m=Object.keys(f[E]);d<m.length;d++)for(var y=m[d],v=0,b=f[E][y].validation;v<b.length;v++){b[v].isValid||(u=!0)}}else for(var g=0,_=Object.keys(f);g<_.length;g++)for(var E,j=0,P=f[E=_[g]].validation;j<P.length;j++){P[j].isValid||(u=!0)}}return o.a.createElement("button",O({},e,{disabled:u,className:i}),e.children)}},t}(),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r};function j(t,e){return o.a.createElement("div",{className:"form-group"},t.labelText&&o.a.createElement("label",null,t.labelText),e,t.hint&&o.a.createElement("small",{className:"form-text text-muted"},t.hint))}var P,F=function(){function t(t,e){this.type=e,this.props=t,this.init()}return Object.defineProperty(t.prototype,"bare",{get:function(){return Boolean(this._bare)},set:function(t){this._bare=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._metadata},set:function(t){this._metadata=t},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.context=Object(r.useContext)(jt),this.metadata=this.context.metadata[lt(this.type)],this.metadata.init(this.props.name,this.type),this.bare=Boolean(this.context.bare)},t.prototype.getProps=function(){return this.props},t.prototype.createField=function(t){var e=this.props.validators||this.parentName?o.a.createElement(u,{isTouched:this.metadata.isFieldTouched(),results:this.validate(),name:this.props.name,type:lt(this.type),parent:this.parent}):null;return this.bare?o.a.createElement(o.a.Fragment,null,t(this.metadata.state),e):o.a.createElement(o.a.Fragment,null,this.formGroup(t(this.metadata.state)),e)},t.prototype.doValidation=function(t){var e=[];if(this.props.validators)for(var n=0,r=this.props.validators;n<r.length;n++){var o=r[n];e=E(e,[o(t,this.context)])}return e},t.prototype.validate=function(){var t=this.getFieldValue(this.props),e=this.doValidation(t);return this.metadata.update(t,e),e},t.prototype.getFieldValue=function(t){var e=ht(this.type);return this.props[e]},t.mergeDefaultCssWithProps=function(t,e,n){var r="";return n||(r+=t+" "),e&&(r+=""+e),r},t.prototype.overrideEvent=function(t,e){return _(_({},t),{target:_(_({},t.target),{value:!e})})},t.prototype.getStatePositionFromFormKey=function(){var t,e;return(null===(t=this.context)||void 0===t?void 0:t.formKey)?this.context.state[this.context.formKey]:null===(e=this.context)||void 0===e?void 0:e.state},t}(),S=function(){function t(t,e,n){this.state=t,this.updateState=e,this.metaType=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldType",{get:function(){return this._fieldType},set:function(t){this._fieldType=t},enumerable:!0,configurable:!0}),t.prototype.isFieldTouched=function(){return!!this.state[this.name]&&this.state[this.name].isTouched},t}(),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(){return(w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},T=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return x(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return o.a.createElement("div",{className:"form-group form-check"},t,this.props.labelText&&o.a.createElement("label",{className:"form-check-label"},this.props.labelText),this.props.hint&&o.a.createElement("small",{className:"form-text text-muted"},this.props.hint))},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",w({},t.props,{type:t.type,checked:t.getStatePositionFromFormKey()[t.props.name]||!1,onChange:function(e){return t.context.updateParentState(t.overrideEvent(e,t.getStatePositionFromFormKey()[t.props.name]),t.props.name)},name:t.props.name,className:F.mergeDefaultCssWithProps("form-check-input",t.props.className,t.context.bare)})))}},e}(F),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r._updateFieldValidation=function(){r.file=d(r.props.ref),void 0!==r.file&&r.validate()},r.type=e,r.props=n,r}return C(e,t),Object.defineProperty(e.prototype,"file",{get:function(){return this._file},set:function(t){this._file=t},enumerable:!0,configurable:!0}),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return j(this.props,t)},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",N({},t.props,{ref:t.props.ref,type:t.type,onChange:t._updateFieldValidation.bind(t),className:F.mergeDefaultCssWithProps("form-control-file",t.props.className,t.context.bare)})))}},e.prototype.getFieldValue=function(t){return this.props.ref.current?d(this.props.ref):null},e}(F),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(){return(V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return R(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return j(this.props,t)},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",V({},t.props,{type:t.type,value:t.getStatePositionFromFormKey()[t.props.name]||"",onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name,className:F.mergeDefaultCssWithProps("form-control",t.props.className,t.bare)})))}},e}(F),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},G=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return k(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype.update=function(t,e){var n,o,a,i=this;this.name in this.state?this.state[this.name]&&t!==this.state[this.name].fieldValues.currentValue&&(a=K(K({},this.state),((o={})[this.name]={name:this.name,validation:e,fieldValues:{type:ht(this.fieldType),currentValue:t},isTouched:!0},o)),Object(r.useEffect)((function(){i.updateState(a)}),[a])):(a=K(K({},this.state),((n={})[this.name]={name:this.name,validation:e,isTouched:!1,fieldValues:{type:ht(this.fieldType),currentValue:t}},n)),Object(r.useEffect)((function(){i.updateState(a)}),[a]))},e}(S),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(){return(L=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},M=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return D(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype.update=function(t,e){var n,o,a,i=this;if(!(this.name in this.state))return a=L(L({},this.state),((n={})[this.name]={name:this.name,validation:e,isTouched:!1,fieldValues:{type:ht(this.fieldType),currentValue:{}}},n)),void Object(r.useEffect)((function(){i.updateState(a)}),[a]);if(this.state[this.name]){var u=this.state[this.name].fieldValues.currentValue;(null===t&&Object.keys(u).length||t&&t.name!==u.name)&&(a=L(L({},this.state),((o={})[this.name]={name:this.name,validation:e,fieldValues:{type:ht(this.fieldType),currentValue:t||{}},isTouched:!0},o)),this.updateState(a))}},e}(S),X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},U=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.defaultState={},o}return X(e,t),e.prototype.init=function(t,e){this.name=t,this.fieldType=e},e.prototype._createGroupState=function(t,e,n){var r,o;return void 0===n&&(n=!0),B(B({},this.state),((r={})[t.parentName]=B(B({},this.state[t.parentName]),((o={})[this.name]={parent:t.parentName,name:this.name,validation:e||[],isTouched:n,fieldValues:{type:ht(this.fieldType),value:t.value}},o)),r))},e.prototype.update=function(t,e){var n=this,o={};this.state[t.parentName]?(this.state[t.parentName]&&!(this.name in this.state[t.parentName])||this.state[t.parentName][this.name]&&this.state[t.parentName][this.name].fieldValues.value!==t.value)&&(o=this._createGroupState(t,e),Object(r.useEffect)((function(){n.updateState(o)}))):(o=this._createGroupState(t,e,!1),Object(r.useEffect)((function(){n.updateState(o)})))},e.prototype.isFieldTouched=function(){if(this.state&&this.parentName&&this.name&&this.state[this.parentName]){var t=this.state[this.parentName][this.name];if(t)return t.isTouched}return!1},e}(S),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},H=function(t){function e(e,n){var o=t.call(this,n,e)||this;return o.handleOnChange=function(t,e){var n=o.overrideEvent(t,t.target.value);o.context.updateRadioGroupStateFromPassedInContext(n,o.props.name,e)},o.props=n,o.type=e,o.radioContext=Object(r.useContext)(Et),o.radioContext&&o.radioContext.parent&&(o.parentName=o.radioContext.parent.name,o.metadata.parentName=o.parentName),o}return W(e,t),Object.defineProperty(e.prototype,"parentName",{get:function(){return this._parentName},set:function(t){this._parentName=t},enumerable:!0,configurable:!0}),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return o.a.createElement("div",{className:"form-group form-check"},t,this.props.labelText&&o.a.createElement("label",{className:"form-check-label"},this.props.labelText),this.props.hint&&o.a.createElement("small",{className:"form-text text-muted"},this.props.hint))},e.prototype.getField=function(){var t=this;return function(){return o.a.createElement("input",z({},t.props,{type:t.type,checked:t.getStatePositionFromFormKey()[t.props.name]||!1,name:t.props.name,onChange:function(e){return t.handleOnChange(e,t.radioContext)},className:F.mergeDefaultCssWithProps("form-check-input",t.props.className,t.context.bare)}))}},e.prototype.getFieldValue=function(t){var e,n,r,o=null===(e=this.context)||void 0===e?void 0:e.formKey;return o?(null===(n=this.context)||void 0===n?void 0:n.state[o][this.props.name])||!1:(null===(r=this.context)||void 0===r?void 0:r.state[this.props.name])||!1},e.prototype.validate=function(){var t=this.getFieldValue(this.props),e=this.doValidation(t);return this.metadata.update({value:t,parentName:this.parentName,name:this.props.name},e),e},e}(F),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Z=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return q(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return j(this.props,t)},e.prototype._getOptions=function(t){var e=this;return void 0===t&&(t=[]),this.props.objectKey&&this.props.objectValue?t.map((function(t,n){return o.a.createElement("option",{value:t[e.props.objectKey],key:n},t[e.props.objectValue])})):t.map((function(t,e){return o.a.createElement("option",{value:t,key:e},t)}))},e.prototype.getField=function(){var t=this,e=this.props,n=e.options,r=void 0===n?[]:n,a=(e.size,this._getOptions(r));return function(){return o.a.createElement("select",Y({},t.props,{onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name,className:F.mergeDefaultCssWithProps(t.getSelectCssName(t.props.size),t.props.className,t.context.bare)}),a||null)}},e.prototype.getSelectCssName=function(t){return"default"===t?"form-control":"form-control form-control-"+t},e}(F),$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Q=function(t){function e(e,n){var r=t.call(this,n,e)||this;return r.type=e,r.props=n,r}return $(e,t),e.prototype.create=function(){return this.createField(this.getField())},e.prototype.formGroup=function(t){return j(this.props,t)},e.prototype.getField=function(){var t=this,e=this.props.rows,n=void 0===e?5:e;return function(){return o.a.createElement("textarea",J({},t.props,{className:ft("form-control",t.props.className,t.context.bare),rows:n,value:t.getStatePositionFromFormKey()[t.props.name]||"",onChange:function(e){return t.context.updateParentState(e,t.props.name)},name:t.props.name}))}},e}(F),tt=function(){return(tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.TEXT="text",t.EMAIL="email",t.PASSWORD="password",t.TEXTAREA="textArea",t.RADIO="radio",t.CHECKBOX="checkbox",t.SELECT="select",t.FILE="file"}(P||(P={}));var et=function(t){return new I(P.TEXT,t).create()},nt=function(t){return new I(P.EMAIL,t).create()},rt=function(t){return new I(P.PASSWORD,t).create()},ot=function(t){return new T(P.CHECKBOX,t).create()},at=function(t){return new Q(P.TEXTAREA,t).create()};function it(t){var e={parent:{name:t.name},children:t.children};return o.a.createElement(Et.Provider,{value:e},t.children)}var ut=function(t){return new H(P.RADIO,t).create()},st=function(t){return new Z(P.SELECT,t).create()},ct=o.a.forwardRef((function(t,e){var n=tt(tt({},t),{ref:e});return new A(P.FILE,n).create()})),pt=(new g).create();function ft(t,e,n){var r="";return n||(r+=t+" "),e&&(r+=""+e),r}function lt(t){switch(t){case P.TEXT:case P.EMAIL:case P.PASSWORD:case P.TEXTAREA:return dt.INPUTS;case P.RADIO:return dt.RADIO_GROUPS;case P.CHECKBOX:return dt.CHECKBOXES;case P.SELECT:return dt.INPUTS;case P.FILE:return dt.FILES;default:return dt.INPUTS}}function ht(t){switch(t){case P.TEXT:case P.EMAIL:case P.PASSWORD:case P.TEXTAREA:return"value";case P.CHECKBOX:return"checked";case P.SELECT:return"value";case P.FILE:return"file";case P.RADIO:return"checked";default:return"value"}}var dt,mt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.INPUTS="inputs",t.RADIO_GROUPS="radioGroups",t.FILES="files",t.CHECKBOXES="checkboxes"}(dt||(dt={}));var vt={},bt={},Ot={},gt={},_t={bare:!1,state:{},formKey:null,debug:!1,dynamic:!0,metadata:{inputs:null,radioGroups:null,files:null,checkboxes:null}},Et=o.a.createContext(bt),jt=o.a.createContext(_t),Pt=jt.Provider,Ft=jt.Consumer,St=function(t){return function(e){e.preventDefault();var n=t.callback;"function"==typeof n&&n()&&n()}},xt=function(t){var e,n=Object(r.useState)(t.state),a=n[0],i=n[1],u=Object(r.useState)(_t),s=u[0],c=(u[1],Object(r.useState)(vt)),l=c[0],h=c[1],d=Object(r.useState)(gt),m=d[0],y=d[1],O=Object(r.useState)(Ot),g=O[0],_=O[1],E=Object(r.useState)(bt),j=E[0],P=E[1];if(t.context&&"setState"in t.context)Object(r.useEffect)((function(){t.context.setState(yt({},a))}),[a]);else{if(!t.context)throw new p(f);Object(r.useEffect)((function(){t.context(yt({},a))}),[a])}var F={bare:t.bare||s.bare,state:t.state,formKey:t.formKey,debug:t.debug||s.debug,dynamic:t.dynamic||s.dynamic,updateParentState:v(a,i,t.formKey),updateRadioGroupStateFromPassedInContext:b(a,i,t.formKey),metadata:(e={},e[dt.INPUTS]=new G(l,h,dt.INPUTS),e[dt.CHECKBOXES]=new G(m,y,dt.CHECKBOXES),e[dt.FILES]=new M(g,_,dt.FILES),e[dt.RADIO_GROUPS]=new U(j,P,dt.RADIO_GROUPS),e)};return o.a.createElement(Pt,{value:F},o.a.createElement("form",{onSubmit:St(t)},t.children))},wt=Vt((function(t,e,n){var r=function(t){if(t.formKey)return t.state[t.formKey];return t.state}(n);if(!(t in r))throw new Error("React-BareForms Error: No Field with name of "+t+" exists when calling 'areFieldsEqual' validator function.\n For more info, visit: https://joegasewicz.github.io/react-bare-forms/modules/_validators_.html#arefieldsequal");if(!r[t]||!e||e!==r[t])return["Fields do not match"]})),Tt=Vt((function(t,e,n){if(!(void 0!==e&&e.length>=t))return["Must be at least "+t+" characters"]})),Ct=Vt((function(t,e,n){if(!mt.test(String(e).toLowerCase()))return["Must be a valid email"]})),Nt=Vt((function(t,e,n){if(!e)return["Must be a file type"]})),At=Vt((function(t,e,n){if(!e)return["This option must be selected"]})),Rt=Vt((function(t,e,n){if(!1===e)return["Must be checked"]}));function Vt(t){return function(e){return void 0===e&&(e=null),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0],a=n[1],i=t(e,o,a);return Array.isArray(i)&&i.length>=1?{isValid:!1,messages:i}:{isValid:!0,messages:[]}}}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2NvbXBvbmVudHMudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2Vycm9ycy50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy91bmNyb250cm9sbGVkLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX2ZpbGUudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9faGFuZGxlcnMudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fU3VibWl0QnV0dG9uLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19BYnN0cmFjdEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9lbGVtZW50cy50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fQWJzdHJhY3RNZXRhZGF0YS50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19DaGVja0JveEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19GaWxlRmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2ZpZWxkX2NsYXNzZXMvX0lucHV0RmllbGQudHN4Iiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX01ldGFkYXRhLnRzIiwid2VicGFjazovL3JlYWN0LWJhcmUtbGliLy4vc3JjL2NvcmUvX01ldGFkYXRhRmlsZS50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fTWV0YWRhdGFHcm91cC50cyIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19SYWRpb0ZpZWxkLnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1iYXJlLWxpYi8uL3NyYy9maWVsZF9jbGFzc2VzL19TZWxlY3RGaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZmllbGRfY2xhc3Nlcy9fVGV4dEFyZWFGaWVsZC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9faGVscGVycy50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvY29yZS9fcmVnZXgudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvZm9ybS50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtYmFyZS1saWIvLi9zcmMvdmFsaWRhdG9ycy50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZhbGlkYXRpb25SZXN1bHRzIiwicHJvcHMiLCJyZXN1bHRzIiwic3R5bGVzIiwibWFwIiwicmVzdWx0IiwibWVzc2FnZXMiLCJtc2ciLCJpbmRleCIsImNsYXNzTmFtZSIsIkZvcm1FbGVtZW50VmFsaWRhdG9ycyIsIkZvcm1Db250ZXh0IiwiYmFyZSIsImlzVG91Y2hlZCIsIl90aHJvd05ld0Vycm9yTXNnIiwidHlwZSIsIm1lc3NhZ2UiLCJFcnJvciIsIl9ub0NvbnRleHRFcnJvciIsImNyZWF0ZUZpbGVSZWYiLCJjcmVhdGVSZWYiLCJnZXRGaWxlRnJvbVJlZiIsImZpbGVSZWYiLCJjdXJyZW50Iiwia2V5cyIsImZpbGVzIiwibGVuZ3RoIiwiY3JlYXRlRmlsZU9iamVjdCIsInJlZiIsImZpbGVEYXRhIiwibGFzdE1vZGlmaWVkIiwibGFzdE1vZGlmaWVkRGF0ZSIsInNpemUiLCJfZ2V0Q29ycmVjdFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSIsInBhcmVudFN0YXRlIiwiZm9ybUtleSIsIm9iaiIsInVwZGF0ZVBhcmVudFN0YXRlIiwic2V0UGFyZW50U3RhdGUiLCJlIiwidGFyZ2V0IiwidXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dCIsInJhZGlvR3JvdXAiLCJuZXdTdGF0ZSIsImNoaWxkcmVuIiwiR1JPVVBfVFlQRVMiLCJpc0dyb3VwIiwibWV0YVR5cGUiLCJ0aGlzIiwiaW5jbHVkZXMiLCJjb250ZXh0IiwiaXNEaXNhYmxlZCIsImRpc2FibGVkIiwibWV0YWRhdGEiLCJpbnB1dHMiLCJzdGF0ZSIsIm1ldGEiLCJtZXRhRmllbGQiLCJmaWVsZCIsImNoaWxkRmllbGQiLCJ2YWxpZGF0aW9uIiwiaXNWYWxpZCIsIl9nZW5lcmljRm9ybUdyb3VwIiwibGFiZWxUZXh0IiwiaGludCIsIkZJRUxEX05BTUVTIiwiaW5pdCIsIkJvb2xlYW4iLCJfYmFyZSIsInZhbCIsIl9tZXRhZGF0YSIsImdldE1ldGFkYXRhTmFtZVR5cGUiLCJnZXRQcm9wcyIsImNyZWF0ZUZpZWxkIiwiZmllbGRDYWxsYmFjayIsIl92YWxpZGF0ZSIsInZhbGlkYXRvcnMiLCJwYXJlbnROYW1lIiwiaXNGaWVsZFRvdWNoZWQiLCJ2YWxpZGF0ZSIsInBhcmVudCIsImZvcm1Hcm91cCIsImRvVmFsaWRhdGlvbiIsImdldEZpZWxkVmFsdWUiLCJ1cGRhdGUiLCJnZXRGaWVsZFZhbHVlVHlwZSIsIm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyIsImRlZmF1bHRWYWx1ZSIsImNzc1Byb3BzIiwiY3NzU3RyIiwib3ZlcnJpZGVFdmVudCIsImdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSIsInVwZGF0ZVN0YXRlIiwiX25hbWUiLCJfZmllbGRUeXBlIiwiZ2V0RmllbGQiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJfdXBkYXRlRmllbGRWYWxpZGF0aW9uIiwiZmlsZSIsIl9maWxlIiwiXyIsImRlZmF1bHRTdGF0ZSIsImZpZWxkVHlwZSIsImZpZWxkVmFsdWVzIiwiY3VycmVudFZhbHVlIiwiQWJzdHJhY3RNZXRhZGF0YSIsIl9jcmVhdGVHcm91cFN0YXRlIiwibWV0YUdyb3VwIiwiaGFuZGxlT25DaGFuZ2UiLCJyYWRpb0NvbnRleHQiLCJldmVudCIsIlJhZGlvR3JvdXBDb250ZXh0IiwiX3BhcmVudE5hbWUiLCJfZ2V0T3B0aW9ucyIsIm9wdGlvbnMiLCJvYmplY3RLZXkiLCJvYmplY3RWYWx1ZSIsIm9wdFZhbCIsInNlbGVjdERhdGEiLCJnZXRTZWxlY3RDc3NOYW1lIiwicm93cyIsIlRleHRJbnB1dEZpZWxkIiwiVEVYVCIsIkVtYWlsRmllbGQiLCJFTUFJTCIsIlBhc3N3b3JkRmllbGQiLCJQQVNTV09SRCIsIkNIRUNLQk9YIiwiVEVYVEFSRUEiLCJSYWRpb0dyb3VwIiwiY29udGV4dFZhbHVlIiwiUHJvdmlkZXIiLCJSQURJTyIsIlNFTEVDVCIsImZvcndhcmRSZWYiLCJfcHJvcHMiLCJGSUxFIiwiTUVUQURBVEFfTkFNRVMiLCJJTlBVVFMiLCJSQURJT19HUk9VUFMiLCJDSEVDS0JPWEVTIiwiRklMRVMiLCJFTUFJTF9SRUdFWCIsIklOUFVUU19TVEFURSIsIlJBRElPX0dST1VQU19TVEFURSIsIkZJTEVTX1NUQVRFIiwiQ0hFQ0tCT1hFU19TVEFURSIsInByb3ZpZGVyQ29udGV4dCIsImRlYnVnIiwiZHluYW1pYyIsInJhZGlvR3JvdXBzIiwiY2hlY2tib3hlcyIsImNyZWF0ZUNvbnRleHQiLCJGb3JtUHJvdmlkZXIiLCJGb3JtQ29uc3VtZXIiLCJDb25zdW1lciIsImhhbmRsZVN1Ym1pdCIsInByZXZlbnREZWZhdWx0IiwiY2FsbGJhY2siLCJGb3JtIiwiaW5wdXRTdGF0ZSIsInVwZGF0ZUlucHV0U3RhdGUiLCJjaGVja2JveGVzU3RhdGUiLCJ1cGRhdGVDaGVja2JveGVzU3RhdGUiLCJmaWxlU3RhdGUiLCJ1cGRhdGVGaWxlU3RhdGUiLCJyYWRpb1N0YXRlIiwidXBkYXRlUmFkaW9TdGF0ZSIsInNldFN0YXRlIiwiX0ZpZWxkRW1wdHlFcnJvck1zZyIsIl9wcm92aWRlckNvbnRleHQiLCJvblN1Ym1pdCIsImFyZUZpZWxkc0VxdWFsIiwiY3VzdG9tVmFsaWRhdG9yIiwiZmllbGRLZXkiLCJmaWVsZFZhbHVlIiwiY29udGV4dFN0YXRlIiwiZ2V0Rm9ybVN0YXRlRnJvbUNvbnRleHQiLCJpc0ZpZWxkRW1wdHkiLCJtaW5MZW5ndGgiLCJpc0VtYWlsVmFsaWQiLCJ0ZXN0IiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpc0ZpbGUiLCJpc1JhZGlvQ2hlY2tlZCIsImlzQ2hlY2tlZCIsImFyZyIsImFyZ3MiLCJBcnJheSIsImlzQXJyYXkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFNBQVVKLEdBQ1EsaUJBQVpDLFFBQ2RBLFFBQVEsa0JBQW9CRCxFQUFRRyxRQUFRLFVBRTVDSixFQUFLLGtC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QUFXSixFQUFZOUgsR0FFckYsVUFEdUMsSUFBZjhILEdBQThCQSxFQUFXdEosUUFBVTBKLEdBRXZFLE1BQU8sQ0FBQyxvQkFBb0JBLEVBQVMsa0JBb0JoQ0MsR0FBb0NQLElBQWdCLFNBQUN6RSxFQUFJMkUsRUFBWTlILEdBRTlFLElBRGdCNkYsR0FBWXVDLEtBQUtDLE9BQU9QLEdBQVlRLGVBRWhELE1BQU8sQ0FBQyw0QkF5QkhDLEdBQThCWCxJQUFnQixTQUFDekUsRUFBRzlILEVBQU0yRSxHQUNqRSxJQUFJM0UsRUFDQSxNQUFPLENBQUMsMEJBNEJIbU4sR0FBc0NaLElBQWdCLFNBQUN6RSxFQUFJcEgsRUFBT2lFLEdBQzNFLElBQUlqRSxFQUNBLE1BQU8sQ0FBQyxtQ0FxQkgwTSxHQUFpQ2IsSUFBZ0IsU0FBQ3pFLEVBQUcyRSxFQUFZOUgsR0FDMUUsSUFBa0IsSUFBZjhILEVBQ0MsTUFBTyxDQUFDLHNCQXFDVCxTQUFTRixHQUFnQmYsR0FDNUIsT0FBTyxTQUFDNkIsR0FDSixZQURJLElBQUFBLE1BQUEsTUFDRyxXLElBQUMsc0RBRUosSUFBTVosRUFBa0JhLEVBQUssR0FDdkIzSSxFQUF3QjJJLEVBQUssR0FDN0J2TCxFQUFXeUosRUFBUzZCLEVBQUtaLEVBQVk5SCxHQWEzQyxPQVhJNEksTUFBTUMsUUFBUXpMLElBQWFBLEVBQVNvQixRQUFVLEVBQzdCLENBQ2JtQyxTQUFTLEVBQ1R2RCxTQUFRLEdBR0ssQ0FDYnVELFNBQVMsRUFDVHZELFNBQVUiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJyZWFjdC1iYXJlLWxpYlwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJyZWFjdC1iYXJlLWxpYlwiXSA9IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX187IiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0LCB1c2VDb250ZXh0fSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7UmVhY3RFbGVtZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Rm9ybUNvbnRleHQsIElGb3JtQ29udGV4dCwgTUVUQURBVEFfTkFNRVN9IGZyb20gXCIuLi9mb3JtXCI7XG5cblxuXG4vKiogQGludGVybmFsICovXG5pbnRlcmZhY2UgSUZvcm1FbGVtZW50VmFsaWRhdG9ycyB7XG4gICAgcmVhZG9ubHkgcmVzdWx0czogQXJyYXk8SVZhbGlkYXRpb24+O1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSB0eXBlOiBNRVRBREFUQV9OQU1FUztcbiAgICByZWFkb25seSBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgcGFyZW50Pzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGlzVG91Y2hlZDogYm9vbGVhbjtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbnR5cGUgVHlwZVZhbGlkYXRpb25FbGVtZW50ID0geyByZXN1bHRzOiBBcnJheTxJVmFsaWRhdGlvbj4sIHN0eWxlczogc3RyaW5nIH07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBWYWxpZGF0aW9uUmVzdWx0cyhwcm9wczogVHlwZVZhbGlkYXRpb25FbGVtZW50KTogUmVhY3RFbGVtZW50PFR5cGVWYWxpZGF0aW9uRWxlbWVudD4ge1xuICAgIGNvbnN0IHsgcmVzdWx0cywgc3R5bGVzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKDw+e3Jlc3VsdHMubWFwKChyZXN1bHQ6IElWYWxpZGF0aW9uKSA9PlxuICAgICAgICByZXN1bHQubWVzc2FnZXMubWFwKChtc2c6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT5cbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtzdHlsZXN9Pnttc2d9PC9kaXY+XG4gICAgICAgICkpfTwvPik7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBGb3JtRWxlbWVudFZhbGlkYXRvcnMgPSAocHJvcHM6IElGb3JtRWxlbWVudFZhbGlkYXRvcnMpOiBSZWFjdEVsZW1lbnR8bnVsbCA9PiB7XG4gICAgY29uc3QgY29udGV4dDogSUZvcm1Db250ZXh0ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG4gICAgY29uc3Qgc3R5bGVzID0gIWNvbnRleHQuYmFyZSA/IGBhbGVydCBtdC0yIGFsZXJ0LWRhbmdlciAke3Byb3BzLmNsYXNzTmFtZX1gIDogcHJvcHMuY2xhc3NOYW1lO1xuICAgIGlmKHByb3BzLmlzVG91Y2hlZCl7XG4gICAgICAgIHJldHVybiA8VmFsaWRhdGlvblJlc3VsdHMgcmVzdWx0cz17cHJvcHMucmVzdWx0c30gc3R5bGVzPXtzdHlsZXMgfHwgXCJcIn0gLz5cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuIiwiLy8gRVJST1JTICYgRVhDRVBUSU9OIE1FU1NBR0VTXG4vL1xuLy8gVGhlIGJlbG93IGZ1bmN0aW9ucyBhcmUgb25seSBkZXNpZ25lZCB0byBjb25zdHJ1Y3QgRXJyb3IgJiBFeGNlcHRpb25zIG1lc3NhZ2VzLlxuLy8gVGhpcyBtYWtlcyBpdCBtdWNoIHNpbXBsZXIgdG8gdGVzdCwgd2hpbGUgbGVhdmluZyB0aGUgb3B0aW9uIHRvIHRocm93IGVpdGhlclxuLy8gYW4gRXJyb3Igb3IgYW4gRXhjZXB0aW9uIHRvIHRoZSBjYWxsZXIuXG5cblxuLyoqXG4gKlxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBuYW1lXG4gKiBAcGFyYW0gbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF90aHJvd05ld0Vycm9yTXNnID0gKHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICBgUmVhY3QgQmFyZSBGb3JtcyBFUlJPUjpcXG5cXHQke3R5cGV9IC0gJHtuYW1lfVxcblxcdC0gJHttZXNzYWdlfWA7XG5cblxuZXhwb3J0IGNvbnN0IF9pc0ZpZWxkRW1wdHlFcnJvck1zZyA9IF90aHJvd05ld0Vycm9yTXNnKFxuICAgIFwiRnVuY3Rpb25cIixcbiAgICBcImlzRmllbGRFbXB0eSgpXCIsXG4gICAgXCJNaXNzaW5nIGFyZ3VtZW50OiBtaW5MZW5ndGggKG51bWJlcilcIlxuKTtcblxuZXhwb3J0IGNsYXNzIF9GaWVsZEVtcHR5RXJyb3JNc2cgZXh0ZW5kcyBFcnJvciB7IH1cblxuZXhwb3J0IGNvbnN0IF9ub0NvbnRleHRFcnJvciA9IF90aHJvd05ld0Vycm9yTXNnKFxuICAgIFwiUmVxdWlyZWQgUHJvcHNcIixcbiAgICBcImNvbnRleHRcIixcbiAgICBcIllvdSBtdXN0IHBhc3MgaW4gYSBjb250ZXh0IHByb3AuIENsYXNzIGNvbXBvbmVudHMgdXNlICdzdGF0ZScgXCIgK1xuICAgIFwiJiBmdW5jdGlvbmFsIGNvbXBvbmVudHMgbXVzdCB1c2UgdXNlU3RhdGUgaG9vay4gU2VlIGh0dHBzOi8vam9lZ2FzZXdpY3ouZ2l0aHViLmlvL3JlYWN0LWJhcmUtZm9ybXMvbW9kdWxlcy9fZm9ybV8uaHRtbFwiXG4pO1xuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQdWJsaWMgdW5jb250cm9sbGVkIFJlYWN0IENvbXBvbmVudCBIZWxwZXIgZnVuY3Rpb25zXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0lGaWxlfSBmcm9tIFwiLi9jb3JlXCI7XG5cbi8qKlxuICogUkJGJ3MgcHJvdmlkZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBSZWFjdCByZWYgdG8gYWNjZXNzIHlvdXIgZmlsZSBvYmplY3QuXG4gKiBUbyB1c2UsIHNpbXBseSBhc3NpZ24gdGhlIHJldHVybmVkIHJlZiBmcm9tIHRoZSBjcmVhdGVGaWxlUmVmIGZ1bmN0aW9uIHRvIGFcbiAqIHZhcmlhYmxlICYgcGFzcyB0aGlzIHZhcmlhYmxlIHRvIEZpbGVGaWVsZCdzIHJlZiBwcm9wLlxuICogQHJldHVybnNcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiAgaW1wb3J0IHtjcmVhdGVGaWxlUmVmLCBGaWxlRmllbGQsIGlzRmlsZSwgZ2V0RmlsZUZyb21SZWZ9IGZyb20gXCJyZWFjdC1iYXJlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IG15RmlsZVJlZiA9IGNyZWF0ZUZpbGVSZWYoKTtcbiAqXG4gKiAgPEZpbGVGaWVsZFxuICogICAgIHJlZj17bXlGaWxlUmVmfVxuICogICAgIGhpbnQ9XCJNdXN0IGJlIGEgZmlsZVwiXG4gKiAgICAgbGFiZWxUZXh0PVwiVXBsb2FkIHlvdXIgZmlsZVwiXG4gKiAgICAgbmFtZT1cIm15RmlsZVRlc3RcIlxuICogICAgIHZhbGlkYXRvcnM9e1tpc0ZpbGUoKV19XG4gKiAgLz5cbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVSZWYoKTogUmVhY3QuUmVmT2JqZWN0PEhUTUxGb3JtRWxlbWVudD4ge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVSZWY8SFRNTEZvcm1FbGVtZW50PigpO1xufVxuXG4vKipcbiAqIFRvIGdldCBhIGZpbGUgb2JqZWN0IGJhY2sgZnJvbSB0aGUgcmVhY3QgcmVmLCB5b3UgY2FuIHVzZSBgZ2V0RmlsZUZyb21SZWZgIGZ1bmN0aW9uLlxuICogQHBhcmFtcyBUaGUgUmVhY3QgcmVmIHJldHVybmVkIGZyb20ge0BsaW5rIGNyZWF0ZUZpbGVSZWZ9XG4gKiBAcmV0dXJuc1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqICBpbXBvcnQge2NyZWF0ZUZpbGVSZWYsIEZpbGVGaWVsZCwgaXNGaWxlLCBnZXRGaWxlRnJvbVJlZn0gZnJvbSBcInJlYWN0LWJhcmUtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3QgbXlGaWxlUmVmID0gY3JlYXRlRmlsZVJlZigpO1xuICpcbiAqICA8RmlsZUZpZWxkXG4gKiAgICAgcmVmPXtteUZpbGVSZWZ9XG4gKiAgICAgaGludD1cIk11c3QgYmUgYSBmaWxlXCJcbiAqICAgICBsYWJlbFRleHQ9XCJVcGxvYWQgeW91ciBmaWxlXCJcbiAqICAgICBuYW1lPVwibXlGaWxlVGVzdFwiXG4gKiAgICAgdmFsaWRhdG9ycz17W2lzRmlsZSgpXX1cbiAqICAvPlxuICpcbiAqICBsZXQgZmlsZURhdGEgPSB7XG4gKiAgICAgIG15RmlsZTogZ2V0RmlsZUZyb21SZWYobXlGaWxlUmVmKVxuICogIH07XG4gKlxuICogIC8vIGZpbGVEYXRhLm15RmlsZSBpcyB5b3VyIEphdmFzY3JpcHQgRmlsZSBvYmplY3QuXG4gKlxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRnJvbVJlZihmaWxlUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50Pik6IElGaWxlfG51bGwge1xuICAgIGlmKGZpbGVSZWYgJiYgKGZpbGVSZWYgYXMgYW55KS5jdXJyZW50ICYmIE9iamVjdC5rZXlzKChmaWxlUmVmIGFzIGFueSkuY3VycmVudC5maWxlcykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAoZmlsZVJlZiBhcyBhbnkpLmN1cnJlbnQuZmlsZXNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Z2V0RmlsZUZyb21SZWZ9IGZyb20gXCIuLi91bmNyb250cm9sbGVkXCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGUge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBsYXN0TW9kaWZpZWQ6IHN0cmluZztcbiAgICByZWFkb25seSBsYXN0TW9kaWZpZWREYXRlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc2l6ZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVPYmplY3QocmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50Pik6IElGaWxlfG51bGwge1xuICAgIGxldCBmaWxlRGF0YSA9IGdldEZpbGVGcm9tUmVmKHJlZik7XG4gICAgaWYoZmlsZURhdGEpIHtcbiAgICAgICAgbGV0IHtuYW1lLCBsYXN0TW9kaWZpZWQsIGxhc3RNb2RpZmllZERhdGUsIHNpemUsIHR5cGV9ID0gZmlsZURhdGE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkLFxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkRGF0ZSxcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8vIEhhbmRsZXJzXG4vLyBIYW5kbGVycyBhcmUgbWV0aG9kcyBvbiB0aGUgY29udGV4dCBvYmplY3QgdGhhdCB1cGRhdGUgc3RhdGUuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7SVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0fSBmcm9tIFwiLi4vZm9ybVwiO1xuXG4vKiogQGludGVybmFsICovXG50eXBlIFR5cGVIYW5kbGVyID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4sIG5hbWU6IHN0cmluZykgPT4gdm9pZDtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gX2dldENvcnJlY3RTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkocGFyZW50U3RhdGU6IGFueSwgZm9ybUtleTogc3RyaW5nID0gXCJcIiwgb2JqOiBhbnkgPSB7fSk6IHtba2V5OiBzdHJpbmddOiBhbnl9IHtcbiAgICBpZihmb3JtS2V5KSB7XG4gICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtmb3JtS2V5XToge1xuICAgICAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlW2Zvcm1LZXldLFxuICAgICAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlLFxuICAgICAgICAgICAgLi4ub2JqLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBhcmVudFN0YXRlKHBhcmVudFN0YXRlOiBhbnksIHNldFBhcmVudFN0YXRlOiBGdW5jdGlvbiwgZm9ybUtleTogc3RyaW5nID0gXCJcIik6IFR5cGVIYW5kbGVyIHtcbiAgICByZXR1cm4gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4sIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRQYXJlbnRTdGF0ZSh7XG4gICAgICAgICAgICAuLi5wYXJlbnRTdGF0ZSxcbiAgICAgICAgICAgIC4uLl9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KHBhcmVudFN0YXRlLCBmb3JtS2V5LCB7W25hbWVdOiBlLnRhcmdldC52YWx1ZX0pLFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dChwYXJlbnRTdGF0ZTogYW55LCBzZXRQYXJlbnRTdGF0ZTogRnVuY3Rpb24sIGZvcm1LZXk6IHN0cmluZyA9IFwiXCIpIHtcbiAgICByZXR1cm4gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4sIG5hbWU6IHN0cmluZywgcmFkaW9Hcm91cDogSVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0KSA9PiB7XG4gICAgICAgIGlmIChyYWRpb0dyb3VwKSB7XG4gICAgICAgICAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICAgICAgIC4uLl9nZXRDb3JyZWN0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KHBhcmVudFN0YXRlLCBmb3JtS2V5LCB7W25hbWVdOiB0cnVlfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yKGxldCBjaGlsZHJlbiBvZiByYWRpb0dyb3VwLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYoY2hpbGRyZW4ucHJvcHMubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uX2dldENvcnJlY3RTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkobmV3U3RhdGUsIGZvcm1LZXksIHtbY2hpbGRyZW4ucHJvcHMubmFtZV06IGZhbHNlfSksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQYXJlbnRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5cblxuaW1wb3J0IHtGb3JtQ29udGV4dCwgSU1ldGFkYXRhLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBJQnV0dG9uPFQ+IHtcbiAgICBjcmVhdGUoKTogKHByb3BzOiBUKSA9PiBSZWFjdEVsZW1lbnQ8VD47XG59XG5cbmFic3RyYWN0IGNsYXNzIEJ1dHRvbjxUPiBpbXBsZW1lbnRzIElCdXR0b248VD4ge1xuXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZSgpOiAocHJvcHM6IFQpID0+IFJlYWN0RWxlbWVudDxUPjtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdWJtaXRCdXR0b25Qcm9wcyB7XG4gICAgdGV4dD86IHN0cmluZztcbiAgICBkaXNhYmxlZD86IGZhbHNlO1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICBjaGlsZHJlbj86IGFueTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFN1Ym1pdEJ1dHRvbiBpbXBsZW1lbnRzIEJ1dHRvbjxJU3VibWl0QnV0dG9uUHJvcHM+IHtcblxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBHUk9VUF9UWVBFUyA9IFtcInJhZGlvR3JvdXBzXCJdOyAvLyBUT0RPLi4uXG5cbiAgICBwcml2YXRlIGlzR3JvdXAobWV0YVR5cGU6IE1FVEFEQVRBX05BTUVTKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLkdST1VQX1RZUEVTLmluY2x1ZGVzKG1ldGFUeXBlKTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICByZXR1cm4gKHByb3BzOiBJU3VibWl0QnV0dG9uUHJvcHMpID0+IHtcbiAgICAgICAgICAgLy8gQ29udGV4dFxuICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG5cbiAgICAgICAgICAgLy8gU3R5bGVzXG4gICAgICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lID0gXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIsIGRpc2FibGVkID0gdHJ1ZX0gPSBwcm9wcztcblxuICAgICAgICAgICBsZXQgaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICBjb25zdCBpbnB1dFN0YXRlID0gY29udGV4dC5tZXRhZGF0YS5pbnB1dHMuc3RhdGU7XG4gICAgICAgICAgIGZvciAobGV0IG1ldGEgb2YgT2JqZWN0LmtleXMoY29udGV4dC5tZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgIGxldCBtZXRhRmllbGQgPSBjb250ZXh0Lm1ldGFkYXRhW21ldGEgYXMga2V5b2YgSU1ldGFkYXRhXS5zdGF0ZTtcbiAgICAgICAgICAgICAgIC8vIElmIGFsbCBhbGwgZmllbGRzIGFyZSB2YWxpZCB0aGVuIHBhc3MgdGhyb3VnaCB0aGUgZGVmYXVsdCBpc0Rpc2FibGVkIHZhbHVlXG4gICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgdGhhdCB0aGUgbWVtYmVyIGlzIG5vdCBwYXJ0IG9mIGEgbWV0YWRhdGEgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc0dyb3VwKGNvbnRleHQubWV0YWRhdGFbbWV0YSBhcyBrZXlvZiBJTWV0YWRhdGFdLm1ldGFUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBtZXRhRmllbGRbZmllbGRdLnZhbGlkYXRpb24pIHsgLy8gVE9ETyBEUllcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBncm91cCBtZXRhZGF0YSB2YWxpZGF0aW9uIGNoZWNrc1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIE9iamVjdC5rZXlzKG1ldGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgY2hpbGRGaWVsZCBvZiBPYmplY3Qua2V5cyhtZXRhRmllbGRbZmllbGRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY2hpbGQgPSAobWV0YUZpZWxkW2ZpZWxkXSBhcyBhbnkpW2NoaWxkRmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdmFsaWRhdGlvbiBvZiBfY2hpbGQudmFsaWRhdGlvbikgeyAvLyBUT0RPIERSWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICB9XG5cbiAgICAgICAgICAgcmV0dXJuICg8YnV0dG9uXG4gICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICA+e3Byb3BzLmNoaWxkcmVufTwvYnV0dG9uPik7XG4gICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgUmVhY3RFbGVtZW50LCB1c2VDb250ZXh0LCB1c2VFZmZlY3R9IGZyb20gXCJyZWFjdFwiO1xuXG5cbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZH0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBGb3JtRWxlbWVudFZhbGlkYXRvcnMsXG4gICAgZ2V0RmllbGRWYWx1ZVR5cGUsXG4gICAgZ2V0TWV0YWRhdGFOYW1lVHlwZSxcbn0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7XG4gICAgRm9ybUNvbnRleHQsXG4gICAgSUZvcm1Db250ZXh0LCBUeXBlRmllbGRWYWx1ZVR5cGVzLFxuICAgIFR5cGVGb3JtTWV0YWRhdGEsXG59IGZyb20gXCIuLi9mb3JtXCI7XG5cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBjaGlsZCBjbGFzcyBJbnB1dEZpZWxkIGNsYXNzIGhhcyBhICpmaWxlKiBtZW1iZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQWJzdHJhY3RGaWVsZDxUPiB7XG4gICAgY3JlYXRlOiAoY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiBSZWFjdEVsZW1lbnQ8VD47XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHByb3BzOiBUO1xuICAgIG1ldGFkYXRhOiBUeXBlRm9ybU1ldGFkYXRhO1xuICAgIGJhcmU6IGJvb2xlYW47XG4gICAgb3ZlcnJpZGVFdmVudDogKGU6IGFueSwgdmFsdWU6IGFueSkgPT4gUmVhY3QuQ2hhbmdlRXZlbnQ8YW55PjtcbiAgICBnZXRGaWVsZFZhbHVlOiAocHJvcHM6IGFueSkgPT4gYW55XG4gICAgdmFsaWRhdGU6ICgpID0+IEFycmF5PElWYWxpZGF0aW9uPjtcbiAgICBkb1ZhbGlkYXRpb246ICh2YWx1ZTogYW55KSA9PiBBcnJheTxJVmFsaWRhdGlvbj47XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2VuZXJpY0Zvcm1Hcm91cDxUIGV4dGVuZHMgSUZpZWxkPihwcm9wczogVCwgY2hpbGRyZW46IGFueSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAge3Byb3BzLmxhYmVsVGV4dCAmJiA8bGFiZWw+e3Byb3BzLmxhYmVsVGV4dH08L2xhYmVsPn1cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIHtwcm9wcy5oaW50ICYmIDxzbWFsbCBjbGFzc05hbWU9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPntwcm9wcy5oaW50fTwvc21hbGw+fVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RGaWVsZDxUIGV4dGVuZHMgSUZpZWxkPiB7XG4gICAgcHVibGljIHR5cGU6IEZJRUxEX05BTUVTO1xuICAgIHB1YmxpYyBwcm9wczogVDtcbiAgICBwdWJsaWMgcGFyZW50Pzogc3RyaW5nO1xuICAgIHB1YmxpYyBfbWV0YWRhdGE/OiBUeXBlRm9ybU1ldGFkYXRhO1xuICAgIHB1YmxpYyBfYmFyZT86IGJvb2xlYW47XG4gICAgcHVibGljIGNvbnRleHQ/OiBJRm9ybUNvbnRleHQ7XG4gICAgcHVibGljIHBhcmVudE5hbWU/OiBzdHJpbmc7XG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHJvcHM6IFQsIHR5cGU6IEZJRUxEX05BTUVTKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGJhcmUoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuX2JhcmUpO1xuICAgIH1cblxuICAgIHNldCBiYXJlKHZhbDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9iYXJlID0gdmFsO1xuICAgIH1cblxuICAgIGdldCBtZXRhZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9tZXRhZGF0YSBhcyBUeXBlRm9ybU1ldGFkYXRhKTtcbiAgICB9XG5cbiAgICBzZXQgbWV0YWRhdGEodmFsOiBUeXBlRm9ybU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gdmFsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdXNlQ29udGV4dDxJRm9ybUNvbnRleHQ+KEZvcm1Db250ZXh0KTtcbiAgICAgICAgLy8gdGhpcy5zdGF0ZUZyb21Gb3JtS2V5ID1cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHRoaXMuY29udGV4dC5tZXRhZGF0YVtnZXRNZXRhZGF0YU5hbWVUeXBlKHRoaXMudHlwZSldO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLmluaXQodGhpcy5wcm9wcy5uYW1lLCB0aGlzLnR5cGUpO1xuICAgICAgICB0aGlzLmJhcmUgPSBCb29sZWFuKHRoaXMuY29udGV4dC5iYXJlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0UHJvcHMoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVGaWVsZChmaWVsZENhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICBjb25zdCBfdmFsaWRhdGUgPSB0aGlzLnByb3BzLnZhbGlkYXRvcnMgfHwgdGhpcy5wYXJlbnROYW1lID9cbiAgICAgICAgICAgIDxGb3JtRWxlbWVudFZhbGlkYXRvcnNcbiAgICAgICAgICAgICAgICBpc1RvdWNoZWQ9e3RoaXMubWV0YWRhdGEuaXNGaWVsZFRvdWNoZWQoKX1cbiAgICAgICAgICAgICAgICByZXN1bHRzPXt0aGlzLnZhbGlkYXRlKCl9XG4gICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgIHR5cGU9e2dldE1ldGFkYXRhTmFtZVR5cGUodGhpcy50eXBlKX1cbiAgICAgICAgICAgICAgICBwYXJlbnQ9e3RoaXMucGFyZW50fVxuICAgICAgICAgICAgLz4gOlxuICAgICAgICAgICAgbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5iYXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gKDw+e2ZpZWxkQ2FsbGJhY2sodGhpcy5tZXRhZGF0YS5zdGF0ZSl9e192YWxpZGF0ZX08Lz4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICg8Pnt0aGlzLmZvcm1Hcm91cChmaWVsZENhbGxiYWNrKHRoaXMubWV0YWRhdGEuc3RhdGUpKX17X3ZhbGlkYXRlfTwvPik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgIHB1YmxpYyBkb1ZhbGlkYXRpb24odmFsdWU6IGFueSk6IEFycmF5PElWYWxpZGF0aW9uPiB7XG4gICAgICAgbGV0IHZhbGlkYXRpb246IEFycmF5PElWYWxpZGF0aW9uPiA9IFtdO1xuICAgICAgIC8vIENhcnJ5IG91dCB0aGUgdmFsaWRhdGlvblxuICAgICAgIGlmKHRoaXMucHJvcHMudmFsaWRhdG9ycykge1xuICAgICAgICAgICBmb3IobGV0IHZhbGlkYXRlIG9mIHRoaXMucHJvcHMudmFsaWRhdG9ycykge1xuICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IFtcbiAgICAgICAgICAgICAgICAgICAuLi52YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKHZhbHVlLCB0aGlzLmNvbnRleHQpLFxuICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cblxuICAgICAgIHJldHVybiB2YWxpZGF0aW9uO1xuICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQGRlc2NyaXB0aW9uIE5vcm1hbGx5LCB0aGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBmcm9tIHRoaXMgc3VwZXIgY2xhc3MuIEJ1dCBpdCBpcyBwdWJsaWMgYXNcbiAgICAgKiB0aGVyZSBhcmUgc29tZSBlZGdlIGNhc2VzIHdoZXJlIGl0IG5lZWRzIHRvIGJlIGNhbGxlZCBieSBhIGNoaWxkIGNsYXNzIHRoYXQgZXh0ZW5kcyBBYnN0cmFjdEZpZWxkLlxuICAgICAqL1xuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiBBcnJheTxJVmFsaWRhdGlvbj4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEZpZWxkVmFsdWUodGhpcy5wcm9wcyk7XG4gICAgICAgIC8vIENhcnJ5IG91dCB0aGUgdmFsaWRhdGlvblxuICAgICAgICBsZXQgdmFsaWRhdGlvbiA9IHRoaXMuZG9WYWxpZGF0aW9uKHZhbHVlKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtZXRhZGF0YSB0eXBlIHN0YXRlXG4gICAgICAgIHRoaXMubWV0YWRhdGEudXBkYXRlKHZhbHVlLCB2YWxpZGF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmFkaW9GaWVsZCBzdWIgY2xhc3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShwcm9wczogVCk6IGFueSB7XG4gICAgICAgIGxldCB0eXBlID0gZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy50eXBlKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLnByb3BzIGFzIFQgJiBUeXBlRmllbGRWYWx1ZVR5cGVzKVt0eXBlIGFzIGFueV07XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3RFbGVtZW50O1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEZpZWxkKCk6IChjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IFJlYWN0RWxlbWVudDtcblxuICAgIHN0YXRpYyBtZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGNzc1Byb3BzOiBhbnksIGJhcmU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICBsZXQgY3NzU3RyID0gXCJcIjtcbiAgICAgICAgaWYgKCFiYXJlKSB7XG4gICAgICAgICAgICBjc3NTdHIgKz0gYCR7ZGVmYXVsdFZhbHVlfSBgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjc3NQcm9wcykge1xuICAgICAgICAgICAgY3NzU3RyICs9IGAke2Nzc1Byb3BzfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNzc1N0cjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3ZlcnJpZGVFdmVudChlOiBhbnksIHZhbHVlOiBhbnkpOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAuLi5lLnRhcmdldCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogIXZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQ/LmZvcm1LZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3RhdGVbdGhpcy5jb250ZXh0LmZvcm1LZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LnN0YXRlO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtJVmFsaWRhdG9yc30gZnJvbSBcIi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBJRm9ybSxcbiAgICBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQsXG4gICAgUmFkaW9Hcm91cENvbnRleHQsXG4gICAgVHlwZVJhZGlvR3JvdXBNZXRhZGF0YSxcbn0gZnJvbSBcIi4vZm9ybVwiO1xuaW1wb3J0IHtTdWJtaXRCdXR0b24gYXMgX1N1Ym1pdEJ1dHRvbix9IGZyb20gXCIuL2ZpZWxkX2NsYXNzZXMvX1N1Ym1pdEJ1dHRvblwiO1xuaW1wb3J0IHtcbiAgICBDaGVja0JveEZpZWxkIGFzIF9DaGVja0JveEZpZWxkLFxuICAgIEZpbGVGaWVsZCBhcyBfRmlsZUZpZWxkLFxuICAgIElucHV0RmllbGQsXG4gICAgUmFkaW9GaWVsZCBhcyBfUmFkaW9GaWVsZCxcbiAgICBTZWxlY3RGaWVsZCBhcyBfU2VsZWN0RmllbGQsXG4gICAgVGV4dEFyZWFGaWVsZCBhcyBfVGV4dEFyZWFGaWVsZCxcbn0gZnJvbSBcIi4vZmllbGRfY2xhc3Nlc1wiO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZW51bSBGSUVMRF9OQU1FUyB7XG4gICAgVEVYVCA9IFwidGV4dFwiLFxuICAgIEVNQUlMID0gXCJlbWFpbFwiLFxuICAgIFBBU1NXT1JEID0gXCJwYXNzd29yZFwiLFxuICAgIFRFWFRBUkVBID0gXCJ0ZXh0QXJlYVwiLFxuICAgIFJBRElPICA9IFwicmFkaW9cIixcbiAgICBDSEVDS0JPWCA9IFwiY2hlY2tib3hcIixcbiAgICBTRUxFQ1QgPSBcInNlbGVjdFwiLFxuICAgIEZJTEUgPSBcImZpbGVcIixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmllbGQge1xuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgZm9ybSBlbGVtZW50ICh0aGlzIHNob3VsZCBtYXRjaCB0aGUgc3RhdGUgcHJvcGVydHkgdGhhdCB5b3Ugd2FudCBiZSB1cGRhdGVkIGJ5IHRoaXMgZm9ybSBlbGVtZW50KSAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgICAvKiogSWYgKmJhcmUqIChzZWUge0BsaW5rIElGb3JtLmJhcmV9KSBpcyBzZXQgdG8gdHJ1ZSB0aGVuICpsYWJlbFRleHQqIHdpbGwgYmUgaW5zZXJ0ZWQgd2l0aGluICoqbGFiZWwqKiB0YWdzLiAqL1xuICAgIGxhYmVsVGV4dD86IHN0cmluZztcbiAgICAvKiogSWYgKmJhcmUqIChzZWUge0BsaW5rIEZvcm0uYmFyZX0pIGlzIHNldCB0byB0cnVlIHRoZW4gKmhpbnQqIHdpbGwgYmUgaW5zZXJ0ZWQgd2l0aGluICoqc21hbGwqKiB0YWdzLiAqL1xuICAgIGhpbnQ/OiBzdHJpbmc7XG4gICAgLyoqIFRoZXNlIGFyZSB0aGUge0BsaW5rIElWYWxpZGF0b3JzfSB0aGF0IHlvdSBjYW4gcGFzcyBpbiB0aGUgdmFsaWRhdGUgdGhlIGZvcm0gZWxlbWVudC4gKi9cbiAgICB2YWxpZGF0b3JzPzogSVZhbGlkYXRvcnM7XG4gICAgLyoqIEFkZCBhZGRpdGlvbmFsIGNzcyAqL1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVGV4dElucHV0RmllbGQgZXh0ZW5kcyBJRmllbGQge1xuICAgIC8qKiBUaGUgc3RhdGUgcHJvcGVydHkgdGhhdCBnZXRzIHVwZGF0ZWQgYnkgdGhpcyBpbnB1dCBmaWVsZCAqL1xuICAgIHZhbHVlOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhc3N3b3JkRmllbGQgZXh0ZW5kcyBJRmllbGQge1xuICAgIC8qKiBUaGUgc3RhdGUgcHJvcGVydHkgdGhhdCBnZXRzIHVwZGF0ZWQgYnkgdGhpcyBpbnB1dCBmaWVsZCAqL1xuICAgIHZhbHVlOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVtYWlsRmllbGQgZXh0ZW5kcyBJRmllbGQge1xuICAgIC8qKiBUaGUgc3RhdGUgcHJvcGVydHkgdGhhdCBnZXRzIHVwZGF0ZWQgYnkgdGhpcyBpbnB1dCBmaWVsZCAqL1xuICAgIHZhbHVlOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoZWNrQm94RmllbGQgZXh0ZW5kcyBJRmllbGQge1xuICAgIGNoZWNrZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRleHRBcmVhRmllbGQgZXh0ZW5kcyBJRmllbGQge1xuICAgIHJvd3M/OiBudW1iZXI7XG4gICAgLyoqIFRoZSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IGdldHMgdXBkYXRlZCBieSB0aGlzIGlucHV0IGZpZWxkICovXG4gICAgdmFsdWU6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9GaWVsZCBleHRlbmRzIElGaWVsZCB7XG4gICAgY2hlY2tlZDogYm9vbGVhbjtcbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVGaWVsZCBleHRlbmRzIElGaWVsZCB7XG4gICAgcmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50Pjtcbn1cblxuZXhwb3J0IHR5cGUgVHlwZVNlbGVjdENzc1NpemVOYW1lID0gfFwic21cInxcImRlZmF1bHRcInxcImxnXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNlbGVjdEZpZWxkIGV4dGVuZHMgSUZpZWxkIHtcbiAgICB2YWx1ZTogYW55O1xuICAgIG9wdGlvbnM6IEFycmF5PHN0cmluZ3x7W2s6IHN0cmluZ106IGFueX0+O1xuICAgIHNpemU/OiBUeXBlU2VsZWN0Q3NzU2l6ZU5hbWU7XG4gICAgb2JqZWN0S2V5Pzogc3RyaW5nO1xuICAgIG9iamVjdFZhbHVlPzogc3RyaW5nO1xuXG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVRleHRJbnB1dEZpZWxkfVxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7VGV4dElucHV0RmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IHVzZXJuYW1lOiBcIlwiIH1cbiAqXG4gKiAvLyBBIGJhcmUgZm9ybSBleGFtcGxlIC4uLiByZW1lbWJlciB0byBzZXQgdGhlIHtAbGluayBGb3JtLmJhcmV9IHByb3BlcnR5IHRvIGB0cnVlYFxuICogPFRleHRJbnB1dEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUudXNlcm5hbWV9XG4gKiAgICBuYW1lPVwidXNlcm5hbWVcIlxuICogLz5cbiAqXG4gKiAvLyBFeGFtcGxlIHdpdGggQm9vdHN0cmFwIHN0eWxpbmcgKEJvb3RzdHJhcCBzdHlsaW5nIGNvbWVzIGFzIGRlZmF1bHQpXG4gKlxuICogPFRleHRJbnB1dEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUudXNlcm5hbWV9XG4gKiAgICBuYW1lPVwidXNlcm5hbWVcIlxuICogICAgaGludD1cIk5lZWRzIHRvIGJlIGF0IGxlYXN0IDUwIGNoYXJhY3RlcnMgbG9uZ1wiXG4gKiAgICBsYWJlbFRleHQ9XCJVc2VybmFtZVwiXG4gKiAgLz5cbiAqIGBgYFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0SW5wdXRGaWVsZCA9IChwcm9wczogSVRleHRJbnB1dEZpZWxkKSA9PiB7XG4gIGNvbnN0IHRleHRJbnB1dCA9IG5ldyBJbnB1dEZpZWxkPElUZXh0SW5wdXRGaWVsZD4oRklFTERfTkFNRVMuVEVYVCwgcHJvcHMpO1xuICByZXR1cm4gdGV4dElucHV0LmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElFbWFpbEZpZWxkfVxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7RW1haWxGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgZW1haWw6IFwiXCIgfVxuICpcbiAqIC8vIEEgYmFyZSBmb3JtIGV4YW1wbGUgLi4uIHJlbWVtYmVyIHRvIHNldCB0aGUge0BsaW5rIEZvcm0uYmFyZX0gcHJvcGVydHkgdG8gYHRydWVgXG4gKiA8RW1haWxGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLmVtYWlsfVxuICogICAgbmFtZT1cImVtYWlsXCJcbiAqIC8+XG4gKlxuICogLy8gRXhhbXBsZSB3aXRoIEJvb3RzdHJhcCBzdHlsaW5nIChCb290c3RyYXAgc3R5bGluZyBjb21lcyBhcyBkZWZhdWx0KVxuICpcbiAqIDxFbWFpbEZpZWxkXG4gKiAgICB2YWx1ZT17c3RhdGUuZW1haWx9XG4gKiAgICBuYW1lPVwiZW1haWxcIlxuICogICAgaGludD1cIk5lZWRzIHRvIGJlIGF0IGxlYXN0IDUwIGNoYXJhY3RlcnMgbG9uZ1wiXG4gKiAgICBsYWJlbFRleHQ9XCJVc2VybmFtZVwiXG4gKiAgLz5cbiAqIGBgYFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBFbWFpbEZpZWxkID0gKHByb3BzOiBJRW1haWxGaWVsZCkgPT4ge1xuICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBuZXcgSW5wdXRGaWVsZDxJRW1haWxGaWVsZD4oRklFTERfTkFNRVMuRU1BSUwsIHByb3BzKTtcbiAgICByZXR1cm4gZW1haWxJbnB1dC5jcmVhdGUoKTtcbn07XG5cbi8qKlxuICogIFRoZSBgUGFzc3dvcmRGaWVsZGAgd29ya3MgdGhlIHNhbWUgYXMgdGhlIGBFbWFpbEZpZWxkYCAmIGBUZXh0SW5wdXRGaWVsZGAncy5cbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVBhc3N3b3JkRmllbGR9XG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHthcmVGaWVsZHNFcXVhbCwgaXNGaWVsZEVtcHR5LCBQYXNzd29yZEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgcGFzc3dvcmQ6IFwiXCIsIGNvbmZpcm1QYXNzd29yZDogXCJcIiB9O1xuICpcbiAqIC8vIEEgYmFyZSBmb3JtIGV4YW1wbGUgLi4uIHJlbWVtYmVyIHRvIHNldCB0aGUge0BsaW5rIEZvcm0uYmFyZX0gcHJvcGVydHkgdG8gYHRydWVgXG4gKiA8UGFzc3dvcmRGaWVsZFxuICogICAgdmFsdWU9e3N0YXRlLnBhc3N3b3JkfVxuICogICAgbmFtZT1cInVzZXJuYW1lXCJcbiAqICAgIHZhbGlkYXRvcnM9e1tpc0ZpZWxkRW1wdHkoOCldfVxuICogLz5cbiAqXG4gKiAvLyBFeGFtcGxlIHdpdGggQm9vdHN0cmFwIHN0eWxpbmcgKEJvb3RzdHJhcCBzdHlsaW5nIGNvbWVzIGFzIGRlZmF1bHQpXG4gKlxuICogPFBhc3N3b3JkRmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS5jb25maXJtUGFzc3dvcmR9XG4gKiAgICBuYW1lPVwicGFzc3dvcmRcIlxuICogICAgaGludD1cIk5lZWRzIHRvIGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nXCJcbiAqICAgIGxhYmVsVGV4dD1cIlBhc3N3b3JkXCJcbiAqICAvPlxuICogIGBgYFxuICogQWxzbyB3ZSBjYW4gY3JlYXRlIHR3byAqUGFzc3dvcmRGaWVsZCogY29tcG9uZW50cyB0byBjb25maXJtIHBhc3N3b3JkcyBhcmUgZXF1YWwuIFBsZWFzZSBzZWVcbiAqIHtAbGluayBhcmVGaWVsZHNFcXVhbH0gZm9yIG1vcmUgaW5mby5cbiAqIFRoZSBmaXJzdCAqUGFzc3dvcmRGaWVsZCogaGFzIGhhcyBhICpuYW1lKiBwcm9wIG9mICoqcGFzc3dvcmQqKiAmIHRoZSBzZWNvbmQgKlBhc3N3b3JkRmllbGQqIGEgbmFtZVxuICogcHJvcCBvZiAqY29uZmlybVBhc3N3b3JkKi4gVGhlbiB3ZSBjYW4gYWRkIGEge0BsaW5rIGFyZUZpZWxkc0VxdWFsfSB2YWxpZGF0b3IgdG8gdGhlICpQYXNzd29yZEZpZWxkKlxuICogd2l0aCB0aGUgKmNvbmZpcm1QYXNzd29yZCogbmFtZSBwcm9wcyAoYWxzbyBub3RpY2UgaG93IHtAbGluayBhcmVGaWVsZHNFcXVhbH0gdGFrZXMgdGhlIGZpcnN0ICpQYXNzd29yZEZpZWxkKlxuICogbmFtZSBhcyBhbiBhcmd1bWVudCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogPFBhc3N3b3JkRmllbGRcbiAqICBuYW1lPVwicGFzc3dvcmRcIlxuICogIC8vIG90aGVyIHByb3BzLi4uXG4gKlxuICogLz5cbiAqXG4gKiA8UGFzc3dvcmRGaWVsZFxuICogIG5hbWU9XCJjb25maXJtUGFzc3dvcmRcIlxuICogIC8vIG90aGVyIHByb3BzLi4uXG4gKiAgdmFsaWRhdG9ycz17W2FyZUZpZWxkc0VxdWFsKFwicGFzc3dvcmRcIildfVxuICogLz5cbiAqIGBgYFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgUGFzc3dvcmRGaWVsZCA9IChwcm9wczogSVBhc3N3b3JkRmllbGQpID0+IHtcbiAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IG5ldyBJbnB1dEZpZWxkPElQYXNzd29yZEZpZWxkPihGSUVMRF9OQU1FUy5QQVNTV09SRCwgcHJvcHMpO1xuICByZXR1cm4gcGFzc3dvcmRJbnB1dC5jcmVhdGUoKTtcbn07XG5cblxuXG4vKipcbiAqIFRoZSBDaGVja0JveEZpZWxkIHJlcXVpcmVzIGEgKmNoZWNrZWQqIHByb3AgaW5zdGVhZCBvZiBhICp2YWx1ZSogcHJvcC4gU2VlXG4gKiB7QGxpbmsgSUNoZWNrQm94RmllbGR9LlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gQSBiYXJlIGZvcm0gZXhhbXBsZSAuLi4gcmVtZW1iZXIgdG8gc2V0IHRoZSB7QGxpbmsgRm9ybS5iYXJlfSBwcm9wZXJ0eSB0byBgdHJ1ZWBcbiAqICBpbXBvcnQge0NoZWNrQm94RmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBwYXNzd29yZDogXCJcIiwgY29uZmlybVBhc3N3b3JkOiBcIlwiIH07XG4gKlxuICogPENoZWNrQm94RmllbGRcbiAqICAgbmFtZT1cInRlcm1zXCJcbiAqICAgY2hlY2tlZD17c3RhdGUudGVybXN9XG4gKiAvPlxuICpcbiAqIC8vIEV4YW1wbGUgd2l0aCBCb290c3RyYXAgc3R5bGluZyAoQm9vdHN0cmFwIHN0eWxpbmcgY29tZXMgYXMgZGVmYXVsdClcbiAqIDxDaGVja0JveEZpZWxkXG4gKiAgIG5hbWU9XCJ0ZXJtc1wiXG4gKiAgIGNoZWNrZWQ9e3N0YXRlLnRlcm1zfVxuICogICBoaW50PVwiQ2xpY2sgdG8gYWdyZWVcIlxuICogICBsYWJlbFRleHQ9XCJBZ3JlZSB0byB0ZXJtcyAmIGNvbmRpdGlvbnNcIlxuICogLz5cbiAqIGBgYFxuICogQHBhcmFtIHByb3BzIHtAbGluayBJQ2hlY2tCb3hGaWVsZH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgQ2hlY2tCb3hGaWVsZCA9IChwcm9wczogSUNoZWNrQm94RmllbGQpID0+IHtcbiAgY29uc3QgY2hlY2tCb3ggPSBuZXcgX0NoZWNrQm94RmllbGQ8SUNoZWNrQm94RmllbGQ+KEZJRUxEX05BTUVTLkNIRUNLQk9YLCBwcm9wcyk7XG4gIHJldHVybiBjaGVja0JveC5jcmVhdGUoKTtcbn07XG5cbi8qKlxuICogVGhlIFRleHRBcmVhRmllbGQgdGFrZXMgaW4gYW4gZXh0cmEgcHJvcCBvZiAqcm93KiB3aGljaCBpcyBhIG51bWJlciAmIGRlY2xhcmVzXG4gKiB0aGUgbnVtYmVyIG9mIHJvd3MgZGlzcGxheWVkIGJ5IHRoZSB0ZXh0YXJlYSBlbGVtZW50LiBUaGUgVGV4dEFyZWFGaWVsZCBhY2NlcHRzXG4gKiBhbGwgdGhlIHtAbGluayBJRmllbGR9IHByb3BzLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogICogIGltcG9ydCB7Q2hlY2tCb3hGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IGFib3V0OiBcIlwiIH07XG4gKiAvLyBBIGJhcmUgZm9ybSBleGFtcGxlIC4uLiByZW1lbWJlciB0byBzZXQgdGhlIHtAbGluayBGb3JtLmJhcmV9IHByb3BlcnR5IHRvIGB0cnVlYFxuICogPFRleHRBcmVhRmllbGRcbiAqICAgIHZhbHVlPXtzdGF0ZS5hYm91dH1cbiAqICAgIG5hbWU9XCJhYm91dFwiXG4gKiAgICB2YWxpZGF0b3JzPXtbaXNGaWVsZEVtcHR5KDIwKV19XG4gKiAvPlxuICpcbiAqIC8vIEV4YW1wbGUgd2l0aCBCb290c3RyYXAgc3R5bGluZyAoQm9vdHN0cmFwIHN0eWxpbmcgY29tZXMgYXMgZGVmYXVsdClcbiAqXG4gKiA8VGV4dEFyZWFGaWVsZFxuICogICAgbmFtZT1cImFib3V0XCJcbiAqICAgIHZhbHVlPXtzdGF0ZS5hYm91dH1cbiAqICAgIGhpbnQ9XCJNdXN0IGJlIGF0IGxlYXN0IDIwIGNoYXJhY3RlcnNcIlxuICogICAgbGFiZWxUZXh0PVwiQWJvdXQgeW91Li4uXCJcbiAqICAgIHZhbGlkYXRvcnM9e1tpc0ZpZWxkRW1wdHkoMjApXX1cbiAqIC8+XG4gKiBgYGBcbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVRleHRJbnB1dEZpZWxkfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0QXJlYUZpZWxkID0gKHByb3BzOiBJVGV4dEFyZWFGaWVsZCkgPT4ge1xuICBjb25zdCB0ZXh0QXJlYSA9IG5ldyBfVGV4dEFyZWFGaWVsZDxJVGV4dEFyZWFGaWVsZD4oRklFTERfTkFNRVMuVEVYVEFSRUEsIHByb3BzKTtcbiAgcmV0dXJuIHRleHRBcmVhLmNyZWF0ZSgpO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9Hcm91cFByb3BzIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY2hpbGRyZW46IGFueTtcbn1cblxuLyoqXG4gKiBAcHJvcHMge0BsaW5rIElSYWRpb0dyb3VwUHJvcHN9XG4gKiBAcGFyYW0gcHJvcHMgVGhlIGBSYWRpb0dyb3VwYCBjb21wb25lbnQgdGFrZXMgYSBzaW5nbGUgcHJvcHMgb2YgYG5hbWVgLCB3aGljaFxuICogbXVzdCBiZSBhIHVuaXF1ZSB0byBhIGZvcm0uIFNlZSB7QGxpbmsgUmFkaW9GaWVsZH0uXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHtDaGVja0JveEZpZWxkfSBmcm9tIFwicmVhY3QtYmFzZS1mb3Jtc1wiO1xuICpcbiAqICBjb25zdCBzdGF0ZSA9IHsgbWFsZTogdHJ1ZSwgZmVtYWxlOiBmYWxzZSB9O1xuICpcbiAqICA8UmFkaW9Hcm91cCBuYW1lPVwiZ3JvdXAxXCI+XG4gKiAgICAvLyBwbGFjZSBSYWRpb0ZpZWxkcyBjb21wb25lbnRzIGhlcmUuLi5cbiAqICA8L1JhZGlvR3JvdXA+XG4gKiBgYGBcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYWRpb0dyb3VwKHByb3BzOiBJUmFkaW9Hcm91cFByb3BzKSB7XG4gICAgY29uc3QgY29udGV4dFZhbHVlOiBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQgPSB7cGFyZW50OiB7bmFtZTogcHJvcHMubmFtZX0sIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbn07XG4gICAgcmV0dXJuIDxSYWRpb0dyb3VwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlIGFzIFR5cGVSYWRpb0dyb3VwTWV0YWRhdGF9Pntwcm9wcy5jaGlsZHJlbn08L1JhZGlvR3JvdXBDb250ZXh0LlByb3ZpZGVyPjtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHByb3BzIHtAbGluayBJUmFkaW9GaWVsZH1cbiAqIEBjb25zdHJ1Y3RvclxuICogYFJhZGlvRmllbGRgIGlucHV0cyBhcmUgZGVzaWduZWQgdG8gYmUgdXNlZCB3aXRoIHRoZSB7QGxpbmsgUmFkaW9Hcm91cH0gY29tcG9uZW50LlxuICogIFRvIHVzZSB0aGlzIGNvbXBvbmVudCwgYWRkIG9yIG5lc3QgaXQgd2l0aGluIGEge0BsaW5rIFJhZGlvR3JvdXB9IGNvbXBvbmVudCBhcyBjaGlsZHJlbi5cbiAqICBJdCdzIHBvc3NpYmxlIHRvIGFsc28gdXNlIHZhbGlkYXRvcnMgd2l0aCBhIFJhZGlvR3JvdXAsIGFzIHNob3duIGJlbG93OlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogIGltcG9ydCB7aXNSYWRpb0NoZWNrZWQsIFJhZGlvRmllbGQsIFJhZGlvR3JvdXB9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCI7XG4gKlxuICogIGNvbnN0IHN0YXRlID0geyBtYWxlOiB0cnVlLCBmZW1hbGU6IGZhbHNlIH07XG4gKlxuICogIDxSYWRpb0dyb3VwIG5hbWU9XCJncm91cDFcIj5cbiAqICAgIDxSYWRpb0ZpZWxkXG4gKiAgICAgIG5hbWU9XCJtYWxlXCJcbiAqICAgICAgY2hlY2tlZD17c3RhdGUubWFsZX1cbiAqICAgICAgaGludD1cIkNsaWNrIHRvIGFncmVlXCJcbiAqICAgICAgbGFiZWxUZXh0PVwiQWdyZWUgdG8gdGVybXMgJiBjb25kaXRpb25zXCJcbiAqICAgIC8+XG4gKlxuICogICAgPFJhZGlvRmllbGRcbiAqICAgICAgbmFtZT1cImZlbWFsZVwiXG4gKiAgICAgIGNoZWNrZWQ9e3N0YXRlLmZlbWFsZX1cbiAqICAgICAgaGludD1cIkNsaWNrIHRvIGFncmVlXCJcbiAqICAgICAgbGFiZWxUZXh0PVwiQWdyZWUgdG8gdGVybXMgJiBjb25kaXRpb25zXCJcbiAqICAgICAgdmFsaWRhdG9ycz17W2lzUmFkaW9DaGVja2VkKCldfVxuICogICAgLz5cbiAqXG4gKiAgPC9SYWRpb0dyb3VwPlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBSYWRpb0ZpZWxkID0gKHByb3BzOiBJUmFkaW9GaWVsZCkgPT4ge1xuICAgIGNvbnN0IHJhZGlvID0gbmV3IF9SYWRpb0ZpZWxkKEZJRUxEX05BTUVTLlJBRElPLCBwcm9wcyk7XG4gICAgcmV0dXJuIHJhZGlvLmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0byByZW5kZXIgYSBzZWxlY3QgZmllbGQgZWxlbWVudC5cbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVNlbGVjdEZpZWxkfVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAgaW1wb3J0IHtTZWxlY3RGaWVsZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiAgY29uc3Qgc3RhdGUgPSB7IGZydWl0Q2hvaWNlOiBcIlwiIH07XG4gKlxuICogPFNlbGVjdEZpZWxkXG4gKiAgIHNpemU9XCJsZ1wiXG4gKiAgIHZhbHVlPXtzdGF0ZS5mcnVpdENob2ljZX1cbiAqICAgbmFtZT1cImZydWl0Q2hvaWNlXCJcbiAqICAgb3B0aW9ucz17W1wiYmFuYW5hXCIsIFwiYXBwbGVcIiwgXCJvcmFuZ2VcIl19XG4gKiAgLz5cbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgYnV0IHlvdSBtdXN0IHVzZSBib3RoIHRoZVxuICogKm9iamVjdEtleSogJiAqb2JqZWN0VmFsdWUqIHByb3BzLiB0aGUgYG9iamVjdEtleWAgd2lsbCB1cGRhdGUgeW91ciBzdGF0ZVxuICogdmFsdWUgJiB0aGUgYG9iamVjdFZhbHVlYCBpcyB3aGF0IGlzIGRpc3BsYXllZCB0byB0aGUgdXNlciBhcyBhbiBvcHRpb24uXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAvLyBUaGlzIGlzIHlvdXIgb3B0aW9uIGRhdGFcbiAqIGxldCBzZWxlY3REYXRhID0gW1xuICogICB7aWQ6IDEsIG5hbWU6IFwiZmlyc3RcIn0sXG4gKiAgIHtpZDogMiwgbmFtZTogXCJzZWNvbmRcIn0sXG4gKiBdO1xuICogLy8gVGhlIHN0YXRlIHdoaWNoIHdpbGwgcmVjZWl2ZSB0aGUgdXBkYXRlXG4gKiBsZXQgc3RhdGUgPSB7XG4gKiAgICBzZWxlY3RfZGF0YV9pZDogdW5kZWZpbmVkIGFzIGFueSxcbiAqIH07XG4gKlxuICogPFNlbGVjdEZpZWxkXG4gKiAgIHNpemU9XCJsZ1wiXG4gKiAgIHZhbHVlPXtzdGF0ZS5zZWxlY3RfZGF0YV9pZH1cbiAqICAgbmFtZT1cImZydWl0Q2hvaWNlXCJcbiAqICAgb2JqZWN0S2V5PVwiaWRcIiAvLyBWYWx1ZSB3aWxsIHVwZGF0ZSBzdGF0ZS5zZWxlY3RfZGF0YV9pZCBlLmcgKjEsIDIuLi4qXG4gKiAgIG9iamVjdFZhbHVlPVwibmFtZVwiIC8vIFZhbHVlIHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBzZWxlY3QgZmllbGQgZS5nICpmaXJzdCwgc2Vjb25kLi4uKlxuICogICBvcHRpb25zPXtzZWxlY3REYXRhfVxuICogLz5cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgU2VsZWN0RmllbGQgPSAocHJvcHM6IElTZWxlY3RGaWVsZCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdCA9IG5ldyBfU2VsZWN0RmllbGQoRklFTERfTkFNRVMuU0VMRUNULCBwcm9wcyk7XG4gICAgcmV0dXJuIHNlbGVjdC5jcmVhdGUoKTtcbn07XG5cbi8qKlxuICogVGhlIFN1Ym1pdEJ1dHRvbiBvbmx5IHJlcXVpcmVzIGEgdGV4dCBzdHJpbmcgYXMgY2hpbGRyZW4gcHJvcHMgKHNlZSBiZWxvdyBleGFtcGxlKS5cbiAqIFRoZSBTdWJtaXRCdXR0b24gd2lsbCBiZSBkaXNhYmxlZCB1bnRpbCBhbGwgZm9ybSBmaWVsZHMgYXJlIHZhbGlkYXRlZC5cbiAqIEBwYXJhbSBwcm9wcyB7QGxpbmsgSVN1Ym1pdEJ1dHRvblByb3BzfVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBpbXBvcnQge1N1Ym1pdEJ1dHRvbn0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIjtcbiAqXG4gKiA8U3VibWl0QnV0dG9uPlN1Ym1pdDwvU3VibWl0QnV0dG9uPlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlRmllbGQgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wczogSUZpbGVGaWVsZCwgcmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTEZvcm1FbGVtZW50PnxhbnkpID0+IHtcbiAgICBsZXQgX3Byb3BzID0gey4uLnByb3BzLCByZWYgfTtcbiAgICBjb25zdCBmaWxlID0gbmV3IF9GaWxlRmllbGQ8SUZpbGVGaWVsZD4oRklFTERfTkFNRVMuRklMRSwgX3Byb3BzKTtcbiAgICByZXR1cm4gZmlsZS5jcmVhdGUoKTtcbn0pO1xuXG5cbmV4cG9ydCBjb25zdCBTdWJtaXRCdXR0b24gPSBuZXcgX1N1Ym1pdEJ1dHRvbigpLmNyZWF0ZSgpO1xuIiwiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUFJJVkFURSBTRVJWSUNFIENMQVNTRVMgVE8gQ1JFQVRFIE1FVEFEQVRBIE9CSkVDVFNcbi8vICAxLiBBYnN0cmFjdE1ldGFkYXRhXG4vLyAgMi4gTWV0YWRhdGFcbi8vICAzLiBNZXRhZGF0YUdyb3VwXG4vL1xuLy8gIElNUE9SVEFOVDogT2JqZWN0cyB0aGF0IGltcGxlbWVudCBBYnN0cmFjdE1ldGFkYXRhIERPIE5PVCBjYXJlIGFib3V0IHRoZSBJRm9ybUNvbnRleHQuXG4vLyAgSU1QT1JUQU5UOiBNZXRhZGF0YSBvYmplY3RzIG9ubHkgY2FyZSBhYm91dCB0aGVpciBvd24gSU1ldGFkYXRhIHN0YXRlIHR5cGUgKHNlZSBNRVRBREFUQV9OQU1FUykuXG4vLyAgSU1QT1JUQU5UOiBDaGlsZHJlbiBvYmplY3RzIG9mIE1ldGFkYXRhR3JvdXAgY2FyZSBhYm91dCB0aGVpciBwYXJlbnROYW1lICYgdGhlaXIgb3duIHN0YXRlIHR5cGUgb25seS5cbmltcG9ydCB7TUVUQURBVEFfTkFNRVN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtGSUVMRF9OQU1FU30gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgaW50ZXJmYWNlIElNZXRhZGF0YTxUPiB7XG4gICAgc3RhdGU6IHtbazogc3RyaW5nXTogVH07XG4gICAgcmVhZG9ubHkgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uO1xuICAgIHJlYWRvbmx5IG1ldGFUeXBlOiBzdHJpbmc7XG4gICAgZmllbGRUeXBlOiBGSUVMRF9OQU1FUztcbiAgICBwYXJlbnROYW1lPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICBkZWZhdWx0U3RhdGU6IHt9O1xuICAgIGluaXQ6IChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpID0+IHZvaWQ7XG4gICAgdXBkYXRlOiAocHJvcHM6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KSA9PiB2b2lkO1xufVxuXG4vKiogQGludGVybmFsICoqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TWV0YWRhdGE8VD4gaW1wbGVtZW50cyBJTWV0YWRhdGE8VD4ge1xuICAgIHB1YmxpYyBzdGF0ZToge1trOiBzdHJpbmddOiBUfTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyByZWFkb25seSBtZXRhVHlwZTogTUVUQURBVEFfTkFNRVM7XG4gICAgcHVibGljIHBhcmVudE5hbWU/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZmllbGRUeXBlPzogRklFTERfTkFNRVM7XG4gICAgcHJpdmF0ZSBfbmFtZT86IHN0cmluZztcbiAgICBwdWJsaWMgYWJzdHJhY3QgZGVmYXVsdFN0YXRlOiBUO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIG1ldGFUeXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSB1cGRhdGVTdGF0ZTtcbiAgICAgICAgdGhpcy5tZXRhVHlwZSA9IG1ldGFUeXBlO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZSBhcyBzdHJpbmc7XG4gICAgfVxuXG4gICAgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbDtcbiAgICB9XG5cbiAgICBnZXQgZmllbGRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmllbGRUeXBlIGFzIGFueTtcbiAgICB9XG5cbiAgICBzZXQgZmllbGRUeXBlKHZhbDogRklFTERfTkFNRVMpIHtcbiAgICAgICAgdGhpcy5fZmllbGRUeXBlID0gdmFsO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGluaXQobmFtZTogc3RyaW5nLCBmaWVsZFR5cGU6IEZJRUxEX05BTUVTKTogdm9pZFxuXG4gICAgYWJzdHJhY3QgdXBkYXRlKHByb3BzOiBhbnksIHZhbGlkYXRpb246IEFycmF5PElWYWxpZGF0aW9uPik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgaXNGaWVsZFRvdWNoZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdGVbdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlW3RoaXMubmFtZV0gYXMgYW55KS5pc1RvdWNoZWQgYXMgYm9vbGVhbiAvLyBUT0RPIGZpeCB0eXBlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7QWJzdHJhY3RGaWVsZCwgSUFic3RyYWN0RmllbGR9IGZyb20gXCIuL19BYnN0cmFjdEZpZWxkXCI7XG5pbXBvcnQge0lGb3JtQ29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7RklFTERfTkFNRVMsIElGaWVsZH0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgQ2hlY2tCb3hGaWVsZDxUIGV4dGVuZHMgSUZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmllbGQodGhpcy5nZXRGaWVsZCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZm9ybUdyb3VwKGNoaWxkcmVuOiBhbnkpOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWxUZXh0ICYmIDxsYWJlbCBjbGFzc05hbWU9XCJmb3JtLWNoZWNrLWxhYmVsXCI+e3RoaXMucHJvcHMubGFiZWxUZXh0fTwvbGFiZWw+fVxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmhpbnQgJiYgPHNtYWxsIGNsYXNzTmFtZT1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+e3RoaXMucHJvcHMuaGludH08L3NtYWxsPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuICgpID0+ICg8Pns8aW5wdXRcbiAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgICAgICB0eXBlPXt0aGlzLnR5cGV9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5nZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkoKVt0aGlzLnByb3BzLm5hbWVdIHx8IGZhbHNlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVBhcmVudFN0YXRlKHRoaXMub3ZlcnJpZGVFdmVudChlLCB0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV0pLCB0aGlzLnByb3BzLm5hbWUpfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0Fic3RyYWN0RmllbGQubWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKFwiZm9ybS1jaGVjay1pbnB1dFwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAvPn08Lz4pO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJRmlsZUZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7Y3JlYXRlRmlsZU9iamVjdCwgSUZpbGV9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFRoZSBtYWluIGRpZmZlcmVuY2Ugb2YgdGhpcyBjbGFzcyBpcyB0aGF0IHRoZSBvbkNoYW5nZSBldmVudCBpcyB1c2VkIG9ubHlcbiAqIHRvIGNhcnJ5IG91dCB0aGUgdmFsaWRhdGlvbiAod2hpY2ggaXMgc2V0IG1hbnVhbGx5IGluIEZpbGVGaWVsZC5fdXBkYXRlRmllbGRWYWxpZGF0aW9uKS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVGaWVsZDxUIGV4dGVuZHMgSUZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG5cbiAgICBfZmlsZT86IElGaWxlfG51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQgJiBJRmlsZUZpZWxkKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIGdldCBmaWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsZSBhcyBJRmlsZXxudWxsO1xuICAgIH1cblxuICAgIHNldCBmaWxlKHZhbDogSUZpbGV8bnVsbCkge1xuICAgICAgICB0aGlzLl9maWxlID0gdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIF9nZW5lcmljRm9ybUdyb3VwPFQ+KHRoaXMucHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiA8Pns8aW5wdXRcbiAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgcmVmPXsodGhpcy5wcm9wcyBhcyBhbnkpLnJlZn1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMudHlwZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl91cGRhdGVGaWVsZFZhbGlkYXRpb24uYmluZCh0aGlzKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNvbnRyb2wtZmlsZVwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAvPn08Lz47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlRmllbGRWYWxpZGF0aW9uID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmZpbGUgPSBjcmVhdGVGaWxlT2JqZWN0KCh0aGlzLnByb3BzIGFzIGFueSkucmVmKTtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMuZmlsZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSBfXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgb3ZlcnJpZGVzIHRoZSBzYW1lIGJlaGF2aW91ciBpbiB0aGUgcGFyZW50TmFtZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShfOiB1bmtub3duKTogYW55IHtcbiAgICAgICAgaWYoKHRoaXMucHJvcHMgYXMgVCAmIElGaWxlRmllbGQpLnJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmlsZU9iamVjdCgodGhpcy5wcm9wcyBhcyBUICYgSUZpbGVGaWVsZCkucmVmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbnRleHQsIGRlZmF1bHQgYXMgUmVhY3QsIFJlYWN0RWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEZpZWxkPFQgZXh0ZW5kcyBJRmllbGQ+IGV4dGVuZHMgQWJzdHJhY3RGaWVsZDxUPiBpbXBsZW1lbnRzIElBYnN0cmFjdEZpZWxkPFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IEZJRUxEX05BTUVTLCBwcm9wczogVCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBfZ2VuZXJpY0Zvcm1Hcm91cDxUPih0aGlzLnByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gPD57PGlucHV0XG4gICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIHR5cGU9e3RoaXMudHlwZX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldFN0YXRlUG9zaXRpb25Gcm9tRm9ybUtleSgpW3RoaXMucHJvcHMubmFtZV18fCBcIlwifVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUGFyZW50U3RhdGUoZSwgdGhpcy5wcm9wcy5uYW1lKX1cbiAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHMoXCJmb3JtLWNvbnRyb2xcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHRoaXMuYmFyZSl9XG4gICAgICAgIC8+fTwvPjtcbiAgICB9XG59XG4iLCJpbXBvcnQge0lGaWVsZFZhbGlkYXRpb24sIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Z2V0RmllbGRWYWx1ZVR5cGV9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4vX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGE8VCBleHRlbmRzIElGaWVsZFZhbGlkYXRpb24+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIHR5cGU6IE1FVEFEQVRBX05BTUVTKSB7XG4gICAgICAgc3VwZXIoc3RhdGUsIHVwZGF0ZVN0YXRlLCB0eXBlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdChuYW1lOiBzdHJpbmcsIGZpZWxkVHlwZTogRklFTERfTkFNRVMpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWVsZFR5cGUgPSBmaWVsZFR5cGU7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSh2YWx1ZTogYW55LCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0YXRlOiB7W2s6IHN0cmluZ106IElGaWVsZFZhbGlkYXRpb259O1xuICAgICAgICBpZighKHRoaXMubmFtZSBpbiB0aGlzLnN0YXRlKSl7XG4gICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIFt0aGlzLm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSwgW3N0YXRlXSk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXRlW3RoaXMubmFtZV0gJiYgdmFsdWUgIT09IHRoaXMuc3RhdGVbdGhpcy5uYW1lXS5maWVsZFZhbHVlcy5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy5maWVsZFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0sIFtzdGF0ZV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJRmllbGRWYWxpZGF0aW9uLCBNRVRBREFUQV9OQU1FU30gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7SVZhbGlkYXRpb259IGZyb20gXCIuLi92YWxpZGF0b3JzXCI7XG5pbXBvcnQge2dldEZpZWxkVmFsdWVUeXBlLCBJRmlsZX0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7RklFTERfTkFNRVN9IGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IHtBYnN0cmFjdE1ldGFkYXRhfSBmcm9tIFwiLi9fQWJzdHJhY3RNZXRhZGF0YVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YUZpbGU8VCBleHRlbmRzIElGaWVsZFZhbGlkYXRpb24+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXRlOiB7W2s6IHN0cmluZ106IFR9LCB1cGRhdGVTdGF0ZTogRnVuY3Rpb24sIHR5cGU6IE1FVEFEQVRBX05BTUVTKSB7XG4gICAgICAgIHN1cGVyKHN0YXRlLCB1cGRhdGVTdGF0ZSwgdHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQobmFtZTogc3RyaW5nLCBmaWVsZFR5cGU6IEZJRUxEX05BTUVTKTogdm9pZCB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZmllbGRUeXBlID0gZmllbGRUeXBlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUodmFsdWU6IGFueSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+KTogdm9pZCB7XG4gICAgICAgIGxldCBzdGF0ZToge1trOiBzdHJpbmddOiBJRmllbGRWYWxpZGF0aW9ufTtcbiAgICAgICAgaWYoISh0aGlzLm5hbWUgaW4gdGhpcy5zdGF0ZSkpe1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBbdGhpcy5uYW1lXToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRGaWVsZFZhbHVlVHlwZSh0aGlzLmZpZWxkVHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IHt9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0sIFtzdGF0ZV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuc3RhdGVbdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZTogSUZpbGUgPSB0aGlzLnN0YXRlW3RoaXMubmFtZV0uZmllbGRWYWx1ZXMuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgaWYodmFsdWUgPT09IG51bGwgJiYgT2JqZWN0LmtleXMoY3VycmVudFZhbHVlKS5sZW5ndGggfHwgdmFsdWUgJiYgdmFsdWUubmFtZSAhPT0gY3VycmVudFZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldEZpZWxkVmFsdWVUeXBlKHRoaXMuZmllbGRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IHZhbHVlIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJUmFkaW9Hcm91cFBhcmVudENvbnRleHQsIE1FVEFEQVRBX05BTUVTfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4uL3ZhbGlkYXRvcnNcIjtcbmltcG9ydCB7Z2V0RmllbGRWYWx1ZVR5cGV9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCB7QWJzdHJhY3RNZXRhZGF0YX0gZnJvbSBcIi4vX0Fic3RyYWN0TWV0YWRhdGFcIjtcbmltcG9ydCB7VHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlfSBmcm9tIFwiLi4vZmllbGRfY2xhc3Nlcy9fUmFkaW9GaWVsZFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5cblxuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YUdyb3VwPFQ+IGV4dGVuZHMgQWJzdHJhY3RNZXRhZGF0YTxUPiB7XG4gICAgcHVibGljIGRlZmF1bHRTdGF0ZSA9IHt9IGFzIFQ7XG4gICAgcHVibGljIHBhcmVudE5hbWU/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZToge1trOiBzdHJpbmddOiBUfSwgdXBkYXRlU3RhdGU6IEZ1bmN0aW9uLCB0eXBlOiBNRVRBREFUQV9OQU1FUykge1xuICAgICAgICBzdXBlcihzdGF0ZSwgdXBkYXRlU3RhdGUsIHR5cGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KG5hbWU6IHN0cmluZywgZmllbGRUeXBlOiBGSUVMRF9OQU1FUyk6IHZvaWQge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZpZWxkVHlwZSA9IGZpZWxkVHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gY3VycmVudFxuICAgICAqIEBwYXJhbSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIGlzVG91Y2hlZCB7Qm9vbGVhbn0gLSBTZXQgdGhpcyB0byBmYWxzZSBvbiBpbml0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jcmVhdGVHcm91cFN0YXRlKGN1cnJlbnQ6IFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSwgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+LCBpc1RvdWNoZWQ9dHJ1ZSk6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgW2N1cnJlbnQucGFyZW50TmFtZV06IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0sXG4gICAgICAgICAgICAgICAgW3RoaXMubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdXJyZW50LnBhcmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogdmFsaWRhdGlvbiB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgaXNUb3VjaGVkLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0RmllbGRWYWx1ZVR5cGUodGhpcy5maWVsZFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHB1YmxpYyB1cGRhdGUoY3VycmVudDogVHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlLCB2YWxpZGF0aW9uOiBBcnJheTxJVmFsaWRhdGlvbj4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0YXRlID0ge307XG4gICAgICAgIGlmKCF0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50LCB2YWxpZGF0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0gJiYgISh0aGlzLm5hbWUgaW4gdGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdKSkge1xuICAgICAgICAgICAgLy8gRm9yIHJlYWRhYmlsaXR5IC0ga2VlcCB0aGlzIGNsYXVzZSAmIHRoZSBuZXh0LCBzZXBhcmF0ZSBwbGVhc2VcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fY3JlYXRlR3JvdXBTdGF0ZShjdXJyZW50LCB2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmKCh0aGlzLnN0YXRlW2N1cnJlbnQucGFyZW50TmFtZV0gYXMgYW55KVt0aGlzLm5hbWVdICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZVtjdXJyZW50LnBhcmVudE5hbWVdIGFzIGFueSlbdGhpcy5uYW1lXS5maWVsZFZhbHVlcy52YWx1ZSAhPT0gY3VycmVudC52YWx1ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLl9jcmVhdGVHcm91cFN0YXRlKGN1cnJlbnQsIHZhbGlkYXRpb24pO1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzRmllbGRUb3VjaGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcGFyZW50U3RhdGUgPSAodGhpcy5zdGF0ZSk7XG4gICAgICAgIGlmKHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgICBpZih0aGlzLnBhcmVudE5hbWUgJiYgdGhpcy5uYW1lICYmIHRoaXMuc3RhdGVbdGhpcy5wYXJlbnROYW1lXSkge1xuICAgICAgICAgICAgICAgIGxldCBtZXRhR3JvdXAgPSAodGhpcy5zdGF0ZVt0aGlzLnBhcmVudE5hbWVdIGFzIGFueSlbdGhpcy5uYW1lIGFzIGtleW9mIFRdO1xuICAgICAgICAgICAgICAgIGlmKG1ldGFHcm91cCkgcmV0dXJuIG1ldGFHcm91cC5pc1RvdWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgdXNlQ29udGV4dH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0Fic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSVJhZGlvRmllbGR9IGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IHtJRm9ybUNvbnRleHQsIElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCwgUmFkaW9Hcm91cENvbnRleHQsIFR5cGVGaWVsZFZhbHVlVHlwZXN9IGZyb20gXCIuLi9mb3JtXCI7XG5pbXBvcnQge0lWYWxpZGF0aW9ufSBmcm9tIFwiLi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtnZXRGaWVsZFZhbHVlVHlwZX0gZnJvbSBcIi4uL2NvcmVcIjtcblxuZXhwb3J0IHR5cGUgVHlwZU1ldGFkYXRhUmFkaW9Hcm91cFZhbHVlID0geyB2YWx1ZTogYm9vbGVhbiwgcGFyZW50TmFtZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcgfTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFJhZGlvRmllbGQ8VCBleHRlbmRzIElSYWRpb0ZpZWxkPiBleHRlbmRzIEFic3RyYWN0RmllbGQ8VD4gaW1wbGVtZW50cyBJQWJzdHJhY3RGaWVsZDxUPiB7XG4gICAgcHJpdmF0ZSBfcGFyZW50TmFtZT86IHN0cmluZztcbiAgICBwdWJsaWMgcHJvcHM6IGFueTtcbiAgICBwdWJsaWMgdHlwZTogYW55O1xuICAgIHB1YmxpYyByYWRpb0NvbnRleHQ/OiBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQ7IC8vIFRPRE8gaWYgbW9yZSBncm91cHMgYXJlIHJlcXVpcmVkIHRoZW4gbWFrZSB0aGlzIGFic3RyYWN0XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHR5cGUpO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucmFkaW9Db250ZXh0ID0gdXNlQ29udGV4dChSYWRpb0dyb3VwQ29udGV4dCkgYXMgYW55O1xuICAgICAgICBpZih0aGlzLnJhZGlvQ29udGV4dCAmJiB0aGlzLnJhZGlvQ29udGV4dC5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50TmFtZSA9IHRoaXMucmFkaW9Db250ZXh0LnBhcmVudC5uYW1lO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5wYXJlbnROYW1lID0gdGhpcy5wYXJlbnROYW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHBhcmVudE5hbWUoKTogc3RyaW5nfHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROYW1lO1xuICAgIH1cblxuICAgIHNldCBwYXJlbnROYW1lKHZhbDogc3RyaW5nfHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9wYXJlbnROYW1lID0gdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxhYmVsVGV4dCAmJiA8bGFiZWwgY2xhc3NOYW1lPVwiZm9ybS1jaGVjay1sYWJlbFwiPnt0aGlzLnByb3BzLmxhYmVsVGV4dH08L2xhYmVsPn1cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5oaW50ICYmIDxzbWFsbCBjbGFzc05hbWU9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPnt0aGlzLnByb3BzLmhpbnR9PC9zbWFsbD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGlucHV0XG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgdHlwZT17dGhpcy50eXBlfVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuZ2V0U3RhdGVQb3NpdGlvbkZyb21Gb3JtS2V5KClbdGhpcy5wcm9wcy5uYW1lXSB8fCBmYWxzZX1cbiAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5oYW5kbGVPbkNoYW5nZShlLCAodGhpcy5yYWRpb0NvbnRleHQgYXMgSVJhZGlvR3JvdXBQYXJlbnRDb250ZXh0KSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtBYnN0cmFjdEZpZWxkLm1lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyhcImZvcm0tY2hlY2staW5wdXRcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUsICh0aGlzLmNvbnRleHQgYXMgYW55KS5iYXJlKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPbkNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCByYWRpb0NvbnRleHQ6IElSYWRpb0dyb3VwUGFyZW50Q29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxGb3JtRWxlbWVudD4gPSB0aGlzLm92ZXJyaWRlRXZlbnQoZSwgZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAodGhpcy5jb250ZXh0IGFzIGFueSkudXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dChldmVudCwgdGhpcy5wcm9wcy5uYW1lLCByYWRpb0NvbnRleHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBpcyBzbyB0aGF0IGJvdGggY2xhc3MgY29tcG9uZW50cyAmIGhvb2sgYmFzZWRcbiAgICAgKiBjb21wb25lbnRzIGdldCB1cGRhdGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvZWdhc2V3aWN6L3JlYWN0LWJhcmUtZm9ybXMvaXNzdWVzLzEwMC5cbiAgICAgKiBUaGUgQWJzdHJhY3RGaWVsZCdzIGdldEZpZWxkVmFsdWUgaW1wbGVtZW50YXRpb24gZGlmZmVycyBiZWNhdXNlIHRoZSB2YWx1ZSBvZlxuICAgICAqIHRoZSBmb3JtIGVsZW1lbnQgY2FuIGJlIGRlcml2ZWQgZGlyZWN0bHkgZnJvbSBwcm9wcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RmllbGRWYWx1ZShwcm9wczogVCk6IGFueSB7XG4gICAgICAgIGNvbnN0IGZvcm1LZXkgPSB0aGlzLmNvbnRleHQ/LmZvcm1LZXk7XG4gICAgICAgIGlmIChmb3JtS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5zdGF0ZVtmb3JtS2V5XVt0aGlzLnByb3BzLm5hbWVdIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LnN0YXRlW3RoaXMucHJvcHMubmFtZV0gfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IEFycmF5PElWYWxpZGF0aW9uPiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZSh0aGlzLnByb3BzKTtcbiAgICAgICAgLy8gQ2Fycnkgb3V0IHRoZSB2YWxpZGF0aW9uXG4gICAgICAgIGxldCB2YWxpZGF0aW9uID0gdGhpcy5kb1ZhbGlkYXRpb24odmFsdWUpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIG1ldGFkYXRhIHR5cGUgc3RhdGVcbiAgICAgICAgdGhpcy5tZXRhZGF0YS51cGRhdGUoeyB2YWx1ZSwgcGFyZW50TmFtZTogdGhpcy5wYXJlbnROYW1lLCBuYW1lOiB0aGlzLnByb3BzLm5hbWV9IGFzIFR5cGVNZXRhZGF0YVJhZGlvR3JvdXBWYWx1ZSwgdmFsaWRhdGlvbik7XG4gICAgICAgIHJldHVybiB2YWxpZGF0aW9uO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIFJlYWN0fSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtfZ2VuZXJpY0Zvcm1Hcm91cCwgQWJzdHJhY3RGaWVsZCwgSUFic3RyYWN0RmllbGR9IGZyb20gXCIuL19BYnN0cmFjdEZpZWxkXCI7XG5pbXBvcnQge0ZJRUxEX05BTUVTLCBJRmllbGQsIElTZWxlY3RGaWVsZCwgVHlwZVNlbGVjdENzc1NpemVOYW1lfSBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU2VsZWN0RmllbGQ8VCBleHRlbmRzIElGaWVsZCAmIElTZWxlY3RGaWVsZD4gZXh0ZW5kcyBBYnN0cmFjdEZpZWxkPFQ+IGltcGxlbWVudHMgSUFic3RyYWN0RmllbGQ8VD4ge1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogRklFTERfTkFNRVMsIHByb3BzOiBUKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCB0eXBlKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpZWxkKHRoaXMuZ2V0RmllbGQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcm1Hcm91cChjaGlsZHJlbjogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIF9nZW5lcmljRm9ybUdyb3VwPFQ+KHRoaXMucHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRPcHRpb25zKG9wdGlvbnM6IEFycmF5PGFueT4gPSBbXSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLm9iamVjdEtleSAmJiB0aGlzLnByb3BzLm9iamVjdFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoKG9wdFZhbDogc3RyaW5nLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPG9wdGlvbiB2YWx1ZT17b3B0VmFsW3RoaXMucHJvcHMub2JqZWN0S2V5IGFzIGFueV19IGtleT17aX1cbiAgICAgICAgICAgICAgICA+e29wdFZhbFt0aGlzLnByb3BzLm9iamVjdFZhbHVlIGFzIGFueV19PC9vcHRpb24+XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKChvcHRWYWw6IHN0cmluZywgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9e29wdFZhbH0ga2V5PXtpfT57b3B0VmFsfTwvb3B0aW9uPlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZCgpIHtcbiAgICAgICAgY29uc3Qge29wdGlvbnMgPSBbXSwgc2l6ZSA9IFwiZGVmYXVsdFwifSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHNlbGVjdERhdGEgPSB0aGlzLl9nZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHsuLi4odGhpcy5wcm9wcyBhcyBhbnkpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+ICh0aGlzLmNvbnRleHQgYXMgYW55KS51cGRhdGVQYXJlbnRTdGF0ZShlLCB0aGlzLnByb3BzLm5hbWUpfVxuICAgICAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17QWJzdHJhY3RGaWVsZC5tZXJnZURlZmF1bHRDc3NXaXRoUHJvcHModGhpcy5nZXRTZWxlY3RDc3NOYW1lKCh0aGlzLnByb3BzIGFzIGFueSkuc2l6ZSksIHRoaXMucHJvcHMuY2xhc3NOYW1lLCAodGhpcy5jb250ZXh0IGFzIGFueSkuYmFyZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7c2VsZWN0RGF0YSA/IHNlbGVjdERhdGE6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTZWxlY3RDc3NOYW1lKG5hbWU6IFR5cGVTZWxlY3RDc3NTaXplTmFtZSkge1xuICAgICAgICBpZihuYW1lID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC0ke25hbWV9YDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSZWFjdCwgUmVhY3RFbGVtZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7X2dlbmVyaWNGb3JtR3JvdXAsIEFic3RyYWN0RmllbGQsIElBYnN0cmFjdEZpZWxkfSBmcm9tIFwiLi9fQWJzdHJhY3RGaWVsZFwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FUywgSUZpZWxkLCBJVGV4dEFyZWFGaWVsZH0gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5pbXBvcnQge0lGb3JtQ29udGV4dH0gZnJvbSBcIi4uL2Zvcm1cIjtcbmltcG9ydCB7bWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgVGV4dEFyZWFGaWVsZDxUIGV4dGVuZHMgSVRleHRBcmVhRmllbGQ+IGV4dGVuZHMgQWJzdHJhY3RGaWVsZDxUPiBpbXBsZW1lbnRzIElBYnN0cmFjdEZpZWxkPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGSUVMRF9OQU1FUywgcHJvcHM6IFQgJiBJVGV4dEFyZWFGaWVsZCkge1xuICAgICAgICBzdXBlcihwcm9wcywgdHlwZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWVsZCh0aGlzLmdldEZpZWxkKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JtR3JvdXAoY2hpbGRyZW46IGFueSk6IFJlYWN0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBfZ2VuZXJpY0Zvcm1Hcm91cDxUPih0aGlzLnByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICBjb25zdCB7cm93cyA9IDV9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e21lcmdlRGVmYXVsdENzc1dpdGhQcm9wcyhcImZvcm0tY29udHJvbFwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwgKHRoaXMuY29udGV4dCBhcyBhbnkpLmJhcmUpfVxuICAgICAgICAgICAgICAgICAgICByb3dzPXtyb3dzfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5nZXRTdGF0ZVBvc2l0aW9uRnJvbUZvcm1LZXkoKVt0aGlzLnByb3BzLm5hbWVdIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gKHRoaXMuY29udGV4dCBhcyBhbnkpLnVwZGF0ZVBhcmVudFN0YXRlKGUsIHRoaXMucHJvcHMubmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQge01FVEFEQVRBX05BTUVTLCBUeXBlRmllbGRWYWx1ZVR5cGVzfSBmcm9tIFwiLi4vZm9ybVwiO1xuaW1wb3J0IHtGSUVMRF9OQU1FU30gZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cblxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWZhdWx0Q3NzV2l0aFByb3BzKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBjc3NQcm9wczogYW55LCBiYXJlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICBsZXQgY3NzU3RyID0gXCJcIjtcbiAgICBpZighYmFyZSkge1xuICAgICAgICBjc3NTdHIgKz0gYCR7ZGVmYXVsdFZhbHVlfSBgO1xuICAgIH1cbiAgICBpZiAoY3NzUHJvcHMpIHtcbiAgICAgICAgY3NzU3RyICs9IGAke2Nzc1Byb3BzfWA7XG4gICAgfVxuICAgIHJldHVybiBjc3NTdHI7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhZGF0YU5hbWVUeXBlKHR5cGU6IEZJRUxEX05BTUVTKTogTUVUQURBVEFfTkFNRVMge1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuVEVYVDoge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLkVNQUlMOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuUEFTU1dPUkQ6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUQVJFQToge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLklOUFVUUztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLlJBRElPOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuUkFESU9fR1JPVVBTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuQ0hFQ0tCT1g6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5DSEVDS0JPWEVTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuU0VMRUNUOiB7XG4gICAgICAgICAgICByZXR1cm4gTUVUQURBVEFfTkFNRVMuSU5QVVRTO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuRklMRToge1xuICAgICAgICAgICAgcmV0dXJuIE1FVEFEQVRBX05BTUVTLkZJTEVTO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVybiBNRVRBREFUQV9OQU1FUy5JTlBVVFM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlVHlwZSh0eXBlOiBGSUVMRF9OQU1FUyk6IFR5cGVGaWVsZFZhbHVlVHlwZXMge1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuVEVYVDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLkVNQUlMOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRklFTERfTkFNRVMuUEFTU1dPUkQ6IHtcbiAgICAgICAgICAgIHJldHVybiBcInZhbHVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5URVhUQVJFQToge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEZJRUxEX05BTUVTLkNIRUNLQk9YOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJjaGVja2VkXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5TRUxFQ1Q6IHtcbiAgICAgICAgICAgIHJldHVybiBcInZhbHVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5GSUxFOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBGSUVMRF9OQU1FUy5SQURJTzoge1xuICAgICAgICAgICAgcmV0dXJuIFwiY2hlY2tlZFwiXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEV4cG9ydCBSZWdleCBleHByZXNzaW9ucyBoZXJlXG5cblxuZXhwb3J0IGNvbnN0IEVNQUlMX1JFR0VYID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUmVhY3QsIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHt1cGRhdGVSYWRpb0dyb3VwU3RhdGVGcm9tUGFzc2VkSW5Db250ZXh0LCB1cGRhdGVQYXJlbnRTdGF0ZSwgX0ZpZWxkRW1wdHlFcnJvck1zZ30gZnJvbSBcIi4vY29yZVwiO1xuaW1wb3J0IHtJVmFsaWRhdGlvbn0gZnJvbSBcIi4vdmFsaWRhdG9yc1wiO1xuaW1wb3J0IHtcbiAgICBBYnN0cmFjdE1ldGFkYXRhLFxuICAgIE1ldGFkYXRhLFxuICAgIE1ldGFkYXRhRmlsZSxcbiAgICBNZXRhZGF0YUdyb3VwLFxufSBmcm9tIFwiLi9maWVsZF9jbGFzc2VzXCI7XG5pbXBvcnQgeyBfbm9Db250ZXh0RXJyb3IgfSBmcm9tIFwiLi9jb3JlL19lcnJvcnNcIjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZpZWxkVmFsdWVUeXBlcyA9IFwidmFsdWVcInxcImNoZWNrZWRcInxcImZpbGVcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUZpZWxkVmFsdWVzIHtcbiAgICBjdXJyZW50VmFsdWU6IGFueTtcbiAgICByZWFkb25seSB0eXBlOiBUeXBlRmllbGRWYWx1ZVR5cGVzO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJRmllbGRWYWxpZGF0aW9uIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgdmFsaWRhdGlvbjogQXJyYXk8SVZhbGlkYXRpb24+O1xuICAgIGZpZWxkVmFsdWVzOiBJRmllbGRWYWx1ZXM7XG4gICAgaXNUb3VjaGVkOiBib29sZWFuO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW5wdXRGaWVsZE1ldGFkYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJRmlsZU1ldGFEYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7XG4gICAgcmVhZG9ubHkgcmVmTmFtZTogc3RyaW5nO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9Hcm91cENoaWxkcmVuIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hlY2tCb3hlc01ldGFkYXRhIGV4dGVuZHMgSUZpZWxkVmFsaWRhdGlvbiB7fVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUlucHV0TWV0YWRhdGEgPSBBYnN0cmFjdE1ldGFkYXRhPElJbnB1dEZpZWxkTWV0YWRhdGE+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZpbGVNZXRhZGF0YSA9IEFic3RyYWN0TWV0YWRhdGE8SUZpbGVNZXRhRGF0YT47XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhID0gQWJzdHJhY3RNZXRhZGF0YTxJUmFkaW9Hcm91cENoaWxkcmVuPjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIFR5cGVDaGVja2JveGVzTWV0YWRhdGEgPSBBYnN0cmFjdE1ldGFkYXRhPElDaGVja0JveGVzTWV0YWRhdGE+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVHlwZUZvcm1NZXRhZGF0YSA9XG4gICAgfCBUeXBlSW5wdXRNZXRhZGF0YVxuICAgIHwgVHlwZVJhZGlvR3JvdXBNZXRhZGF0YVxuICAgIHwgVHlwZUNoZWNrYm94ZXNNZXRhZGF0YVxuICAgIHwgVHlwZUZpbGVNZXRhZGF0YTtcblxuZXhwb3J0IGludGVyZmFjZSBJTWV0YWRhdGEge1xuICAgIHJhZGlvR3JvdXBzOiBUeXBlUmFkaW9Hcm91cE1ldGFkYXRhO1xuICAgIGlucHV0czogVHlwZUlucHV0TWV0YWRhdGE7XG4gICAgZmlsZXM6IFR5cGVJbnB1dE1ldGFkYXRhO1xuICAgIGNoZWNrYm94ZXM6IFR5cGVDaGVja2JveGVzTWV0YWRhdGE7XG5cbn1cbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgZW51bSBNRVRBREFUQV9OQU1FUyB7XG4gICAgSU5QVVRTID0gXCJpbnB1dHNcIixcbiAgICBSQURJT19HUk9VUFMgPSBcInJhZGlvR3JvdXBzXCIsXG4gICAgRklMRVMgPSBcImZpbGVzXCIsXG4gICAgQ0hFQ0tCT1hFUyA9IFwiY2hlY2tib3hlc1wiLFxufVxuLyoqXG4gKiBAaW50ZXJmYWNlICoqSUZvcm0qKiBFeHBvcnRlZCBGb3JtIGludGVyZmFjZSBhdmFpbGFibGUgdG8gdGhlIGNhbGxlci4gQ29udGFpbnMgYWxsIHRoZSBwcm9wZXJ0aWVzIHJlcXVpcmVkIGJ5XG4gKiB0aGUgRm9ybSAqUkJGKiBGb3JtJ3MgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtIGV4dGVuZHMgUmVhY3QuRm9ybUhUTUxBdHRyaWJ1dGVzPEhUTUxGb3JtRWxlbWVudD4ge1xuICAgIC8qKiBUaGUgcGFzc2VkIGluIHN0YXRlIGZyb20gdGhlIHBhcmVudE5hbWUgY29tcG9uZW50ICovXG4gICAgc3RhdGU6IGFueTtcbiAgICAvKiogSWYgdGhlIHBhcmVudE5hbWUgY29tcG9uZW50IGlzIGEgY2xhc3MgY29tcG9uZW50IHRoZW4gdGhlIGNvbnRleHQgbXVzdCBjb250YWluIHRoZSBwYXJlbnROYW1lJ3MgKip0aGlzKioga2V5d29yZC4gKi9cbiAgICBjb250ZXh0PzogYW55O1xuICAgIC8qKiBJZiB0aGUgZm9ybSdzIHN0YXRlIGlzIG5vdCBkaXJlY3RseSBjb250YWluZWQgYXQgcGFyZW50TmFtZSdzIHN0YXRlIHJvb3Qgb2JqZWN0LCB0aGVuIGZvcm1LZXkgbmVlZHMgdG8gcmVwcmVzZW50IHRoZSBrZXkuICovXG4gICAgcmVhZG9ubHkgZm9ybUtleT86IHN0cmluZztcbiAgICAvKiogRGVmYXVsdCBpcyBmYWxzZS4gSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgZm9ybSBzdGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBqdXN0IGJlbG93IHRoZSBmb3JtIGNvbXBvbmVudCBpbiBgY29kZWAgdGFncy4gKi9cbiAgICByZWFkb25seSBkZWJ1Zz86IGJvb2xlYW47XG4gICAgLyoqIERlZmF1bHQgaXMgVHJ1ZS4gSWYgc2V0IHRvIGZhbHNlLCB0aGUgIHZhbGlkYXRvcnMgd2lsbCBub3QgYmUgY2FsbGVkIHVudGlsIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZC4gKi9cbiAgICByZWFkb25seSBkeW5hbWljPzogYm9vbGVhbjtcbiAgICAvKiogVGhlIHBhc3NlZCB0aHJvdWdoIHByb3BzIHRvIHRoZSBGb3JtIGNvbXBvbmVudCAqL1xuICAgIGNoaWxkcmVuPzogYW55O1xuICAgIC8qKiBEZWZhdWx0IHNldCB0byBmYWxzZS4gSWYgc2V0IHRvIHRydWUgdGhlbiBpdCB3aWxsIG5vdyB1c2UgYm9vdHN0cmFwIHN0eWxpbmcgb3IgYW55IGV4dHJhIGVsZW1lbnRzLiAqL1xuICAgIHJlYWRvbmx5IGJhcmU/OiBib29sZWFuO1xuICAgIC8qKiBDYWxsYmFjayBmdW5jdGlvbiB3aWwgYmUgY2FsbGVkIG9uIGZvcm0gc3VibWlzc2lvbiBpZiBhbGwgdmFsaWRhdG9ycyBwYXNzICovXG4gICAgcmVhZG9ubHkgY2FsbGJhY2s/OiBGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRm9ybUNvbnRleHQge1xuICAgIHJlYWRvbmx5IGJhcmU/OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGRlYnVnPzogYm9vbGVhbjtcbiAgICByZWFkb25seSBkeW5hbWljPzogYm9vbGVhbjtcbiAgICByZWFkb25seSBmb3JtS2V5Pzogc3RyaW5nO1xuICAgIG1ldGFkYXRhOiBJTWV0YWRhdGE7XG4gICAgc3RhdGU6IGFueTtcbiAgICB1cGRhdGVQYXJlbnRTdGF0ZT86IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIGZvcm1LZXk/OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgdXBkYXRlUmFkaW9Hcm91cFN0YXRlRnJvbVBhc3NlZEluQ29udGV4dD86IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxhbnk+LCBuYW1lOiBzdHJpbmcsIHJhZGlvR3JvdXA6IGFueSwgZm9ybUtleT86IHN0cmluZykgPT4gdm9pZDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IElOUFVUU19TVEFURTogVHlwZUlucHV0TWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBSQURJT19HUk9VUFNfU1RBVEU6IFR5cGVSYWRpb0dyb3VwTWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBGSUxFU19TVEFURTogVHlwZUZpbGVNZXRhZGF0YSA9IHt9IGFzIGFueTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IENIRUNLQk9YRVNfU1RBVEU6IFR5cGVDaGVja2JveGVzTWV0YWRhdGEgPSB7fSBhcyBhbnk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBwcm92aWRlckNvbnRleHQ6IElGb3JtQ29udGV4dCA9IHtcbiAgICBiYXJlOiBmYWxzZSxcbiAgICBzdGF0ZToge30sXG4gICAgZm9ybUtleTogbnVsbCBhcyBhbnksXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGR5bmFtaWM6IHRydWUsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgaW5wdXRzOiBudWxsIGFzIGFueSxcbiAgICAgICAgcmFkaW9Hcm91cHM6IG51bGwgYXMgYW55LFxuICAgICAgICBmaWxlczogbnVsbCBhcyBhbnksXG4gICAgICAgIGNoZWNrYm94ZXM6IG51bGwgYXMgYW55LFxuICAgIH0sXG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBJUmFkaW9Hcm91cFBhcmVudENvbnRleHQge1xuICAgIHBhcmVudD86IHsgbmFtZTogc3RyaW5nIH07XG4gICAgY2hpbGRyZW4/OiBhbnk7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgUmFkaW9Hcm91cENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFR5cGVSYWRpb0dyb3VwTWV0YWRhdGE+KFJBRElPX0dST1VQU19TVEFURSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElGb3JtQ29udGV4dD4ocHJvdmlkZXJDb250ZXh0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBGb3JtUHJvdmlkZXIgPSBGb3JtQ29udGV4dC5Qcm92aWRlcjtcbi8qKlxuICogQHZhciBBY2Nlc3MgdGhlIGZvcm0gc3RhdGUgd2l0aGluIGEgUmVhY3QgQ29udGV4dCBBcGkgQ29uc3VtZXIgc2NvcGVcbiAqIEBleGFtcGxlIEZvciBleGFtcGxlOlxuICogYGBgXG4gKiA8Rm9ybSBzdGF0ZT17dGhpcy5zdGF0ZX0gY29udGV4dD17dGhpc30+XG4gKiAgICAgIDxGb3JtQ29uc3VtZXI+XG4gKiAgICAgIHsoe3N0YXRlfSkgPT4ge1xuICogICAgICAgICAgcmV0dXJuIDxkaXY+e3N0YXRlfSBpcyBlcXVhbCB7bXlTdGF0ZX08L2Rpdj47XG4gKiAgICAgIH19XG4gKiAgICA8L0Zvcm1Db25zdW1lcj5cbiAqIDwvRm9ybT5cbiAqIGBgYFxuICogKi9cbmV4cG9ydCBjb25zdCBGb3JtQ29uc3VtZXIgPSBGb3JtQ29udGV4dC5Db25zdW1lcjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChwcm9wczogSUZvcm0pID0+XG4gICAgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IGNhbGxiYWNrLCB9ID0gcHJvcHM7XG4gICAgICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiICYmIGNhbGxiYWNrKCkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICB9O1xuXG4vKipcbiAqIFRoZSBtYWluIEZvcm0gY29tcG9uZW50IHRoYXQgaXMgcmVxdWlyZWQgdG8gd3JhcCBhbGwgKlJCRiogY29tcG9uZW50cy5cbiAqIElmIHRoZSBjb21wb25lbnQgdGhhdCB1c2VzIHRoZSBGb3JtIGNvbXBvbmVudCBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50IHRoZW5cbiAqIG9ubHkgdGhlIHN0YXRlIHByb3BzICYgc3RhdGUgdXBkYXRlIGZ1bmN0aW9uIHJldHVybmVkIGZyb20gdGhlIHVzZVN0YXRlIGhvb2sgYXJlXG4gKiByZXF1aXJlZC4gSWYgeW91IGFyZSBjYWxsaW5nIEZvcm0gY29tcG9uZW50IGZyb20gYSBjbGFzcyBjb21wb25lbnQgdGhlbiB5b3UgbXVzdCBcbiAqIHBhc3MgeW91ciBsb2NhbCBjb250ZXh0IG9yIGB0aGlzYCBrZXl3b3JkIHRvXG4gKiB0aGUgYGNvbnRleHRgIHByb3AuXG4gKiBAcGFyYW0gcHJvcHMge0BsaW5rIElGb3JtfVxuICpcbiAqIEFuIGV4YW1wbGUgdXNpbmcgKlJCRiogRm9ybSBjb21wb25lbnQgaW4gYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gTWluaW1hbCBzZXR1cCBmb3IgYSBSQkYncyBGb3JtIGNvbXBvbmVudFxuICpcbiAqICBjb25zdCBteVN0YXRlID0ge1xuICogICAgICB1c2VybmFtZTogJycsXG4gKiAgfVxuICogIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoc3RhdGUpO1xuICogIDxGb3JtIHN0YXRlPXtteVN0YXRlfSBjb250ZXh0PXtzZXRTdGF0ZX0+PC9Gb3JtPlxuICogYGBgXG4gKlxuICogVG8gdXNlICpSQkYqIEZvcm0gY29tcG9uZW50IGZyb20gYSBjbGFzcyBjb21wb25lbnQgeW91IG11c3QgcGFzcyBpbiB5b3VyXG4gKiBsb2NhbCBzdGF0ZSBvZiBgdGhpc2Aga2V5d29yZC5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vIE1pbmltYWwgc2V0dXAgZm9yIGEgUkJGJ3MgRm9ybSBjb21wb25lbnQgZm9yIGEgY2xhc3MgY29tcG9uZW50XG4gKlxuICogIHRoaXMuc3RhdGUgPSB7IC8vIGluIHRoZSBjb25zdHJ1Y3RvclxuICogICAgICB1c2VybmFtZTogJycsXG4gKiAgfVxuICpcbiAqICA8Rm9ybSBzdGF0ZT17dGhpcy5zdGF0ZX0gY29udGV4dD17dGhpc30+PC9Gb3JtPlxuICogYGBgXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IEZvcm0gPSAocHJvcHM6IElGb3JtKSA9PiB7XG4gICAgY29uc3QgW3BhcmVudFN0YXRlLCBzZXRQYXJlbnRTdGF0ZV0gPSB1c2VTdGF0ZShwcm9wcy5zdGF0ZSk7XG4gICAgY29uc3QgW2NvbnRleHQsIF9dID0gdXNlU3RhdGUocHJvdmlkZXJDb250ZXh0KTtcbiAgICBjb25zdCBbaW5wdXRTdGF0ZSwgdXBkYXRlSW5wdXRTdGF0ZV0gPSB1c2VTdGF0ZShJTlBVVFNfU1RBVEUpO1xuICAgIGNvbnN0IFtjaGVja2JveGVzU3RhdGUsIHVwZGF0ZUNoZWNrYm94ZXNTdGF0ZV0gPSB1c2VTdGF0ZShDSEVDS0JPWEVTX1NUQVRFKTtcbiAgICBjb25zdCBbZmlsZVN0YXRlLCB1cGRhdGVGaWxlU3RhdGVdID0gdXNlU3RhdGUoRklMRVNfU1RBVEUpO1xuICAgIGNvbnN0IFtyYWRpb1N0YXRlLCB1cGRhdGVSYWRpb1N0YXRlXSA9IHVzZVN0YXRlKFJBRElPX0dST1VQU19TVEFURSk7XG4gICAgLy8gSWYgdGhlIHBhcmVudE5hbWUgY29tcG9uZW50IGlzIGEgY2xhc3MgY29tcG9uZW50LCB0aGVuIHRoZSBzdGF0ZSBuZWVkcyB0byBiZSB1cGRhdGVkIGZyb20gdGhlIHBhcmVudE5hbWUgY29udGV4dFxuICAgIC8vIEZ1bmN0aW9ucyBjb21wb25lbnQgbXVzdCB1c2UgdXNlU3RhdGUgaG9vay4gU2VlIGh0dHBzOi8vam9lZ2FzZXdpY3ouZ2l0aHViLmlvL3JlYWN0LWJhcmUtZm9ybXMvbW9kdWxlcy9fZm9ybV8uaHRtbFxuICAgIGlmKHByb3BzLmNvbnRleHQgJiYgXCJzZXRTdGF0ZVwiIGluIHByb3BzLmNvbnRleHQpIHtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIHByb3BzLmNvbnRleHQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmVudFN0YXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIFtwYXJlbnRTdGF0ZV0pO1xuICAgIH0gZWxzZSBpZiAocHJvcHMuY29udGV4dCkge1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMuY29udGV4dCh7XG4gICAgICAgICAgICAgICAgLi4ucGFyZW50U3RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW3BhcmVudFN0YXRlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IF9GaWVsZEVtcHR5RXJyb3JNc2coX25vQ29udGV4dEVycm9yKTtcbiAgICB9XG4gICAgLy8gU3RhdGUgSG9va3NcbiAgICBjb25zdCBfcHJvdmlkZXJDb250ZXh0OiBJRm9ybUNvbnRleHQgPSB7XG4gICAgICAgIGJhcmU6IHByb3BzLmJhcmUgfHwgY29udGV4dC5iYXJlLFxuICAgICAgICBzdGF0ZTogcHJvcHMuc3RhdGUsXG4gICAgICAgIGZvcm1LZXk6IHByb3BzLmZvcm1LZXksXG4gICAgICAgIGRlYnVnOiBwcm9wcy5kZWJ1ZyB8fCBjb250ZXh0LmRlYnVnLFxuICAgICAgICBkeW5hbWljOiBwcm9wcy5keW5hbWljIHx8IGNvbnRleHQuZHluYW1pYyxcbiAgICAgICAgdXBkYXRlUGFyZW50U3RhdGU6IHVwZGF0ZVBhcmVudFN0YXRlKHBhcmVudFN0YXRlLCBzZXRQYXJlbnRTdGF0ZSwgcHJvcHMuZm9ybUtleSksXG4gICAgICAgIHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQ6IHVwZGF0ZVJhZGlvR3JvdXBTdGF0ZUZyb21QYXNzZWRJbkNvbnRleHQocGFyZW50U3RhdGUsIHNldFBhcmVudFN0YXRlLCBwcm9wcy5mb3JtS2V5KSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIFtNRVRBREFUQV9OQU1FUy5JTlBVVFNdOiBuZXcgTWV0YWRhdGE8SUlucHV0RmllbGRNZXRhZGF0YT4oXG4gICAgICAgICAgICAgICAgaW5wdXRTdGF0ZSBhcyB7fSxcbiAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dFN0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLklOUFVUUyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBbTUVUQURBVEFfTkFNRVMuQ0hFQ0tCT1hFU106IG5ldyBNZXRhZGF0YTxJQ2hlY2tCb3hlc01ldGFkYXRhPihcbiAgICAgICAgICAgICAgICBjaGVja2JveGVzU3RhdGUgYXMge30sXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hlY2tib3hlc1N0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLkNIRUNLQk9YRVMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgW01FVEFEQVRBX05BTUVTLkZJTEVTXTogbmV3IE1ldGFkYXRhRmlsZTxJRmlsZU1ldGFEYXRhPihcbiAgICAgICAgICAgICAgICBmaWxlU3RhdGUgYXMge30sXG4gICAgICAgICAgICAgICAgdXBkYXRlRmlsZVN0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLkZJTEVTLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFtNRVRBREFUQV9OQU1FUy5SQURJT19HUk9VUFNdOiBuZXcgTWV0YWRhdGFHcm91cDxJUmFkaW9Hcm91cENoaWxkcmVuPihcbiAgICAgICAgICAgICAgICByYWRpb1N0YXRlIGFzIGFueSxcbiAgICAgICAgICAgICAgICB1cGRhdGVSYWRpb1N0YXRlLFxuICAgICAgICAgICAgICAgIE1FVEFEQVRBX05BTUVTLlJBRElPX0dST1VQUyxcbiAgICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybVByb3ZpZGVyIHZhbHVlPXtfcHJvdmlkZXJDb250ZXh0fT5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQocHJvcHMpfT57cHJvcHMuY2hpbGRyZW59PC9mb3JtPlxuICAgICAgICA8L0Zvcm1Qcm92aWRlcj5cbiAgICApO1xufTtcbiIsImltcG9ydCB7RU1BSUxfUkVHRVh9IGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCB7SUZvcm1Db250ZXh0fSBmcm9tIFwiLi9mb3JtXCI7XG5pbXBvcnQge0lFbWFpbEZpZWxkLCBJRmllbGQsIElQYXNzd29yZEZpZWxkLCBJVGV4dEFyZWFGaWVsZCwgSVRleHRJbnB1dEZpZWxkfSBmcm9tIFwiLi9lbGVtZW50c1wiO1xuXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZhbGlkYXRpb24ge1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG4gICAgbWVzc2FnZXM6IFsuLi5zdHJpbmdbXV07XG59XG4vKiogQGludGVybmFsIFRoZSBpbm5lciByZXR1cm5lZCBmdW5jdGlvbiB0eXBlIHRoYXQgY3VzdG9tIHZhbGlkYXRvcnMgbXVzdCBpbXBsZW1lbnQgKi9cbmV4cG9ydCB0eXBlIElWYWxpZGF0aW9uRnVuY3Rpb24gPSAoLi4uYXJnczogQXJyYXk8YW55PikgPT4gSVZhbGlkYXRpb247XG4vKiogQGludGVybmFsIFRoZSBleHBlY3RlZCB2YWxpZGF0b3IncyB0eXBlIHRoYXQge0BsaW5rIElGaWVsZH0gZWxlbWVudHMgY2FuIGNvbnN1bWUgKi9cbmV4cG9ydCB0eXBlIElWYWxpZGF0b3JzID0gQXJyYXk8SVZhbGlkYXRpb25GdW5jdGlvbj47XG4vKiogQGludGVybmFsIFRoZSBjdXN0b20gdmFsaWRhdG9yIHR5cGUgY2FsbGJhY2sgKi9cbmV4cG9ydCB0eXBlIElDdXN0b21WYWxpZGF0b3JDYWxsYmFjayA9IChhcmc6IGFueSwgZmllbGRWYWx1ZTogYW55LCBjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IEFycmF5PHN0cmluZz58dW5kZWZpbmVkO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgSVZhbGlkYXRpb25WYXJpYWJsZSA9IChhcmc/OiBhbnkpID0+IElWYWxpZGF0aW9uRnVuY3Rpb247XG4vKipcbiAqIFRoZSBgcGFzc3dvcmRLZXlgIGlzIG5vcm1hbGx5IHRoZSBmaXJzdCBwYXNzd29yZCBmb3JtIGZpZWxkIHRoZSB1c2VyIGZpbGxzIGluIGJlZm9yZVxuICogdGhlbiBjb25maXJtaW5nIHRoYXQgdGhlIHBhc3N3b3JkIGlzIGNvcnJlY3Qgd2l0aCBhIGNvbmZpcm0gcGFzc3dvcmQgZmllbGQuIHRoaXMgdmFsaWRhdG9yXG4gKiBjaGVjayB0aGF0IGJvdGggcGFzc3dvcmQgZmllbGRzIGFyZSBlcXVhbCBvciBlbHNlIHdpbGwgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UgYW5kIHNldCB0aGlzXG4gKiBmaWVsZCB0byBpbnZhbGlkLmBcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqICA8UGFzc3dvcmRGaWVsZFxuICogICAgICAvLyBvdGhlciBwcm9wcy4uLlxuICogICAgICBuYW1lPVwibXlQYXNzd29yZFwiXG4gKiAgLz5cbiAqXG4gKiAgPENvbmZpcm1QYXNzd29yZEZpZWxkXG4gKiAgICAgICAgLy8gb3RoZXIgcHJvcHMuLi5cbiAqICAgICAgICB2YWxpZGF0b3JzPXtbYXJlRmllbGRzRXF1YWwoXCJteVBhc3N3b3JkXCIpXX1cbiAqICAgLz5cbiAqICAgLy8gbWVzc2FnZTogRmllbGRzIGRvIG5vdCBtYXRjaFxuICogYGBgXG4gKiBAcGFyYW0gYHBhc3N3b3JkS2V5YCBUaGUgbmFtZSBvZiB0aGUgcGFzc3dvcmQgZm9ybSBlbGVtZW50IHlvdSB3YXRjaCB0byBtYXRjaCBhZ2FpbnN0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGFyZUZpZWxkc0VxdWFsOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChmaWVsZEtleSwgZmllbGRWYWx1ZSwgY29udGV4dDogSUZvcm1Db250ZXh0KSA9PiB7XG4gICAgbGV0IHRlc3RGaWVsZDogSUZpZWxkO1xuICAgIGxldCBtZXNzYWdlID0gW2BGaWVsZHMgZG8gbm90IG1hdGNoYF07XG4gICAgbGV0IGNvbnRleHRTdGF0ZSA9IGdldEZvcm1TdGF0ZUZyb21Db250ZXh0KGNvbnRleHQpO1xuICAgIGlmKGZpZWxkS2V5IGluIGNvbnRleHRTdGF0ZSkge1xuICAgICAgICB0ZXN0RmllbGQgPSBjb250ZXh0U3RhdGVbZmllbGRLZXldO1xuICAgICAgICBpZighdGVzdEZpZWxkIHx8ICFmaWVsZFZhbHVlICB8fCBmaWVsZFZhbHVlICE9PSBjb250ZXh0U3RhdGVbZmllbGRLZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSZWFjdC1CYXJlRm9ybXMgRXJyb3I6IE5vIEZpZWxkIHdpdGggbmFtZSBvZiAke2ZpZWxkS2V5fSBleGlzdHMgd2hlbiBjYWxsaW5nICdhcmVGaWVsZHNFcXVhbCcgYFxuICAgICAgICAgICAgKyBgdmFsaWRhdG9yIGZ1bmN0aW9uLlxcbiBGb3IgbW9yZSBpbmZvLCB2aXNpdDogYFxuICAgICAgICAgICAgKyBgaHR0cHM6Ly9qb2VnYXNld2ljei5naXRodWIuaW8vcmVhY3QtYmFyZS1mb3Jtcy9tb2R1bGVzL192YWxpZGF0b3JzXy5odG1sI2FyZWZpZWxkc2VxdWFsYCxcbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuXG4vKipcbiAqIFRoZSBgaXNGaWVsZEVtcHR5YCB2YWxpZGF0b3IgcGVyZm9ybXMgYSBjb21wYXJpc29uIGFnYWluc3QgYG1pbkxlbmd0aGAgJiB0aGUgZmllbGQgZWxlbWVudFxuICogdmFsdWUuIElmIHRoZXkgYXJlIGVxdWFsIG9yIHRoZSBgbWluTGVuZ3RoYCBpcyBncmVhdGVyIHRoYW4gdGhlIGZvcm0gZWxlbWVudCB2YWx1ZSB0aGVuXG4gKiB0aGlzIGVsZW1lbnQgaXMgbm90IHZhbGlkICYgYSBtZXNzYWdlIGlzIGRpc3BsYXllZC5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RleHRJbnB1dEZpZWxkLCBpc0ZpZWxkRW1wdHl9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiBjb25zdCBzdGF0ZSA9IHsgdXNlcm5hbWU6IFwiXCIgfVxuICogYGBgXG4gKiAgPFRleHRJbnB1dEZpZWxkXG4gKiAgICAgICAgdmFsdWU9e3N0YXRlLnVzZXJuYW1lfVxuICogICAgICAgIG5hbWU9XCJ1c2VybmFtZVwiXG4gKiAgICAgICAgdmFsaWRhdG9ycz17W2lzRmllbGRFbXB0eSg1KV19XG4gKiAgIC8+XG4gKiAgIC8vIG1lc3NhZ2U6IE11c3QgYmUgYXQgbGVhc3QgNSBjaGFyYWN0ZXJzXG4gKiBgYGBcbiAqIEBwYXJhbSBtaW5MZW5ndGggVGhlIG1pbmltdW0gbGVuZ3RoIG9mIHRoZSBmb3JtIGZpZWxkIHZhbHVlXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmllbGRFbXB0eTogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigobWluTGVuZ3RoLCBmaWVsZFZhbHVlLCBjb250ZXh0OiBJRm9ybUNvbnRleHQpID0+IHtcbiAgICBjb25zdCBpc1ZhbGlkID0gKHR5cGVvZiBmaWVsZFZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIGZpZWxkVmFsdWUubGVuZ3RoID49IG1pbkxlbmd0aCk7XG4gICAgaWYoIWlzVmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIFtgTXVzdCBiZSBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyc2BdO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFRoaXMgdmFsaWRhdG9yIGRvZXNuJ3QgcmVxdWlyZSBhbnkgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCBpbi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0VtYWlsRmllbGQsIGlzRW1haWxWYWxpZH0gZnJvbSBcInJlYWN0LWJhc2UtZm9ybXNcIlxuICpcbiAqIGNvbnN0IHN0YXRlID0geyB0ZXJtczogZmFsc2UgfVxuICogYGBgXG4gKiAgPEVtYWlsRmllbGRcbiAqICAgIC8vIG90aGVyIHByb3BzLi4uXG4gKiAgICB2YWxpZGF0b3JzPXtbaXNFbWFpbFZhbGlkKCldfVxuICogIC8+XG4gKiAgLy8gbWVzc2FnZTogTXVzdCBiZSBhIHZhbGlkIGVtYWlsXG4gKiBgYGBcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRW1haWxWYWxpZDogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigoXyAsIGZpZWxkVmFsdWUsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBpc1ZhbGlkID0gRU1BSUxfUkVHRVgudGVzdChTdHJpbmcoZmllbGRWYWx1ZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYoIWlzVmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIFtgTXVzdCBiZSBhIHZhbGlkIGVtYWlsYF07XG4gICAgfVxufSk7XG5cbi8qKlxuICogVGhpcyB2YWxpZGF0b3Igd2lsbCBkaXNwbGF5IHRoZSB3YXJuaW5nIGlmIGEgdXNlciBoYXMgc2VsZWN0ZWQgYSBmaWxlIGJ1dCB0aGVuIHJlc2VsZWN0ZWRcbiAqIG5vdGhpbmcgKGJ5IGNsaWNraW5nIHRoZSBjYW5jZWwgYnV0dG9uIGluIHRoZSBmaWxlIHBvcHVwIHdpbmRvdykuIFRoaXMgdmFsaWRhdG9yIGRvZXNuJ3RcbiAqIHJlcXVpcmUgYW55IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgaW4uXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBpbXBvcnQge2NyZWF0ZUZpbGVSZWYsIEZpbGVGaWVsZCwgaXNGaWxlfSBmcm9tIFwicmVhY3QtYmFyZS1mb3Jtc1wiO1xuICpcbiAqIGNvbnN0IG15RmlsZVJlZiA9IGNyZWF0ZUZpbGVSZWYoKTtcbiAqXG4gKiA8RmlsZUZpZWxkXG4gKiAgICByZWY9e215RmlsZVJlZn1cbiAqICAgIGhpbnQ9XCJNdXN0IGJlIGEgZmlsZVwiXG4gKiAgICBsYWJlbFRleHQ9XCJVcGxvYWQgeW91ciBmaWxlXCJcbiAqICAgIG5hbWU9XCJteUZpbGVUZXN0XCJcbiAqICAgIHZhbGlkYXRvcnM9e1tpc0ZpbGUoKV19XG4gKiAvPlxuICogYGBgXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc0ZpbGU6IElWYWxpZGF0aW9uVmFyaWFibGUgPSBjdXN0b21WYWxpZGF0b3IoKF8sIG5hbWUsIGNvbnRleHQpID0+IHtcbiAgICBpZighbmFtZSkge1xuICAgICAgICByZXR1cm4gW2BNdXN0IGJlIGEgZmlsZSB0eXBlYF07XG4gICAgfVxufSk7XG5cbi8qKlxuICogVG8gdXNlIHRoZSBgaXNSYWRpb0NoZWNrZWRgLCBzZWxlY3QgdGhlIGBSYWRpb0ZpZWxkYCBjb21wb25lbnQgeW91IHdpc2ggdGhlIHVzZXIgdG8gc2VsZWN0XG4gKiAmIGFkZCB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uIHRvIHRoZSBgdmFsaWRhdG9yc2AgcHJvcC4gVGhpcyB3aWxsIG5vdyBkaXNwbGF5IGEgd2FybmluZyBpZlxuICogdGhlIHVzZXIgaGFzIGRlc2VsZWN0ZWQgdGhlIHJlcXVpcmVkIG9wdGlvbi4gVGhpcyB2YWxpZGF0b3IgZG9lc24ndFxuICogcmVxdWlyZSBhbnkgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCBpbi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1JhZGlvR3JvdXAsIFJhZGlvRmllbGR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiBjb25zdCBzdGF0ZSA9IHsgbWFsZTogdHJ1ZSwgZmVtYWxlOiBmYWxzZSB9XG4gKlxuICogPFJhZGlvR3JvdXAgbmFtZT1cImdyb3VwMVwiPlxuICogICAgIDxSYWRpb0ZpZWxkXG4gKiAgICAgICBuYW1lPVwibWFsZVwiXG4gKiAgICAgICBjaGVja2VkPXtzdGF0ZS5mZW1hbGV9XG4gKiAgICAgICB2YWxpZGF0b3JzPXtbaXNSYWRpb0NoZWNrZWQoKV19XG4gKiAgICAvPlxuICogICAgPFJhZGlvRmllbGRcbiAqICAgICAgIG5hbWU9XCJmZW1hbGVcIlxuICogICAgICAgY2hlY2tlZD17c3RhdGUuZmVtYWxlfVxuICogICAgLz5cbiAqIDwvUmFkaW9Hcm91cD5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmFkaW9DaGVja2VkOiBJVmFsaWRhdGlvblZhcmlhYmxlID0gY3VzdG9tVmFsaWRhdG9yKChfICwgdmFsdWUsIGNvbnRleHQpID0+IHtcbiAgICBpZighdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtgVGhpcyBvcHRpb24gbXVzdCBiZSBzZWxlY3RlZGBdO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFRoZSBgaXNDaGVja2VkYCB2YWxpZGF0b3Igd2lsbCBkaXNwbGF5IGEgd2FybmluZyBpZiB0aGUgdXNlciBoYXMgc2VsZWN0ZWQgdGhlIGNoZWNrYm94ICZcbiAqIHRoZW4gZGVzZWxlY3RlZCBpdC4gVGhpcyByZXF1aXJlcyBhICpib29sZWFuKiB0eXBlIHRvIGJlIHNldCBpbiB5b3VyIHN0YXRlLCBzZWUgYmVsb3cuXG4gKiBUaGlzIHZhbGlkYXRvciBkb2Vzbid0IHJlcXVpcmUgYW55IGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgaW4uXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtDaGVja0JveEZpZWxkLCBpc0NoZWNrZWR9IGZyb20gXCJyZWFjdC1iYXNlLWZvcm1zXCJcbiAqXG4gKiBjb25zdCBzdGF0ZSA9IHsgdGVybXM6IGZhbHNlIH1cbiAqXG4gKiA8Q2hlY2tCb3hGaWVsZFxuICogICAgbmFtZT1cInRlcm1zXCJcbiAqICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUudGVybXN9XG4gKiAgICB2YWxpZGF0b3JzPXtbaXNDaGVja2VkKCldfVxuICogLz5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ2hlY2tlZDogSVZhbGlkYXRpb25WYXJpYWJsZSA9IGN1c3RvbVZhbGlkYXRvcigoXywgZmllbGRWYWx1ZSwgY29udGV4dCkgPT4ge1xuICAgIGlmKGZpZWxkVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBbYE11c3QgYmUgY2hlY2tlZGBdO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjYWxsYmFjayB3aGljaCBjb250YWlucyB0aGUgY2FsbGVycyBvd24gdmFsaWRhdGlvbiBsb2dpY1xuICogJiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZyhzKSB3aGljaCBhcmUgdGhlIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZSBvciAqdW5kZWZpbmVkKi4gQmVsb3cgaXMgYW5cbiAqIGV4YW1wbGUgb2YgY3JlYXRpbmcgYSBjdXN0b20gdmFsaWRhdG9yIHRvIHRlc3QgaWYgYSBmaWVsZCBoYXMgYSBzdHJpbmcgbGVuZ3RoIG9mIG50aC5cbiAqXG4gKiBUaGVyZSBhcmUgMyBhcmd1bWVudHMgYXZhaWxhYmxlIHRvIHlvdXIgY3VzdG9tIHZhbGlkYXRpb24gY2FsbGJhY2s6XG4gKiAgLSAqKmFyZyoqIFRoaXMgaXMgdGhlIHlvdXIgb3duIHZhbHVlIHVzZWQgdG8gaW4gdGhlIHZhbGlkYXRpb24gY29tcGFyaXNvblxuICogIEBleGFtcGxlXG4gKiAgYGBgXG4gKiAgY29uc3QgbXlBcmcgPSA1O2BcbiAqXG4gKiAgPFRleHRJbnB1dEZpZWxkXG4gKiAgICAvLyBvdGhlciBwcm9wcy4uLlxuICogICAgdmFsaWRhdG9ycz17W215VmFsaWRhdG9yKG15QXJnKV19IC8vIDwtIGBteUFyZ2BcbiAqICAvPlxuICogYGBgXG4gKiAgLSAqKmZpZWxkVmFsdWUqKiBUaGlzIGlzIHRoZSBjdXJyZW50IGZvcm0gZWxlbWVudCB2YWx1ZSBiZWluZyBwYXNzZWQgdG8gdGhlIHZhbGlkYXRvclxuICogIC0gKipjb250ZXh0KiogVGhpcyBpcyB0aGUgY29udGV4dCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgc3RhdGVcbiAqIEZvciBleGFtcGxlOlxuICogQGV4YW1wbGVcbiAqIGBgYGBcbiAqIGNvbnN0IGlzRmllbGRFbXB0eSA9IGNyZWF0ZVZhbGlkYXRvcigobWluTGVuZ3RoLCBmaWVsZFZhbHVlLCBjb250ZXh0KSA9PiB7XG4gKiAgICAgY29uc3QgaXNWYWxpZCA9IChmaWVsZFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpO1xuICogICAgIGlmKCFpc1ZhbGlkKSB7XG4gKiAgICAgICAgIHJldHVybiBbYE11c3QgYmUgYXQgbGVhc3QgJHttaW5MZW5ndGh9IGNoYXJhY3RlcnNgXTtcbiAqICAgICB9XG4gKiB9KTtcbiAqIGBgYGBcbiAqIFlvdSBvbmx5IG5lZWQgdG8gcmV0dXJuIHR5cGUgYW4gYXJyYXkgb2Ygc3RyaW5nKHMpICh3aGljaCBpcyB5b3VyIHZhbGlkYXRpb24gbWVzc2FnZSlcbiAqIGlmIHRoZSBgZmllbGRWYWx1ZWBpcyAqKk5PVCoqIHZhbGlkYXRlZC5cbiAqIEBwYXJhbSBjYWxsYmFja1xuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21WYWxpZGF0b3IoY2FsbGJhY2s6IElDdXN0b21WYWxpZGF0b3JDYWxsYmFjayk6IChhcmc6IGFueSkgPT4gSVZhbGlkYXRpb25GdW5jdGlvbiAge1xuICAgIHJldHVybiAoYXJnOiBhbnkgPSBudWxsKTogSVZhbGlkYXRpb25GdW5jdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uYXJnczogQXJyYXk8YW55PikgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyBjdXN0b20gZXhjZXB0aW9ucyBmb3IgdGhlIGJlbG93IGFyZ3NcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkVmFsdWU6IGFueSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0OiBJRm9ybUNvbnRleHQgPSBhcmdzWzFdO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBjYWxsYmFjayhhcmcsIGZpZWxkVmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgbGV0IHZhbGlkYXRpb25EYXRhO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZXMpICYmIG1lc3NhZ2VzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25EYXRhO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgY29ycmVjdCBzdGF0ZSBmcm9tIHRoZSBjb250ZXh0IG9iamVjdCB3aXRoaW4gYSB2YWxpZGF0b3I6XG4gKiAgLSAqKmFyZyoqIGNvbnRleHQge0lGb3JtQ29udGV4dH1cbiAqICBAZXhhbXBsZVxuICogIGBgYFxuICogIGxldCBjb250ZXh0U3RhdGUgPSBnZXRGb3JtU3RhdGVGcm9tQ29udGV4dChjb250ZXh0KTtcbiAqIGBgYFxuICogQHBhcmFtIGNvbnRleHRcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybVN0YXRlRnJvbUNvbnRleHQoY29udGV4dDogSUZvcm1Db250ZXh0KSB7XG4gICAgaWYoY29udGV4dC5mb3JtS2V5KSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnN0YXRlW2NvbnRleHQuZm9ybUtleV07XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LnN0YXRlO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==